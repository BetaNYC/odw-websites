/*! For license information please see vendor.5aff2dd295778a95917a.web.js.LICENSE.txt */
(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[4736],{3558:function(i,d,p){i.exports=function(i){"use strict";function t(i){return i&&"object"==typeof i&&"default"in i?i:{default:i}}var d=t(i);function o(i,d,p,v){return new(p||(p=Promise))((function(S,T){function s(i){try{l(v.next(i))}catch(i){T(i)}}function r(i){try{l(v.throw(i))}catch(i){T(i)}}function l(i){var d;i.done?S(i.value):(d=i.value,d instanceof p?d:new p((function(i){i(d)}))).then(s,r)}l((v=v.apply(i,d||[])).next())}))}let v={};function a(i){const d=v[i];if(d)return d;const p=new Promise(((d,p)=>{const S=document.createElement("script");S.src=i,S.async=!0;const a=()=>{d()},s=()=>{S.removeEventListener("load",a),S.removeEventListener("error",s),delete v[i],S.remove(),p(new Error("Unable to load script "+i))};S.addEventListener("load",a),S.addEventListener("error",s),document.body.appendChild(S)}));return v[i]=p,p}class s{constructor(i){this.handleClick=i=>o(this,void 0,void 0,(function*(){const d=this.config;if(!d)throw new Error("google-pay-button: Missing configuration");const p=this.createLoadPaymentDataRequest(d);try{if(d.onClick&&d.onClick(i),i.defaultPrevented)return;const v=yield this.client.loadPaymentData(p);d.onLoadPaymentData&&d.onLoadPaymentData(v)}catch(i){"CANCELED"===i.statusCode?d.onCancel&&d.onCancel(i):d.onError?d.onError(i):console.error(i)}})),this.options=i}getElement(){return this.element}isGooglePayLoaded(){var i,d;return"google"in(window||p.g)&&!!(null===(d=null===(i=null===google||void 0===google?void 0:google.payments)||void 0===i?void 0:i.api)||void 0===d?void 0:d.PaymentsClient)}mount(i){return o(this,void 0,void 0,(function*(){this.isGooglePayLoaded()||(yield a("https://pay.google.com/gp/p/js/pay.js")),this.element=i,i&&(this.appendStyles(),this.config&&this.updateElement())}))}unmount(){this.element=void 0}configure(i){let d;return this.config=i,this.oldInvalidationValues&&!this.isClientInvalidated(i)||(d=this.updateElement()),this.oldInvalidationValues=this.getInvalidationValues(i),null!=d?d:Promise.resolve()}createClientOptions(i){const d={environment:i.environment,merchantInfo:this.createMerchantInfo(i)};return(i.onPaymentDataChanged||i.onPaymentAuthorized)&&(d.paymentDataCallbacks={},i.onPaymentDataChanged&&(d.paymentDataCallbacks.onPaymentDataChanged=d=>i.onPaymentDataChanged(d)||{}),i.onPaymentAuthorized&&(d.paymentDataCallbacks.onPaymentAuthorized=d=>i.onPaymentAuthorized(d)||{})),d}createIsReadyToPayRequest(i){const d=i.paymentRequest;return{apiVersion:d.apiVersion,apiVersionMinor:d.apiVersionMinor,allowedPaymentMethods:d.allowedPaymentMethods,existingPaymentMethodRequired:i.existingPaymentMethodRequired}}createLoadPaymentDataRequest(i){return Object.assign(Object.assign({},i.paymentRequest),{merchantInfo:this.createMerchantInfo(i)})}createMerchantInfo(i){const d=Object.assign({},i.paymentRequest.merchantInfo);return d.softwareInfo||(d.softwareInfo={id:this.options.softwareInfoId,version:this.options.softwareInfoVersion}),d}isMounted(){return null!=this.element&&!1!==this.element.isConnected}removeButton(){if(this.element instanceof ShadowRoot||this.element instanceof Element)for(const i of Array.from(this.element.children))"STYLE"!==i.tagName&&i.remove()}updateElement(){return o(this,void 0,void 0,(function*(){if(!this.isMounted())return;const i=this.getElement();if(!this.config)throw new Error("google-pay-button: Missing configuration");this.removeButton(),this.client=new google.payments.api.PaymentsClient(this.createClientOptions(this.config));const d={buttonType:this.config.buttonType,buttonColor:this.config.buttonColor,buttonSizeMode:this.config.buttonSizeMode,buttonLocale:this.config.buttonLocale,onClick:this.handleClick,allowedPaymentMethods:this.config.paymentRequest.allowedPaymentMethods},p=i.getRootNode();p instanceof ShadowRoot&&(d.buttonRootNode=p);const v=this.client.createButton(d);this.setClassName(i,[i.className,"not-ready"]),i.appendChild(v);let S,T=!1;try{S=yield this.client.isReadyToPay(this.createIsReadyToPayRequest(this.config)),T=S.result&&!this.config.existingPaymentMethodRequired||S.result&&S.paymentMethodPresent&&this.config.existingPaymentMethodRequired||!1}catch(i){this.config.onError?this.config.onError(i):console.error(i)}if(this.isMounted()){if(T){try{this.client.prefetchPaymentData(this.createLoadPaymentDataRequest(this.config))}catch(i){console.log("Error with prefetch",i)}this.setClassName(i,(i.className||"").split(" ").filter((i=>i&&"not-ready"!==i)))}if((this.isReadyToPay!==(null==S?void 0:S.result)||this.paymentMethodPresent!==(null==S?void 0:S.paymentMethodPresent))&&(this.isReadyToPay=!!(null==S?void 0:S.result),this.paymentMethodPresent=null==S?void 0:S.paymentMethodPresent,this.config.onReadyToPayChange)){const i={isButtonVisible:T,isReadyToPay:this.isReadyToPay};this.paymentMethodPresent&&(i.paymentMethodPresent=this.paymentMethodPresent),this.config.onReadyToPayChange(i)}}}))}setClassName(i,d){const p=d.filter((i=>i)).join(" ");p?i.className=p:i.removeAttribute("class")}appendStyles(){var i,d,p;if("undefined"==typeof document)return;const v=null===(i=this.element)||void 0===i?void 0:i.getRootNode(),S=`default-google-style-${this.options.cssSelector.replace(/[^\w-]+/g,"")}-${null===(d=this.config)||void 0===d?void 0:d.buttonLocale}`;if(v&&!(null===(p=v.getElementById)||void 0===p?void 0:p.call(v,S))){const i=document.createElement("style");i.id=S,i.type="text/css",i.innerHTML=`\n          ${this.options.cssSelector} {\n            display: inline-block;\n          }\n          ${this.options.cssSelector}.not-ready {\n            width: 0;\n            height: 0;\n            overflow: hidden;\n          }\n        `,v instanceof Document&&v.head?v.head.appendChild(i):v.appendChild(i)}}isClientInvalidated(i){return!this.oldInvalidationValues||this.getInvalidationValues(i).some(((i,d)=>i!==this.oldInvalidationValues[d]))}getInvalidationValues(i){var d,p;return[i.environment,i.existingPaymentMethodRequired,!!i.onPaymentDataChanged,!!i.onPaymentAuthorized,i.buttonColor,i.buttonType,i.buttonLocale,i.buttonSizeMode,i.paymentRequest.merchantInfo.merchantId,i.paymentRequest.merchantInfo.merchantName,null===(d=i.paymentRequest.merchantInfo.softwareInfo)||void 0===d?void 0:d.id,null===(p=i.paymentRequest.merchantInfo.softwareInfo)||void 0===p?void 0:p.version,i.paymentRequest.allowedPaymentMethods]}}const S="google-pay-button-container";class l extends d.default.Component{constructor(){super(...arguments),this.manager=new s({cssSelector:"."+S,softwareInfoId:"@google-pay/button-react",softwareInfoVersion:"3.0.0"}),this.elementRef=d.default.createRef()}componentDidMount(){return o(this,void 0,void 0,(function*(){const i=this.elementRef.current;i&&(yield this.manager.mount(i),this.manager.configure(this.props))}))}componentWillUnmount(){this.manager.unmount()}componentDidUpdate(){this.manager.configure(this.props)}render(){return d.default.createElement("div",{ref:this.elementRef,className:[S,this.props.className].filter((i=>i)).join(" "),style:this.props.style})}}return l}(p(85351))},43708:(i,d,p)=>{"use strict";p.d(d,{ZP:()=>Q,TA:()=>loadableReady});var v=p(85351),S=p.n(v);function _objectWithoutPropertiesLoose(i,d){if(null==i)return{};var p,v,S={},T=Object.keys(i);for(v=0;v<T.length;v++)p=T[v],d.indexOf(p)>=0||(S[p]=i[p]);return S}function _extends(){return _extends=Object.assign||function(i){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(i[v]=p[v])}return i},_extends.apply(this,arguments)}var T=p(97326),O=p(94578),I=p(59864),N=p(8679),R=p.n(N);function invariant(i,d){if(!i){var p=new Error("loadable: "+d);throw p.framesToPop=1,p.name="Invariant Violation",p}}function warn(i){console.warn("loadable: "+i)}var P=S().createContext();function getRequiredChunkKey(i){return i+"__LOADABLE_REQUIRED_CHUNKS__"}var k={initialChunks:{}},L="PENDING",M="REJECTED";var F=function identity(i){return i};function createLoadable(i){var d=i.defaultResolveComponent,p=void 0===d?F:d,v=i.render,N=i.onLoad;function loadable(i,d){void 0===d&&(d={});var F=function resolveConstructor(i){return"function"==typeof i?{requireAsync:i,resolve:function resolve(){},chunkName:function chunkName(){}}:i}(i),U={};function _getCacheKey(i){return d.cacheKey?d.cacheKey(i):F.resolve?F.resolve(i):"static"}function resolve(i,v,S){var T=d.resolveComponent?d.resolveComponent(i,v):p(i);if(d.resolveComponent&&!(0,I.isValidElementType)(T))throw new Error("resolveComponent returned something that is not a React component!");return R()(S,T,{preload:!0}),T}var j=function cachedLoad(i){var d=_getCacheKey(i),p=U[d];return p&&p.status!==M||((p=F.requireAsync(i)).status=L,U[d]=p,p.then((function(){p.status="RESOLVED"}),(function(d){console.error("loadable-components: failed to asynchronously load component",{fileName:F.resolve(i),chunkName:F.chunkName(i),error:d?d.message:d}),p.status=M}))),p},H=function withChunkExtractor(i){var d=function LoadableWithChunkExtractor(d){return S().createElement(P.Consumer,null,(function(p){return S().createElement(i,Object.assign({__chunkExtractor:p},d))}))};return i.displayName&&(d.displayName=i.displayName+"WithChunkExtractor"),d}(function(i){function InnerLoadable(p){var v;return(v=i.call(this,p)||this).state={result:null,error:null,loading:!0,cacheKey:_getCacheKey(p)},invariant(!p.__chunkExtractor||F.requireSync,"SSR requires `@loadable/babel-plugin`, please install it"),p.__chunkExtractor?(!1===d.ssr||(F.requireAsync(p).catch((function(){return null})),v.loadSync(),p.__chunkExtractor.addChunk(F.chunkName(p))),(0,T.Z)(v)):(!1!==d.ssr&&(F.isReady&&F.isReady(p)||F.chunkName&&k.initialChunks[F.chunkName(p)])&&v.loadSync(),v)}(0,O.Z)(InnerLoadable,i),InnerLoadable.getDerivedStateFromProps=function getDerivedStateFromProps(i,d){var p=_getCacheKey(i);return _extends({},d,{cacheKey:p,loading:d.loading||d.cacheKey!==p})};var p=InnerLoadable.prototype;return p.componentDidMount=function componentDidMount(){this.mounted=!0;var i=this.getCache();i&&i.status===M&&this.setCache(),this.state.loading&&this.loadAsync()},p.componentDidUpdate=function componentDidUpdate(i,d){d.cacheKey!==this.state.cacheKey&&this.loadAsync()},p.componentWillUnmount=function componentWillUnmount(){this.mounted=!1},p.safeSetState=function safeSetState(i,d){this.mounted&&this.setState(i,d)},p.getCacheKey=function getCacheKey(){return _getCacheKey(this.props)},p.getCache=function getCache(){return U[this.getCacheKey()]},p.setCache=function setCache(i){void 0===i&&(i=void 0),U[this.getCacheKey()]=i},p.triggerOnLoad=function triggerOnLoad(){var i=this;N&&setTimeout((function(){N(i.state.result,i.props)}))},p.loadSync=function loadSync(){if(this.state.loading)try{var i=resolve(F.requireSync(this.props),this.props,V);this.state.result=i,this.state.loading=!1}catch(i){console.error("loadable-components: failed to synchronously load component, which expected to be available",{fileName:F.resolve(this.props),chunkName:F.chunkName(this.props),error:i?i.message:i}),this.state.error=i}},p.loadAsync=function loadAsync(){var i=this,d=this.resolveAsync();return d.then((function(d){var p=resolve(d,i.props,V);i.safeSetState({result:p,loading:!1},(function(){return i.triggerOnLoad()}))})).catch((function(d){return i.safeSetState({error:d,loading:!1})})),d},p.resolveAsync=function resolveAsync(){var i=this.props,d=(i.__chunkExtractor,i.forwardedRef,_objectWithoutPropertiesLoose(i,["__chunkExtractor","forwardedRef"]));return j(d)},p.render=function render(){var i=this.props,p=i.forwardedRef,S=i.fallback,T=(i.__chunkExtractor,_objectWithoutPropertiesLoose(i,["forwardedRef","fallback","__chunkExtractor"])),O=this.state,I=O.error,N=O.loading,R=O.result;if(d.suspense&&(this.getCache()||this.loadAsync()).status===L)throw this.loadAsync();if(I)throw I;var P=S||d.fallback||null;return N?P:v({fallback:P,result:R,options:d,props:_extends({},T,{ref:p})})},InnerLoadable}(S().Component)),V=S().forwardRef((function(i,d){return S().createElement(H,Object.assign({forwardedRef:d},i))}));return V.displayName="Loadable",V.preload=function(i){V.load(i)},V.load=function(i){return j(i)},V}return{loadable,lazy:function lazy(i,d){return loadable(i,_extends({},d,{suspense:!0}))}}}var U=createLoadable({defaultResolveComponent:function defaultResolveComponent(i){return i.__esModule?i.default:i.default||i},render:function render(i){var d=i.result,p=i.props;return S().createElement(d,p)}}),j=U.loadable,H=U.lazy,V=createLoadable({onLoad:function onLoad(i,d){i&&d.forwardedRef&&("function"==typeof d.forwardedRef?d.forwardedRef(i):d.forwardedRef.current=i)},render:function render(i){var d=i.result,p=i.props;return p.children?p.children(d):null}}),Y=V.loadable,G=V.lazy,W="undefined"!=typeof window;function loadableReady(i,d){void 0===i&&(i=function done(){});var p=void 0===d?{}:d,v=p.namespace,S=void 0===v?"":v,T=p.chunkLoadingGlobal,O=void 0===T?"__LOADABLE_LOADED_CHUNKS__":T;if(!W)return warn("`loadableReady()` must be called in browser only"),i(),Promise.resolve();var I=null;if(W){var N=getRequiredChunkKey(S),R=document.getElementById(N);if(R){I=JSON.parse(R.textContent);var P=document.getElementById(N+"_ext");if(!P)throw new Error("loadable-component: @loadable/server does not match @loadable/component");JSON.parse(P.textContent).namedChunks.forEach((function(i){k.initialChunks[i]=!0}))}}if(!I)return warn("`loadableReady()` requires state, please use `getScriptTags` or `getScriptElements` server-side"),i(),Promise.resolve();var L=!1;return new Promise((function(i){window[O]=window[O]||[];var d=window[O],p=d.push.bind(d);function checkReadyState(){I.every((function(i){return d.some((function(d){return d[0].indexOf(i)>-1}))}))&&(L||(L=!0,i()))}d.push=function(){p.apply(void 0,arguments),checkReadyState()},checkReadyState()})).then(i)}var q=j;q.lib=Y,H.lib=G;const Q=q},561:(i,d,p)=>{"use strict";p.d(d,{R:()=>ie});var v=p(66856),S=p(51421),T=p(46769),O=p(30292),I=p(62844),N=p(12343),R=p(67597),P=p(68518),k=p(96893),L=p(21170),M=p(62470),F=p(57321),U=p(88266),j=p(38641),H=[];function filterDuplicates(i){return i.reduce((function(i,d){return i.every((function(i){return d.name!==i.name}))&&i.push(d),i}),[])}function setupIntegrations(i){var d={};return function getIntegrationsToSetup(i){var d=i.defaultIntegrations&&(0,S.fl)(i.defaultIntegrations)||[],p=i.integrations,v=(0,S.fl)(filterDuplicates(d));Array.isArray(p)?v=(0,S.fl)(v.filter((function(i){return p.every((function(d){return d.name!==i.name}))})),filterDuplicates(p)):"function"==typeof p&&(v=p(v),v=Array.isArray(v)?v:[v]);var T=v.map((function(i){return i.name})),O="Debug";return-1!==T.indexOf(O)&&v.push.apply(v,(0,S.fl)(v.splice(T.indexOf(O),1))),v}(i).forEach((function(i){d[i.name]=i,function setupIntegration(i){-1===H.indexOf(i.name)&&(i.setupOnce(T.c,j.Gd),H.push(i.name),N.k.log("Integration installed: "+i.name))}(i)})),(0,M.xp)(d,"initialized",!0),d}var V="Not capturing exception because it's already been captured.",Y=function(){function BaseClient(i,d){this._integrations={},this._numProcessing=0,this._backend=new i(d),this._options=d,d.dsn&&(this._dsn=(0,O.v)(d.dsn))}return BaseClient.prototype.captureException=function(i,d,p){var v=this;if(!(0,I.YO)(i)){var S=d&&d.event_id;return this._process(this._getBackend().eventFromException(i,d).then((function(i){return v._captureEvent(i,d,p)})).then((function(i){S=i}))),S}N.k.log(V)},BaseClient.prototype.captureMessage=function(i,d,p,v){var S=this,T=p&&p.event_id,O=(0,R.pt)(i)?this._getBackend().eventFromMessage(String(i),d,p):this._getBackend().eventFromException(i,p);return this._process(O.then((function(i){return S._captureEvent(i,p,v)})).then((function(i){T=i}))),T},BaseClient.prototype.captureEvent=function(i,d,p){if(!(d&&d.originalException&&(0,I.YO)(d.originalException))){var v=d&&d.event_id;return this._process(this._captureEvent(i,d,p).then((function(i){v=i}))),v}N.k.log(V)},BaseClient.prototype.captureSession=function(i){this._isEnabled()?"string"!=typeof i.release?(0,P.c)()&&N.k.warn("Discarded session because of missing or non-string release"):(this._sendSession(i),i.update({init:!1})):(0,P.c)()&&N.k.warn("SDK not enabled, will not capture session.")},BaseClient.prototype.getDsn=function(){return this._dsn},BaseClient.prototype.getOptions=function(){return this._options},BaseClient.prototype.getTransport=function(){return this._getBackend().getTransport()},BaseClient.prototype.flush=function(i){var d=this;return this._isClientDoneProcessing(i).then((function(p){return d.getTransport().close(i).then((function(i){return p&&i}))}))},BaseClient.prototype.close=function(i){var d=this;return this.flush(i).then((function(i){return d.getOptions().enabled=!1,i}))},BaseClient.prototype.setupIntegrations=function(){this._isEnabled()&&!this._integrations.initialized&&(this._integrations=setupIntegrations(this._options))},BaseClient.prototype.getIntegration=function(i){try{return this._integrations[i.id]||null}catch(d){return N.k.warn("Cannot retrieve integration "+i.id+" from the current Client"),null}},BaseClient.prototype._updateSessionFromEvent=function(i,d){var p,v,T=!1,O=!1,I=d.exception&&d.exception.values;if(I){O=!0;try{for(var N=(0,S.XA)(I),R=N.next();!R.done;R=N.next()){var P=R.value.mechanism;if(P&&!1===P.handled){T=!0;break}}}catch(i){p={error:i}}finally{try{R&&!R.done&&(v=N.return)&&v.call(N)}finally{if(p)throw p.error}}}var k="ok"===i.status;(k&&0===i.errors||k&&T)&&(i.update((0,S.pi)((0,S.pi)({},T&&{status:"crashed"}),{errors:i.errors||Number(O||T)})),this.captureSession(i))},BaseClient.prototype._sendSession=function(i){this._getBackend().sendSession(i)},BaseClient.prototype._isClientDoneProcessing=function(i){var d=this;return new k.cW((function(p){var v=0,S=setInterval((function(){0==d._numProcessing?(clearInterval(S),p(!0)):(v+=1,i&&v>=i&&(clearInterval(S),p(!1)))}),1)}))},BaseClient.prototype._getBackend=function(){return this._backend},BaseClient.prototype._isEnabled=function(){return!1!==this.getOptions().enabled&&void 0!==this._dsn},BaseClient.prototype._prepareEvent=function(i,d,p){var v=this,O=this.getOptions().normalizeDepth,N=void 0===O?3:O,R=(0,S.pi)((0,S.pi)({},i),{event_id:i.event_id||(p&&p.event_id?p.event_id:(0,I.DM)()),timestamp:i.timestamp||(0,L.yW)()});this._applyClientOptions(R),this._applyIntegrationsMetadata(R);var P=d;p&&p.captureContext&&(P=T.s.clone(P).update(p.captureContext));var F=(0,k.WD)(R);return P&&(F=P.applyToEvent(R,p)),F.then((function(i){return i&&(i.sdkProcessingMetadata=(0,S.pi)((0,S.pi)({},i.sdkProcessingMetadata),{normalizeDepth:(0,M.Fv)(N)})),"number"==typeof N&&N>0?v._normalizeEvent(i,N):i}))},BaseClient.prototype._normalizeEvent=function(i,d){if(!i)return null;var p=(0,S.pi)((0,S.pi)((0,S.pi)((0,S.pi)((0,S.pi)({},i),i.breadcrumbs&&{breadcrumbs:i.breadcrumbs.map((function(i){return(0,S.pi)((0,S.pi)({},i),i.data&&{data:(0,M.Fv)(i.data,d)})}))}),i.user&&{user:(0,M.Fv)(i.user,d)}),i.contexts&&{contexts:(0,M.Fv)(i.contexts,d)}),i.extra&&{extra:(0,M.Fv)(i.extra,d)});return i.contexts&&i.contexts.trace&&(p.contexts.trace=i.contexts.trace),i.sdkProcessingMetadata=(0,S.pi)((0,S.pi)({},i.sdkProcessingMetadata),{baseClientNormalized:!0}),p},BaseClient.prototype._applyClientOptions=function(i){var d=this.getOptions(),p=d.environment,v=d.release,S=d.dist,T=d.maxValueLength,O=void 0===T?250:T;"environment"in i||(i.environment="environment"in d?p:"production"),void 0===i.release&&void 0!==v&&(i.release=v),void 0===i.dist&&void 0!==S&&(i.dist=S),i.message&&(i.message=(0,F.$G)(i.message,O));var I=i.exception&&i.exception.values&&i.exception.values[0];I&&I.value&&(I.value=(0,F.$G)(I.value,O));var N=i.request;N&&N.url&&(N.url=(0,F.$G)(N.url,O))},BaseClient.prototype._applyIntegrationsMetadata=function(i){var d=Object.keys(this._integrations);d.length>0&&(i.sdk=i.sdk||{},i.sdk.integrations=(0,S.fl)(i.sdk.integrations||[],d))},BaseClient.prototype._sendEvent=function(i){this._getBackend().sendEvent(i)},BaseClient.prototype._captureEvent=function(i,d,p){return this._processEvent(i,d,p).then((function(i){return i.event_id}),(function(i){N.k.error(i)}))},BaseClient.prototype._processEvent=function(i,d,p){var v=this,S=this.getOptions(),T=S.beforeSend,O=S.sampleRate,I=this.getTransport();function recordLostEvent(i,d){I.recordLostEvent&&I.recordLostEvent(i,d)}if(!this._isEnabled())return(0,k.$2)(new U.b("SDK not enabled, will not capture event."));var N="transaction"===i.type;return!N&&"number"==typeof O&&Math.random()>O?(recordLostEvent("sample_rate","event"),(0,k.$2)(new U.b("Discarding event because it's not included in the random sample (sampling rate = "+O+")"))):this._prepareEvent(i,p,d).then((function(p){if(null===p)throw recordLostEvent("event_processor",i.type||"event"),new U.b("An event processor returned null, will not send event.");return d&&d.data&&!0===d.data.__sentry__||N||!T?p:function _ensureBeforeSendRv(i){var d="`beforeSend` method has to return `null` or a valid event.";if((0,R.J8)(i))return i.then((function(i){if(!(0,R.PO)(i)&&null!==i)throw new U.b(d);return i}),(function(i){throw new U.b("beforeSend rejected with "+i)}));if(!(0,R.PO)(i)&&null!==i)throw new U.b(d);return i}(T(p,d))})).then((function(d){if(null===d)throw recordLostEvent("before_send",i.type||"event"),new U.b("`beforeSend` returned `null`, will not send event.");var S=p&&p.getSession&&p.getSession();return!N&&S&&v._updateSessionFromEvent(S,d),v._sendEvent(d),d})).then(null,(function(i){if(i instanceof U.b)throw i;throw v.captureException(i,{data:{__sentry__:!0},originalException:i}),new U.b("Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.\nReason: "+i)}))},BaseClient.prototype._process=function(i){var d=this;this._numProcessing+=1,i.then((function(i){return d._numProcessing-=1,i}),(function(i){return d._numProcessing-=1,i}))},BaseClient}();var G=p(40105),W=p(82991),q=function(){function NoopTransport(){}return NoopTransport.prototype.sendEvent=function(i){return(0,k.WD)({reason:"NoopTransport: Event has been skipped because no Dsn is configured.",status:"skipped"})},NoopTransport.prototype.close=function(i){return(0,k.WD)(!0)},NoopTransport}(),Q=function(){function BaseBackend(i){this._options=i,this._options.dsn||N.k.warn("No DSN provided, backend will not do anything."),this._transport=this._setupTransport()}return BaseBackend.prototype.eventFromException=function(i,d){throw new U.b("Backend has to implement `eventFromException` method")},BaseBackend.prototype.eventFromMessage=function(i,d,p){throw new U.b("Backend has to implement `eventFromMessage` method")},BaseBackend.prototype.sendEvent=function(i){this._transport.sendEvent(i).then(null,(function(i){(0,P.c)()&&N.k.error("Error while sending event: "+i)}))},BaseBackend.prototype.sendSession=function(i){this._transport.sendSession?this._transport.sendSession(i).then(null,(function(i){(0,P.c)()&&N.k.error("Error while sending session: "+i)})):(0,P.c)()&&N.k.warn("Dropping session because custom transport doesn't implement sendSession")},BaseBackend.prototype.getTransport=function(){return this._transport},BaseBackend.prototype._setupTransport=function(){return new q},BaseBackend}(),X=p(13819),Z=p(8823),J=p(84773),$=p(68690),ee=p(68131),te=function(i){function BrowserBackend(){return null!==i&&i.apply(this,arguments)||this}return(0,v.ZT)(BrowserBackend,i),BrowserBackend.prototype.eventFromException=function(i,d){return(0,J.dr)(this._options,i,d)},BrowserBackend.prototype.eventFromMessage=function(i,d,p){return void 0===d&&(d=X.z.Info),(0,J.aB)(this._options,i,d,p)},BrowserBackend.prototype._setupTransport=function(){if(!this._options.dsn)return i.prototype._setupTransport.call(this);var d=(0,v.pi)((0,v.pi)({},this._options.transportOptions),{dsn:this._options.dsn,tunnel:this._options.tunnel,sendClientReports:this._options.sendClientReports,_metadata:this._options._metadata});return this._options.transport?new this._options.transport(d):(0,Z.Ak)()?new $.V(d):new ee.w(d)},BrowserBackend}(Q),ne=p(86891),re=p(93201),ie=function(i){function BrowserClient(d){void 0===d&&(d={});return d._metadata=d._metadata||{},d._metadata.sdk=d._metadata.sdk||{name:"sentry.javascript.browser",packages:[{name:"npm:@sentry/browser",version:G.J}],version:G.J},i.call(this,te,d)||this}return(0,v.ZT)(BrowserClient,i),BrowserClient.prototype.showReportDialog=function(i){void 0===i&&(i={}),(0,W.R)().document&&(this._isEnabled()?(0,ne.BS)((0,v.pi)((0,v.pi)({},i),{dsn:i.dsn||this.getDsn()})):N.k.error("Trying to call showReportDialog with Sentry Client disabled"))},BrowserClient.prototype._prepareEvent=function(d,p,v){return d.platform=d.platform||"javascript",i.prototype._prepareEvent.call(this,d,p,v)},BrowserClient.prototype._sendEvent=function(d){var p=this.getIntegration(re.O);p&&p.addSentryBreadcrumb(d),i.prototype._sendEvent.call(this,d)},BrowserClient}(Y)},84773:(i,d,p)=>{"use strict";p.d(d,{dr:()=>eventFromException,aB:()=>eventFromMessage,ME:()=>eventFromUnknownInput});var v=p(66856),S=p(13819),T=p(62844),O=p(96893),I=p(67597),N=p(84592);function eventFromException(i,d,p){var v=eventFromUnknownInput(d,p&&p.syntheticException||void 0,{attachStacktrace:i.attachStacktrace});return(0,T.EG)(v),v.level=S.z.Error,p&&p.event_id&&(v.event_id=p.event_id),(0,O.WD)(v)}function eventFromMessage(i,d,p,v){void 0===p&&(p=S.z.Info);var T=eventFromString(d,v&&v.syntheticException||void 0,{attachStacktrace:i.attachStacktrace});return T.level=p,v&&v.event_id&&(T.event_id=v.event_id),(0,O.WD)(T)}function eventFromUnknownInput(i,d,p){var S;if(void 0===p&&(p={}),(0,I.VW)(i)&&i.error){var O=i;return(0,N.T7)(O.error)}if((0,I.TX)(i)||(0,I.fm)(i)){var R=i;if("stack"in i)S=(0,N.T7)(i);else{var P=R.name||((0,I.TX)(R)?"DOMError":"DOMException"),k=R.message?P+": "+R.message:P;S=eventFromString(k,d,p),(0,T.Db)(S,k)}return"code"in R&&(S.tags=(0,v.pi)((0,v.pi)({},S.tags),{"DOMException.code":""+R.code})),S}if((0,I.VZ)(i))return(0,N.T7)(i);if((0,I.PO)(i)||(0,I.cO)(i)){var L=i;return S=(0,N.QI)(L,d,p.isRejection),(0,T.EG)(S,{synthetic:!0}),S}return S=eventFromString(i,d,p),(0,T.Db)(S,""+i,void 0),(0,T.EG)(S,{synthetic:!0}),S}function eventFromString(i,d,p){void 0===p&&(p={});var v={message:i};return p.attachStacktrace&&d&&(v.stacktrace={frames:(0,N.g)(d)}),v}},86891:(i,d,p)=>{"use strict";p.d(d,{Wz:()=>shouldIgnoreOnError,re:()=>wrap,BS:()=>injectReportDialog});var v=p(66856),S=p(71371),T=p(1984),O=p(82991),I=p(62470),N=p(62844),R=p(68518),P=p(12343),k=(0,O.R)(),L=0;function shouldIgnoreOnError(){return L>0}function ignoreNextOnError(){L+=1,setTimeout((function(){L-=1}))}function wrap(i,d,p){if(void 0===d&&(d={}),"function"!=typeof i)return i;try{var T=i.__sentry_wrapped__;if(T)return T;if((0,I.HK)(i))return i}catch(d){return i}var sentryWrapped=function(){var T=Array.prototype.slice.call(arguments);try{p&&"function"==typeof p&&p.apply(this,arguments);var O=T.map((function(i){return wrap(i,d)}));return i.apply(this,O)}catch(i){throw ignoreNextOnError(),(0,S.$e)((function(p){p.addEventProcessor((function(i){return d.mechanism&&((0,N.Db)(i,void 0,void 0),(0,N.EG)(i,d.mechanism)),i.extra=(0,v.pi)((0,v.pi)({},i.extra),{arguments:T}),i})),(0,S.Tb)(i)})),i}};try{for(var O in i)Object.prototype.hasOwnProperty.call(i,O)&&(sentryWrapped[O]=i[O])}catch(i){}(0,I.$Q)(sentryWrapped,i),(0,I.xp)(i,"__sentry_wrapped__",sentryWrapped);try{Object.getOwnPropertyDescriptor(sentryWrapped,"name").configurable&&Object.defineProperty(sentryWrapped,"name",{get:function(){return i.name}})}catch(i){}return sentryWrapped}function injectReportDialog(i){if(void 0===i&&(i={}),k.document)if(i.eventId)if(i.dsn){var d=k.document.createElement("script");d.async=!0,d.src=(0,T.hR)(i.dsn,i),i.onLoad&&(d.onload=i.onLoad);var p=k.document.head||k.document.body;p&&p.appendChild(d)}else(0,R.c)()&&P.k.error("Missing dsn option in showReportDialog call");else(0,R.c)()&&P.k.error("Missing eventId option in showReportDialog call")}},75591:(i,d,p)=>{"use strict";p.r(d),p.d(d,{BrowserClient:()=>M.R,Hub:()=>P.Xb,Integrations:()=>ie,SDK_NAME:()=>H,SDK_VERSION:()=>L.J,Scope:()=>N.s,Session:()=>k.z,Severity:()=>I.z,Transports:()=>T,addBreadcrumb:()=>R.n_,addGlobalEventProcessor:()=>N.c,captureEvent:()=>R.eN,captureException:()=>R.Tb,captureMessage:()=>R.uT,close:()=>j.xv,configureScope:()=>R.e,defaultIntegrations:()=>j.SS,eventFromException:()=>U.dr,eventFromMessage:()=>U.aB,flush:()=>j.yl,forceLoad:()=>j.Eg,getCurrentHub:()=>P.Gd,getHubFromCarrier:()=>P.vi,init:()=>j.S1,injectReportDialog:()=>F.BS,lastEventId:()=>j.eW,makeMain:()=>P.pj,onLoad:()=>j.lA,setContext:()=>R.v,setExtra:()=>R.sU,setExtras:()=>R.rJ,setTag:()=>R.YA,setTags:()=>R.mG,setUser:()=>R.av,showReportDialog:()=>j.jp,startTransaction:()=>R.Yr,withScope:()=>R.$e,wrap:()=>j.re});var v={};p.r(v),p.d(v,{FunctionToString:()=>V.c,InboundFilters:()=>Y.Q});var S={};p.r(S),p.d(S,{Breadcrumbs:()=>Q.O,Dedupe:()=>J.I,GlobalHandlers:()=>W.d,LinkedErrors:()=>X.iP,TryCatch:()=>q.p,UserAgent:()=>Z.Z});var T={};p.r(T),p.d(T,{BaseTransport:()=>$.d,FetchTransport:()=>ee.V,XHRTransport:()=>te.w});var O=p(66856),I=p(13819),N=p(46769),R=p(71371),P=p(38641),k=p(95771),L=p(40105),M=p(561),F=p(86891),U=p(84773),j=p(18620),H="sentry.javascript.browser",V=p(19116),Y=p(42422),G=p(82991),W=p(52136),q=p(53692),Q=p(93201),X=p(61634),Z=p(33931),J=p(69730),$=p(50842),ee=p(68690),te=p(68131),ne={},re=(0,G.R)();re.Sentry&&re.Sentry.Integrations&&(ne=re.Sentry.Integrations);var ie=(0,O.pi)((0,O.pi)((0,O.pi)({},ne),v),S)},93201:(i,d,p)=>{"use strict";p.d(d,{O:()=>L});var v=p(66856),S=p(38641),T=p(13819),O=["fatal","error","warning","log","info","debug","critical"];function severityFromString(i){return"warn"===i?T.z.Warning:function isSupportedSeverity(i){return-1!==O.indexOf(i)}(i)?i:T.z.Log}var I=p(62844),N=p(9732),R=p(58464),P=p(57321),k=p(82991),L=function(){function Breadcrumbs(i){this.name=Breadcrumbs.id,this._options=(0,v.pi)({console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0},i)}return Breadcrumbs.prototype.addSentryBreadcrumb=function(i){this._options.sentry&&(0,S.Gd)().addBreadcrumb({category:"sentry."+("transaction"===i.type?"transaction":"event"),event_id:i.event_id,level:i.level,message:(0,I.jH)(i)},{event:i})},Breadcrumbs.prototype.setupOnce=function(){this._options.console&&(0,N.o)("console",_consoleBreadcrumb),this._options.dom&&(0,N.o)("dom",function _domBreadcrumb(i){function _innerDomBreadcrumb(d){var p,v="object"==typeof i?i.serializeAttribute:void 0;"string"==typeof v&&(v=[v]);try{p=d.event.target?(0,R.R)(d.event.target,v):(0,R.R)(d.event,v)}catch(i){p="<unknown>"}0!==p.length&&(0,S.Gd)().addBreadcrumb({category:"ui."+d.name,message:p},{event:d.event,name:d.name,global:d.global})}return _innerDomBreadcrumb}(this._options.dom)),this._options.xhr&&(0,N.o)("xhr",_xhrBreadcrumb),this._options.fetch&&(0,N.o)("fetch",_fetchBreadcrumb),this._options.history&&(0,N.o)("history",_historyBreadcrumb)},Breadcrumbs.id="Breadcrumbs",Breadcrumbs}();function _consoleBreadcrumb(i){var d={category:"console",data:{arguments:i.args,logger:"console"},level:severityFromString(i.level),message:(0,P.nK)(i.args," ")};if("assert"===i.level){if(!1!==i.args[0])return;d.message="Assertion failed: "+((0,P.nK)(i.args.slice(1)," ")||"console.assert"),d.data.arguments=i.args.slice(1)}(0,S.Gd)().addBreadcrumb(d,{input:i.args,level:i.level})}function _xhrBreadcrumb(i){if(i.endTimestamp){if(i.xhr.__sentry_own_request__)return;var d=i.xhr.__sentry_xhr__||{},p=d.method,v=d.url,T=d.status_code,O=d.body;(0,S.Gd)().addBreadcrumb({category:"xhr",data:{method:p,url:v,status_code:T},type:"http"},{xhr:i.xhr,input:O})}else;}function _fetchBreadcrumb(i){i.endTimestamp&&(i.fetchData.url.match(/sentry_key/)&&"POST"===i.fetchData.method||(i.error?(0,S.Gd)().addBreadcrumb({category:"fetch",data:i.fetchData,level:T.z.Error,type:"http"},{data:i.error,input:i.args}):(0,S.Gd)().addBreadcrumb({category:"fetch",data:(0,v.pi)((0,v.pi)({},i.fetchData),{status_code:i.response.status}),type:"http"},{input:i.args,response:i.response})))}function _historyBreadcrumb(i){var d=(0,k.R)(),p=i.from,v=i.to,T=(0,I.en)(d.location.href),O=(0,I.en)(p),N=(0,I.en)(v);O.path||(O=T),T.protocol===N.protocol&&T.host===N.host&&(v=N.relative),T.protocol===O.protocol&&T.host===O.host&&(p=O.relative),(0,S.Gd)().addBreadcrumb({category:"navigation",data:{from:p,to:v}})}},69730:(i,d,p)=>{"use strict";p.d(d,{I:()=>S});var v=p(12343),S=function(){function Dedupe(){this.name=Dedupe.id}return Dedupe.prototype.setupOnce=function(i,d){i((function(i){var p=d().getIntegration(Dedupe);if(p){try{if(function _shouldDropEvent(i,d){if(!d)return!1;if(function _isSameMessageEvent(i,d){var p=i.message,v=d.message;if(!p&&!v)return!1;if(p&&!v||!p&&v)return!1;if(p!==v)return!1;if(!_isSameFingerprint(i,d))return!1;if(!_isSameStacktrace(i,d))return!1;return!0}(i,d))return!0;if(function _isSameExceptionEvent(i,d){var p=_getExceptionFromEvent(d),v=_getExceptionFromEvent(i);if(!p||!v)return!1;if(p.type!==v.type||p.value!==v.value)return!1;if(!_isSameFingerprint(i,d))return!1;if(!_isSameStacktrace(i,d))return!1;return!0}(i,d))return!0;return!1}(i,p._previousEvent))return v.k.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(d){return p._previousEvent=i}return p._previousEvent=i}return i}))},Dedupe.id="Dedupe",Dedupe}();function _isSameStacktrace(i,d){var p=_getFramesFromEvent(i),v=_getFramesFromEvent(d);if(!p&&!v)return!0;if(p&&!v||!p&&v)return!1;if(p=p,(v=v).length!==p.length)return!1;for(var S=0;S<v.length;S++){var T=v[S],O=p[S];if(T.filename!==O.filename||T.lineno!==O.lineno||T.colno!==O.colno||T.function!==O.function)return!1}return!0}function _isSameFingerprint(i,d){var p=i.fingerprint,v=d.fingerprint;if(!p&&!v)return!0;if(p&&!v||!p&&v)return!1;p=p,v=v;try{return!(p.join("")!==v.join(""))}catch(i){return!1}}function _getExceptionFromEvent(i){return i.exception&&i.exception.values&&i.exception.values[0]}function _getFramesFromEvent(i){var d=i.exception;if(d)try{return d.values[0].stacktrace.frames}catch(i){return}else if(i.stacktrace)return i.stacktrace.frames}},52136:(i,d,p)=>{"use strict";p.d(d,{d:()=>F});var v=p(66856),S=p(38641),T=p(13819),O=p(9732),I=p(67597),N=p(58464),R=p(68518),P=p(12343),k=p(62844),L=p(84773),M=p(86891),F=function(){function GlobalHandlers(i){this.name=GlobalHandlers.id,this._installFunc={onerror:_installGlobalOnErrorHandler,onunhandledrejection:_installGlobalOnUnhandledRejectionHandler},this._options=(0,v.pi)({onerror:!0,onunhandledrejection:!0},i)}return GlobalHandlers.prototype.setupOnce=function(){Error.stackTraceLimit=50;var i=this._options;for(var d in i){var p=this._installFunc[d];p&&i[d]&&(globalHandlerLog(d),p(),this._installFunc[d]=void 0)}},GlobalHandlers.id="GlobalHandlers",GlobalHandlers}();function _installGlobalOnErrorHandler(){(0,O.o)("error",(function(i){var d=(0,v.CR)(getHubAndAttachStacktrace(),2),p=d[0],S=d[1];if(p.getIntegration(F)){var O=i.msg,N=i.url,R=i.line,P=i.column,k=i.error;if(!((0,M.Wz)()||k&&k.__sentry_own_request__)){var U=void 0===k&&(0,I.HD)(O)?function _eventFromIncompleteOnError(i,d,p,v){var S=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i,T=(0,I.VW)(i)?i.message:i,O="Error",N=T.match(S);N&&(O=N[1],T=N[2]);return _enhanceEventWithInitialFrame({exception:{values:[{type:O,value:T}]}},d,p,v)}(O,N,R,P):_enhanceEventWithInitialFrame((0,L.ME)(k||O,void 0,{attachStacktrace:S,isRejection:!1}),N,R,P);U.level=T.z.Error,addMechanismAndCapture(p,k,U,"onerror")}}}))}function _installGlobalOnUnhandledRejectionHandler(){(0,O.o)("unhandledrejection",(function(i){var d=(0,v.CR)(getHubAndAttachStacktrace(),2),p=d[0],S=d[1];if(p.getIntegration(F)){var O=i;try{"reason"in i?O=i.reason:"detail"in i&&"reason"in i.detail&&(O=i.detail.reason)}catch(i){}if((0,M.Wz)()||O&&O.__sentry_own_request__)return!0;var N=(0,I.pt)(O)?function _eventFromRejectionWithPrimitive(i){return{exception:{values:[{type:"UnhandledRejection",value:"Non-Error promise rejection captured with value: "+String(i)}]}}}(O):(0,L.ME)(O,void 0,{attachStacktrace:S,isRejection:!0});N.level=T.z.Error,addMechanismAndCapture(p,O,N,"onunhandledrejection")}}))}function _enhanceEventWithInitialFrame(i,d,p,v){var S=i.exception=i.exception||{},T=S.values=S.values||[],O=T[0]=T[0]||{},R=O.stacktrace=O.stacktrace||{},P=R.frames=R.frames||[],k=isNaN(parseInt(v,10))?void 0:v,L=isNaN(parseInt(p,10))?void 0:p,M=(0,I.HD)(d)&&d.length>0?d:(0,N.l)();return 0===P.length&&P.push({colno:k,filename:M,function:"?",in_app:!0,lineno:L}),i}function globalHandlerLog(i){(0,R.c)()&&P.k.log("Global Handler attached: "+i)}function addMechanismAndCapture(i,d,p,v){(0,k.EG)(p,{handled:!1,type:v}),i.captureEvent(p,{originalException:d})}function getHubAndAttachStacktrace(){var i=(0,S.Gd)(),d=i.getClient();return[i,d&&d.getOptions().attachStacktrace]}},61634:(i,d,p)=>{"use strict";p.d(d,{iP:()=>N});var v=p(66856),S=p(46769),T=p(38641),O=p(67597),I=p(84592),N=function(){function LinkedErrors(i){void 0===i&&(i={}),this.name=LinkedErrors.id,this._key=i.key||"cause",this._limit=i.limit||5}return LinkedErrors.prototype.setupOnce=function(){(0,S.c)((function(i,d){var p=(0,T.Gd)().getIntegration(LinkedErrors);return p?function _handler(i,d,p,S){if(!(p.exception&&p.exception.values&&S&&(0,O.V9)(S.originalException,Error)))return p;var T=_walkErrorTree(d,S.originalException,i);return p.exception.values=(0,v.fl)(T,p.exception.values),p}(p._key,p._limit,i,d):i}))},LinkedErrors.id="LinkedErrors",LinkedErrors}();function _walkErrorTree(i,d,p,S){if(void 0===S&&(S=[]),!(0,O.V9)(d[p],Error)||S.length+1>=i)return S;var T=(0,I.GJ)(d[p]);return _walkErrorTree(i,d[p],p,(0,v.fl)([T],S))}},53692:(i,d,p)=>{"use strict";p.d(d,{p:()=>R});var v=p(66856),S=p(82991),T=p(62470),O=p(30360),I=p(86891),N=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],R=function(){function TryCatch(i){this.name=TryCatch.id,this._options=(0,v.pi)({XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0},i)}return TryCatch.prototype.setupOnce=function(){var i=(0,S.R)();this._options.setTimeout&&(0,T.hl)(i,"setTimeout",_wrapTimeFunction),this._options.setInterval&&(0,T.hl)(i,"setInterval",_wrapTimeFunction),this._options.requestAnimationFrame&&(0,T.hl)(i,"requestAnimationFrame",_wrapRAF),this._options.XMLHttpRequest&&"XMLHttpRequest"in i&&(0,T.hl)(XMLHttpRequest.prototype,"send",_wrapXHR);var d=this._options.eventTarget;d&&(Array.isArray(d)?d:N).forEach(_wrapEventTarget)},TryCatch.id="TryCatch",TryCatch}();function _wrapTimeFunction(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v=d[0];return d[0]=(0,I.re)(v,{mechanism:{data:{function:(0,O.$P)(i)},handled:!0,type:"instrument"}}),i.apply(this,d)}}function _wrapRAF(i){return function(d){return i.call(this,(0,I.re)(d,{mechanism:{data:{function:"requestAnimationFrame",handler:(0,O.$P)(i)},handled:!0,type:"instrument"}}))}}function _wrapXHR(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v=this,S=["onload","onerror","onprogress","onreadystatechange"];return S.forEach((function(i){i in v&&"function"==typeof v[i]&&(0,T.hl)(v,i,(function(d){var p={mechanism:{data:{function:i,handler:(0,O.$P)(d)},handled:!0,type:"instrument"}},v=(0,T.HK)(d);return v&&(p.mechanism.data.handler=(0,O.$P)(v)),(0,I.re)(d,p)}))})),i.apply(this,d)}}function _wrapEventTarget(i){var d=(0,S.R)(),p=d[i]&&d[i].prototype;p&&p.hasOwnProperty&&p.hasOwnProperty("addEventListener")&&((0,T.hl)(p,"addEventListener",(function(d){return function(p,v,S){try{"function"==typeof v.handleEvent&&(v.handleEvent=(0,I.re)(v.handleEvent.bind(v),{mechanism:{data:{function:"handleEvent",handler:(0,O.$P)(v),target:i},handled:!0,type:"instrument"}}))}catch(i){}return d.call(this,p,(0,I.re)(v,{mechanism:{data:{function:"addEventListener",handler:(0,O.$P)(v),target:i},handled:!0,type:"instrument"}}),S)}})),(0,T.hl)(p,"removeEventListener",(function(i){return function(d,p,v){var S=p;try{var T=S&&S.__sentry_wrapped__;T&&i.call(this,d,T,v)}catch(i){}return i.call(this,d,S,v)}})))}},33931:(i,d,p)=>{"use strict";p.d(d,{Z:()=>I});var v=p(66856),S=p(46769),T=p(38641),O=(0,p(82991).R)(),I=function(){function UserAgent(){this.name=UserAgent.id}return UserAgent.prototype.setupOnce=function(){(0,S.c)((function(i){if((0,T.Gd)().getIntegration(UserAgent)){if(!O.navigator&&!O.location&&!O.document)return i;var d=i.request&&i.request.url||O.location&&O.location.href,p=(O.document||{}).referrer,S=(O.navigator||{}).userAgent,I=(0,v.pi)((0,v.pi)((0,v.pi)({},i.request&&i.request.headers),p&&{Referer:p}),S&&{"User-Agent":S}),N=(0,v.pi)((0,v.pi)({},d&&{url:d}),{headers:I});return(0,v.pi)((0,v.pi)({},i),{request:N})}return i}))},UserAgent.id="UserAgent",UserAgent}()},84592:(i,d,p)=>{"use strict";p.d(d,{T7:()=>eventFromError,QI:()=>eventFromPlainObject,GJ:()=>exceptionFromError,g:()=>parseStackFrames});var v=p(67597),S=p(62470),T=p(30360),O=p(66856),I="?";function createFrame(i,d,p,v){var S={filename:i,function:d,in_app:!0};return void 0!==p&&(S.lineno=p),void 0!==v&&(S.colno=v),S}var N=/^\s*at (?:(.*?) ?\((?:address at )?)?((?:file|https?|blob|chrome-extension|address|native|eval|webpack|<anonymous>|[-a-z]+:|.*bundle|\/).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,R=/\((\S*)(?::(\d+))(?::(\d+))\)/,chrome=function(i){var d=N.exec(i);if(d){if(d[2]&&0===d[2].indexOf("eval")){var p=R.exec(d[2]);p&&(d[2]=p[1],d[3]=p[2],d[4]=p[3])}var v=(0,O.CR)(extractSafariExtensionDetails(d[1]||I,d[2]),2),S=v[0];return createFrame(v[1],S,d[3]?+d[3]:void 0,d[4]?+d[4]:void 0)}},P=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:file|https?|blob|chrome|webpack|resource|moz-extension|capacitor).*?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,k=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,gecko=function(i){var d,p=P.exec(i);if(p){if(p[3]&&p[3].indexOf(" > eval")>-1){var v=k.exec(p[3]);v&&(p[1]=p[1]||"eval",p[3]=v[1],p[4]=v[2],p[5]="")}var S=p[3],T=p[1]||I;return T=(d=(0,O.CR)(extractSafariExtensionDetails(T,S),2))[0],createFrame(S=d[1],T,p[4]?+p[4]:void 0,p[5]?+p[5]:void 0)}},L=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|webpack|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,winjs=function(i){var d=L.exec(i);return d?createFrame(d[2],d[1]||I,+d[3],d[4]?+d[4]:void 0):void 0},M=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,opera10=function(i){var d=M.exec(i);return d?createFrame(d[2],d[3]||I,+d[1]):void 0},F=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^)]+))\(.*\))? in (.*):\s*$/i,opera11=function(i){var d=F.exec(i);return d?createFrame(d[5],d[3]||d[4]||I,+d[1],+d[2]):void 0},extractSafariExtensionDetails=function(i,d){var p=-1!==i.indexOf("safari-extension"),v=-1!==i.indexOf("safari-web-extension");return p||v?[-1!==i.indexOf("@")?i.split("@")[0]:I,p?"safari-extension:"+d:"safari-web-extension:"+d]:[i,d]};function exceptionFromError(i){var d=parseStackFrames(i),p={type:i&&i.name,value:extractMessage(i)};return d&&d.length&&(p.stacktrace={frames:d}),void 0===p.type&&""===p.value&&(p.value="Unrecoverable error caught"),p}function eventFromPlainObject(i,d,p){var T={exception:{values:[{type:(0,v.cO)(i)?i.constructor.name:p?"UnhandledRejection":"Error",value:"Non-Error "+(p?"promise rejection":"exception")+" captured with keys: "+(0,S.zf)(i)}]},extra:{__serialized__:(0,S.Qy)(i)}};return d&&(T.stacktrace={frames:parseStackFrames(d)}),T}function eventFromError(i){return{exception:{values:[exceptionFromError(i)]}}}function parseStackFrames(i){var d=i.stacktrace||i.stack||"",p=function getPopSize(i){if(i){if("number"==typeof i.framesToPop)return i.framesToPop;if(U.test(i.message))return 1}return 0}(i);try{return(0,T.pE)(opera10,opera11,chrome,winjs,gecko)(d,p)}catch(i){}return[]}var U=/Minified React error #\d+;/i;function extractMessage(i){var d=i&&i.message;return d?d.error&&"string"==typeof d.error.message?d.error.message:d:"No error message"}},18620:(i,d,p)=>{"use strict";p.d(d,{xv:()=>sdk_close,SS:()=>G,yl:()=>flush,Eg:()=>forceLoad,S1:()=>init,eW:()=>lastEventId,lA:()=>onLoad,jp:()=>showReportDialog,re:()=>wrap});var v=p(66856),S=p(38641),T=p(12343);var O=p(42422),I=p(19116),N=p(82991),R=p(68518),P=p(96893),k=p(9732),L=p(561),M=p(86891),F=p(53692),U=p(93201),j=p(52136),H=p(61634),V=p(69730),Y=p(33931),G=[new O.Q,new I.c,new F.p,new U.O,new j.d,new H.iP,new V.I,new Y.Z];function init(i){if(void 0===i&&(i={}),void 0===i.defaultIntegrations&&(i.defaultIntegrations=G),void 0===i.release){var d=(0,N.R)();d.SENTRY_RELEASE&&d.SENTRY_RELEASE.id&&(i.release=d.SENTRY_RELEASE.id)}void 0===i.autoSessionTracking&&(i.autoSessionTracking=!0),void 0===i.sendClientReports&&(i.sendClientReports=!0),function initAndBind(i,d){!0===d.debug&&T.k.enable();var p=(0,S.Gd)(),v=p.getScope();v&&v.update(d.initialScope);var O=new i(d);p.bindClient(O)}(L.R,i),i.autoSessionTracking&&function startSessionTracking(){if(void 0===(0,N.R)().document)return void((0,R.c)()&&T.k.warn("Session tracking in non-browser environment with @sentry/browser is not supported."));var i=(0,S.Gd)();if(!i.captureSession)return;startSessionOnHub(i),(0,k.o)("history",(function(i){var d=i.from,p=i.to;void 0!==d&&d!==p&&startSessionOnHub((0,S.Gd)())}))}()}function showReportDialog(i){void 0===i&&(i={});var d=(0,S.Gd)(),p=d.getScope();p&&(i.user=(0,v.pi)((0,v.pi)({},p.getUser()),i.user)),i.eventId||(i.eventId=d.lastEventId());var T=d.getClient();T&&T.showReportDialog(i)}function lastEventId(){return(0,S.Gd)().lastEventId()}function forceLoad(){}function onLoad(i){i()}function flush(i){var d=(0,S.Gd)().getClient();return d?d.flush(i):((0,R.c)()&&T.k.warn("Cannot flush events. No client defined."),(0,P.WD)(!1))}function sdk_close(i){var d=(0,S.Gd)().getClient();return d?d.close(i):((0,R.c)()&&T.k.warn("Cannot flush events and disable SDK. No client defined."),(0,P.WD)(!1))}function wrap(i){return(0,M.re)(i)()}function startSessionOnHub(i){i.startSession({ignoreDuration:!0}),i.captureSession()}},50842:(i,d,p)=>{"use strict";p.d(d,{d:()=>H});var v=p(66856),S=p(51421),T=p(30292),O=p(62470),I=p(1984);function getSdkMetadataForEnvelopeHeader(i){if(i.metadata&&i.metadata.sdk){var d=i.metadata.sdk;return{name:d.name,version:d.version}}}function eventToSentryRequest(i,d){var p,v=getSdkMetadataForEnvelopeHeader(d),N=i.type||"event",R="transaction"===N||!!d.tunnel,P=(i.sdkProcessingMetadata||{}).transactionSampling||{},k=P.method,L=P.rate;!function enhanceEventWithSdkInfo(i,d){return d?(i.sdk=i.sdk||{},i.sdk.name=i.sdk.name||d.name,i.sdk.version=i.sdk.version||d.version,i.sdk.integrations=(0,S.fl)(i.sdk.integrations||[],d.integrations||[]),i.sdk.packages=(0,S.fl)(i.sdk.packages||[],d.packages||[]),i):i}(i,d.metadata.sdk),i.tags=i.tags||{},i.extra=i.extra||{},i.sdkProcessingMetadata&&i.sdkProcessingMetadata.baseClientNormalized||(i.tags.skippedNormalization=!0,i.extra.normalizeDepth=i.sdkProcessingMetadata?i.sdkProcessingMetadata.normalizeDepth:"unset"),delete i.sdkProcessingMetadata;try{p=JSON.stringify(i)}catch(d){i.tags.JSONStringifyError=!0,i.extra.JSONStringifyError=d;try{p=JSON.stringify((0,O.Fv)(i))}catch(i){var M=i;p=JSON.stringify({message:"JSON.stringify error after renormalization",extra:{message:M.message,stack:M.stack}})}}var F={body:p,type:N,url:R?(0,I.Ut)(d.dsn,d.tunnel):(0,I.qi)(d.dsn)};if(R){var U=JSON.stringify((0,S.pi)((0,S.pi)({event_id:i.event_id,sent_at:(new Date).toISOString()},v&&{sdk:v}),!!d.tunnel&&{dsn:(0,T.R)(d.dsn)}))+"\n"+JSON.stringify({type:N,sample_rates:[{id:k,rate:L}]})+"\n"+F.body;F.body=U}return F}var N=p(88266),R=p(96893);function makePromiseBuffer(i){var d=[];function remove(i){return d.splice(d.indexOf(i),1)[0]}return{$:d,add:function add(p){if(!function isReady(){return void 0===i||d.length<i}())return(0,R.$2)(new N.b("Not adding Promise due to buffer limit reached."));var v=p();return-1===d.indexOf(v)&&d.push(v),v.then((function(){return remove(v)})).then(null,(function(){return remove(v).then(null,(function(){}))})),v},drain:function drain(i){return new R.cW((function(p,v){var S=d.length;if(!S)return p(!0);var T=setTimeout((function(){i&&i>0&&p(!1)}),i);d.forEach((function(i){(0,R.WD)(i).then((function(){--S||(clearTimeout(T),p(!0))}),v)}))}))}}}var P=p(82991),k=p(12343),L=p(21170),M=p(68518),F=p(62844),U=p(44331);function requestTypeToCategory(i){return"event"===i?"error":i}var j=(0,P.R)(),H=function(){function BaseTransport(i){var d=this;this.options=i,this._buffer=makePromiseBuffer(30),this._rateLimits={},this._outcomes={},this._api=(0,I.hd)(i.dsn,i._metadata,i.tunnel),this.url=(0,I.qi)(this._api.dsn),this.options.sendClientReports&&j.document&&j.document.addEventListener("visibilitychange",(function(){"hidden"===j.document.visibilityState&&d._flushOutcomes()}))}return BaseTransport.prototype.sendEvent=function(i){return this._sendRequest(eventToSentryRequest(i,this._api),i)},BaseTransport.prototype.sendSession=function(i){return this._sendRequest(function sessionToSentryRequest(i,d){var p=getSdkMetadataForEnvelopeHeader(d),v="aggregates"in i?"sessions":"session";return{body:JSON.stringify((0,S.pi)((0,S.pi)({sent_at:(new Date).toISOString()},p&&{sdk:p}),!!d.tunnel&&{dsn:(0,T.R)(d.dsn)}))+"\n"+JSON.stringify({type:v})+"\n"+JSON.stringify(i),type:v,url:(0,I.Ut)(d.dsn,d.tunnel)}}(i,this._api),i)},BaseTransport.prototype.close=function(i){return this._buffer.drain(i)},BaseTransport.prototype.recordLostEvent=function(i,d){var p;if(this.options.sendClientReports){var v=requestTypeToCategory(d)+":"+i;k.k.log("Adding outcome: "+v),this._outcomes[v]=(null!=(p=this._outcomes[v])?p:0)+1}},BaseTransport.prototype._flushOutcomes=function(){if(this.options.sendClientReports){var i=this._outcomes;if(this._outcomes={},Object.keys(i).length){k.k.log("Flushing outcomes:\n"+JSON.stringify(i,null,2));var d=(0,I.Ut)(this._api.dsn,this._api.tunnel),p=JSON.stringify((0,v.pi)({},this._api.tunnel&&{dsn:(0,T.R)(this._api.dsn)}))+"\n"+JSON.stringify({type:"client_report"})+"\n"+JSON.stringify({timestamp:(0,L.yW)(),discarded_events:Object.keys(i).map((function(d){var p=(0,v.CR)(d.split(":"),2),S=p[0];return{reason:p[1],category:S,quantity:i[d]}}))});try{(0,U.z)(d,p)}catch(i){k.k.error(i)}}else k.k.log("No outcomes to flush")}},BaseTransport.prototype._handleResponse=function(i){var d=i.requestType,p=i.response,v=i.headers,S=i.resolve,T=i.reject,O=function eventStatusFromHttpCode(i){return i>=200&&i<300?"success":429===i?"rate_limit":i>=400&&i<500?"invalid":i>=500?"failed":"unknown"}(p.status);this._handleRateLimit(v)&&(0,M.c)()&&k.k.warn("Too many "+d+" requests, backing off until: "+this._disabledUntil(d)),"success"!==O?T(p):S({status:O})},BaseTransport.prototype._disabledUntil=function(i){var d=requestTypeToCategory(i);return this._rateLimits[d]||this._rateLimits.all},BaseTransport.prototype._isRateLimited=function(i){return this._disabledUntil(i)>new Date(Date.now())},BaseTransport.prototype._handleRateLimit=function(i){var d,p,S,T,O=Date.now(),I=i["x-sentry-rate-limits"],N=i["retry-after"];if(I){try{for(var R=(0,v.XA)(I.trim().split(",")),P=R.next();!P.done;P=R.next()){var k=P.value.split(":",2),L=parseInt(k[0],10),M=1e3*(isNaN(L)?60:L);try{for(var U=(S=void 0,(0,v.XA)(k[1].split(";"))),j=U.next();!j.done;j=U.next()){var H=j.value;this._rateLimits[H||"all"]=new Date(O+M)}}catch(i){S={error:i}}finally{try{j&&!j.done&&(T=U.return)&&T.call(U)}finally{if(S)throw S.error}}}}catch(i){d={error:i}}finally{try{P&&!P.done&&(p=R.return)&&p.call(R)}finally{if(d)throw d.error}}return!0}return!!N&&(this._rateLimits.all=new Date(O+(0,F.JY)(O,N)),!0)},BaseTransport}()},68690:(i,d,p)=>{"use strict";p.d(d,{V:()=>R});var v=p(66856),S=p(8823),T=p(96893),O=p(88266),I=p(50842),N=p(44331),R=function(i){function FetchTransport(d,p){void 0===p&&(p=(0,N.x)());var v=i.call(this,d)||this;return v._fetch=p,v}return(0,v.ZT)(FetchTransport,i),FetchTransport.prototype._sendRequest=function(i,d){var p=this;if(this._isRateLimited(i.type))return this.recordLostEvent("ratelimit_backoff",i.type),Promise.reject({event:d,type:i.type,reason:"Transport for "+i.type+" requests locked till "+this._disabledUntil(i.type)+" due to too many requests.",status:429});var v={body:i.body,method:"POST",referrerPolicy:(0,S.hv)()?"origin":""};return void 0!==this.options.fetchParameters&&Object.assign(v,this.options.fetchParameters),void 0!==this.options.headers&&(v.headers=this.options.headers),this._buffer.add((function(){return new T.cW((function(d,S){p._fetch(i.url,v).then((function(v){var T={"x-sentry-rate-limits":v.headers.get("X-Sentry-Rate-Limits"),"retry-after":v.headers.get("Retry-After")};p._handleResponse({requestType:i.type,response:v,headers:T,resolve:d,reject:S})})).catch(S)}))})).then(void 0,(function(d){throw d instanceof O.b?p.recordLostEvent("queue_overflow",i.type):p.recordLostEvent("network_error",i.type),d}))},FetchTransport}(I.d)},44331:(i,d,p)=>{"use strict";p.d(d,{x:()=>getNativeFetchImplementation,z:()=>sendReport});var v,S=p(82991),T=p(8823),O=p(68518),I=p(12343),N=(0,S.R)();function getNativeFetchImplementation(){if(v)return v;if((0,T.Du)(N.fetch))return v=N.fetch.bind(N);var i=N.document,d=N.fetch;if(i&&"function"==typeof i.createElement)try{var p=i.createElement("iframe");p.hidden=!0,i.head.appendChild(p);var S=p.contentWindow;S&&S.fetch&&(d=S.fetch),i.head.removeChild(p)}catch(i){(0,O.c)()&&I.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return v=d.bind(N)}function sendReport(i,d){return"[object Navigator]"===Object.prototype.toString.call(N&&N.navigator)&&"function"==typeof N.navigator.sendBeacon?N.navigator.sendBeacon.bind(N.navigator)(i,d):(0,T.Ak)()?function forget(i){i.then(null,(function(i){console.error(i)}))}(getNativeFetchImplementation()(i,{body:d,method:"POST",credentials:"omit",keepalive:!0})):void 0}},68131:(i,d,p)=>{"use strict";p.d(d,{w:()=>O});var v=p(66856),S=p(96893),T=p(88266),O=function(i){function XHRTransport(){return null!==i&&i.apply(this,arguments)||this}return(0,v.ZT)(XHRTransport,i),XHRTransport.prototype._sendRequest=function(i,d){var p=this;return this._isRateLimited(i.type)?(this.recordLostEvent("ratelimit_backoff",i.type),Promise.reject({event:d,type:i.type,reason:"Transport for "+i.type+" requests locked till "+this._disabledUntil(i.type)+" due to too many requests.",status:429})):this._buffer.add((function(){return new S.cW((function(d,v){var S=new XMLHttpRequest;for(var T in S.onreadystatechange=function(){if(4===S.readyState){var T={"x-sentry-rate-limits":S.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":S.getResponseHeader("Retry-After")};p._handleResponse({requestType:i.type,response:S,headers:T,resolve:d,reject:v})}},S.open("POST",i.url),p.options.headers)Object.prototype.hasOwnProperty.call(p.options.headers,T)&&S.setRequestHeader(T,p.options.headers[T]);S.send(i.body)}))})).then(void 0,(function(d){throw d instanceof T.b?p.recordLostEvent("queue_overflow",i.type):p.recordLostEvent("network_error",i.type),d}))},XHRTransport}(p(50842).d)},66856:(i,d,p)=>{"use strict";p.d(d,{ZT:()=>__extends,pi:()=>__assign,XA:()=>__values,CR:()=>__read,fl:()=>__spread});var extendStatics=function(i,d){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p])},extendStatics(i,d)};function __extends(i,d){function __(){this.constructor=i}extendStatics(i,d),i.prototype=null===d?Object.create(d):(__.prototype=d.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __values(i){var d="function"==typeof Symbol&&Symbol.iterator,p=d&&i[d],v=0;if(p)return p.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&v>=i.length&&(i=void 0),{value:i&&i[v++],done:!i}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(i,d){var p="function"==typeof Symbol&&i[Symbol.iterator];if(!p)return i;var v,S,T=p.call(i),O=[];try{for(;(void 0===d||d-- >0)&&!(v=T.next()).done;)O.push(v.value)}catch(i){S={error:i}}finally{try{v&&!v.done&&(p=T.return)&&p.call(T)}finally{if(S)throw S.error}}return O}function __spread(){for(var i=[],d=0;d<arguments.length;d++)i=i.concat(__read(arguments[d]));return i}},1984:(i,d,p)=>{"use strict";p.d(d,{hd:()=>initAPIDetails,qi:()=>getStoreEndpointWithUrlEncodedAuth,Ut:()=>getEnvelopeEndpointWithUrlEncodedAuth,hR:()=>getReportDialogEndpoint});var v=p(30292),S=p(62470);!function(){function API(i,d,p){void 0===d&&(d={}),this.dsn=i,this._dsnObject=(0,v.v)(i),this.metadata=d,this._tunnel=p}API.prototype.getDsn=function(){return this._dsnObject},API.prototype.forceEnvelope=function(){return!!this._tunnel},API.prototype.getBaseApiEndpoint=function(){return getBaseApiEndpoint(this._dsnObject)},API.prototype.getStoreEndpoint=function(){return getStoreEndpoint(this._dsnObject)},API.prototype.getStoreEndpointWithUrlEncodedAuth=function(){return getStoreEndpointWithUrlEncodedAuth(this._dsnObject)},API.prototype.getEnvelopeEndpointWithUrlEncodedAuth=function(){return getEnvelopeEndpointWithUrlEncodedAuth(this._dsnObject,this._tunnel)}}();function initAPIDetails(i,d,p){return{initDsn:i,metadata:d||{},dsn:(0,v.v)(i),tunnel:p}}function getBaseApiEndpoint(i){var d=i.protocol?i.protocol+":":"",p=i.port?":"+i.port:"";return d+"//"+i.host+p+(i.path?"/"+i.path:"")+"/api/"}function _getIngestEndpoint(i,d){return""+getBaseApiEndpoint(i)+i.projectId+"/"+d+"/"}function _encodedAuth(i){return(0,S._j)({sentry_key:i.publicKey,sentry_version:"7"})}function getStoreEndpoint(i){return _getIngestEndpoint(i,"store")}function getStoreEndpointWithUrlEncodedAuth(i){return getStoreEndpoint(i)+"?"+_encodedAuth(i)}function getEnvelopeEndpointWithUrlEncodedAuth(i,d){return d||function _getEnvelopeEndpoint(i){return _getIngestEndpoint(i,"envelope")}(i)+"?"+_encodedAuth(i)}function getReportDialogEndpoint(i,d){var p=(0,v.v)(i),S=getBaseApiEndpoint(p)+"embed/error-page/",T="dsn="+(0,v.R)(p);for(var O in d)if("dsn"!==O)if("user"===O){if(!d.user)continue;d.user.name&&(T+="&name="+encodeURIComponent(d.user.name)),d.user.email&&(T+="&email="+encodeURIComponent(d.user.email))}else T+="&"+encodeURIComponent(O)+"="+encodeURIComponent(d[O]);return S+"?"+T}},19116:(i,d,p)=>{"use strict";p.d(d,{c:()=>T});var v,S=p(62470),T=function(){function FunctionToString(){this.name=FunctionToString.id}return FunctionToString.prototype.setupOnce=function(){v=Function.prototype.toString,Function.prototype.toString=function(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];var p=(0,S.HK)(this)||this;return v.apply(p,i)}},FunctionToString.id="FunctionToString",FunctionToString}()},42422:(i,d,p)=>{"use strict";p.d(d,{Q:()=>k});var v=p(51421),S=p(46769),T=p(38641),O=p(68518),I=p(12343),N=p(62844),R=p(57321),P=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],k=function(){function InboundFilters(i){void 0===i&&(i={}),this._options=i,this.name=InboundFilters.id}return InboundFilters.prototype.setupOnce=function(){(0,S.c)((function(i){var d=(0,T.Gd)();if(!d)return i;var p=d.getIntegration(InboundFilters);if(p){var v=d.getClient(),S=v?v.getOptions():{},O="function"==typeof p._mergeOptions?p._mergeOptions(S):{};return"function"!=typeof p._shouldDropEvent?i:p._shouldDropEvent(i,O)?null:i}return i}))},InboundFilters.prototype._shouldDropEvent=function(i,d){return this._isSentryError(i,d)?((0,O.c)()&&I.k.warn("Event dropped due to being internal Sentry Error.\nEvent: "+(0,N.jH)(i)),!0):this._isIgnoredError(i,d)?((0,O.c)()&&I.k.warn("Event dropped due to being matched by `ignoreErrors` option.\nEvent: "+(0,N.jH)(i)),!0):this._isDeniedUrl(i,d)?((0,O.c)()&&I.k.warn("Event dropped due to being matched by `denyUrls` option.\nEvent: "+(0,N.jH)(i)+".\nUrl: "+this._getEventFilterUrl(i)),!0):!this._isAllowedUrl(i,d)&&((0,O.c)()&&I.k.warn("Event dropped due to not being matched by `allowUrls` option.\nEvent: "+(0,N.jH)(i)+".\nUrl: "+this._getEventFilterUrl(i)),!0)},InboundFilters.prototype._isSentryError=function(i,d){if(!d.ignoreInternal)return!1;try{return"SentryError"===i.exception.values[0].type}catch(i){}return!1},InboundFilters.prototype._isIgnoredError=function(i,d){return!(!d.ignoreErrors||!d.ignoreErrors.length)&&this._getPossibleEventMessages(i).some((function(i){return d.ignoreErrors.some((function(d){return(0,R.zC)(i,d)}))}))},InboundFilters.prototype._isDeniedUrl=function(i,d){if(!d.denyUrls||!d.denyUrls.length)return!1;var p=this._getEventFilterUrl(i);return!!p&&d.denyUrls.some((function(i){return(0,R.zC)(p,i)}))},InboundFilters.prototype._isAllowedUrl=function(i,d){if(!d.allowUrls||!d.allowUrls.length)return!0;var p=this._getEventFilterUrl(i);return!p||d.allowUrls.some((function(i){return(0,R.zC)(p,i)}))},InboundFilters.prototype._mergeOptions=function(i){return void 0===i&&(i={}),{allowUrls:(0,v.fl)(this._options.whitelistUrls||[],this._options.allowUrls||[],i.whitelistUrls||[],i.allowUrls||[]),denyUrls:(0,v.fl)(this._options.blacklistUrls||[],this._options.denyUrls||[],i.blacklistUrls||[],i.denyUrls||[]),ignoreErrors:(0,v.fl)(this._options.ignoreErrors||[],i.ignoreErrors||[],P),ignoreInternal:void 0===this._options.ignoreInternal||this._options.ignoreInternal}},InboundFilters.prototype._getPossibleEventMessages=function(i){if(i.message)return[i.message];if(i.exception)try{var d=i.exception.values&&i.exception.values[0]||{},p=d.type,v=void 0===p?"":p,S=d.value,T=void 0===S?"":S;return[""+T,v+": "+T]}catch(d){return(0,O.c)()&&I.k.error("Cannot extract message for event "+(0,N.jH)(i)),[]}return[]},InboundFilters.prototype._getLastValidUrl=function(i){void 0===i&&(i=[]);for(var d=i.length-1;d>=0;d--){var p=i[d];if(p&&"<anonymous>"!==p.filename&&"[native code]"!==p.filename)return p.filename||null}return null},InboundFilters.prototype._getEventFilterUrl=function(i){try{if(i.stacktrace)return this._getLastValidUrl(i.stacktrace.frames);var d;try{d=i.exception.values[0].stacktrace.frames}catch(i){}return d?this._getLastValidUrl(d):null}catch(d){return(0,O.c)()&&I.k.error("Cannot extract url for event "+(0,N.jH)(i)),null}},InboundFilters.id="InboundFilters",InboundFilters}()},40105:(i,d,p)=>{"use strict";p.d(d,{J:()=>v});var v="6.17.9"},51421:(i,d,p)=>{"use strict";p.d(d,{pi:()=>__assign,XA:()=>__values,fl:()=>__spread});var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __values(i){var d="function"==typeof Symbol&&Symbol.iterator,p=d&&i[d],v=0;if(p)return p.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&v>=i.length&&(i=void 0),{value:i&&i[v++],done:!i}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(i,d){var p="function"==typeof Symbol&&i[Symbol.iterator];if(!p)return i;var v,S,T=p.call(i),O=[];try{for(;(void 0===d||d-- >0)&&!(v=T.next()).done;)O.push(v.value)}catch(i){S={error:i}}finally{try{v&&!v.done&&(p=T.return)&&p.call(T)}finally{if(S)throw S.error}}return O}function __spread(){for(var i=[],d=0;d<arguments.length;d++)i=i.concat(__read(arguments[d]));return i}},38641:(i,d,p)=>{"use strict";p.d(d,{Xb:()=>k,pj:()=>makeMain,Gd:()=>getCurrentHub,vi:()=>getHubFromCarrier});var v=p(68907),S=p(62844),T=p(21170),O=p(12343),I=p(82991),N=p(61422),R=p(46769),P=p(95771),k=function(){function Hub(i,d,p){void 0===d&&(d=new R.s),void 0===p&&(p=4),this._version=p,this._stack=[{}],this.getStackTop().scope=d,i&&this.bindClient(i)}return Hub.prototype.isOlderThan=function(i){return this._version<i},Hub.prototype.bindClient=function(i){this.getStackTop().client=i,i&&i.setupIntegrations&&i.setupIntegrations()},Hub.prototype.pushScope=function(){var i=R.s.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:i}),i},Hub.prototype.popScope=function(){return!(this.getStack().length<=1)&&!!this.getStack().pop()},Hub.prototype.withScope=function(i){var d=this.pushScope();try{i(d)}finally{this.popScope()}},Hub.prototype.getClient=function(){return this.getStackTop().client},Hub.prototype.getScope=function(){return this.getStackTop().scope},Hub.prototype.getStack=function(){return this._stack},Hub.prototype.getStackTop=function(){return this._stack[this._stack.length-1]},Hub.prototype.captureException=function(i,d){var p=this._lastEventId=(0,S.DM)(),T=d;if(!d){var O=void 0;try{throw new Error("Sentry syntheticException")}catch(i){O=i}T={originalException:i,syntheticException:O}}return this._invokeClient("captureException",i,(0,v.pi)((0,v.pi)({},T),{event_id:p})),p},Hub.prototype.captureMessage=function(i,d,p){var T=this._lastEventId=(0,S.DM)(),O=p;if(!p){var I=void 0;try{throw new Error(i)}catch(i){I=i}O={originalException:i,syntheticException:I}}return this._invokeClient("captureMessage",i,d,(0,v.pi)((0,v.pi)({},O),{event_id:T})),T},Hub.prototype.captureEvent=function(i,d){var p=(0,S.DM)();return"transaction"!==i.type&&(this._lastEventId=p),this._invokeClient("captureEvent",i,(0,v.pi)((0,v.pi)({},d),{event_id:p})),p},Hub.prototype.lastEventId=function(){return this._lastEventId},Hub.prototype.addBreadcrumb=function(i,d){var p=this.getStackTop(),S=p.scope,I=p.client;if(S&&I){var N=I.getOptions&&I.getOptions()||{},R=N.beforeBreadcrumb,P=void 0===R?null:R,k=N.maxBreadcrumbs,L=void 0===k?100:k;if(!(L<=0)){var M=(0,T.yW)(),F=(0,v.pi)({timestamp:M},i),U=P?(0,O.C)((function(){return P(F,d)})):F;null!==U&&S.addBreadcrumb(U,L)}}},Hub.prototype.setUser=function(i){var d=this.getScope();d&&d.setUser(i)},Hub.prototype.setTags=function(i){var d=this.getScope();d&&d.setTags(i)},Hub.prototype.setExtras=function(i){var d=this.getScope();d&&d.setExtras(i)},Hub.prototype.setTag=function(i,d){var p=this.getScope();p&&p.setTag(i,d)},Hub.prototype.setExtra=function(i,d){var p=this.getScope();p&&p.setExtra(i,d)},Hub.prototype.setContext=function(i,d){var p=this.getScope();p&&p.setContext(i,d)},Hub.prototype.configureScope=function(i){var d=this.getStackTop(),p=d.scope,v=d.client;p&&v&&i(p)},Hub.prototype.run=function(i){var d=makeMain(this);try{i(this)}finally{makeMain(d)}},Hub.prototype.getIntegration=function(i){var d=this.getClient();if(!d)return null;try{return d.getIntegration(i)}catch(d){return O.k.warn("Cannot retrieve integration "+i.id+" from the current Hub"),null}},Hub.prototype.startSpan=function(i){return this._callExtensionMethod("startSpan",i)},Hub.prototype.startTransaction=function(i,d){return this._callExtensionMethod("startTransaction",i,d)},Hub.prototype.traceHeaders=function(){return this._callExtensionMethod("traceHeaders")},Hub.prototype.captureSession=function(i){if(void 0===i&&(i=!1),i)return this.endSession();this._sendSessionUpdate()},Hub.prototype.endSession=function(){var i=this.getStackTop(),d=i&&i.scope,p=d&&d.getSession();p&&p.close(),this._sendSessionUpdate(),d&&d.setSession()},Hub.prototype.startSession=function(i){var d=this.getStackTop(),p=d.scope,S=d.client,T=S&&S.getOptions()||{},O=T.release,N=T.environment,R=((0,I.R)().navigator||{}).userAgent,k=new P.z((0,v.pi)((0,v.pi)((0,v.pi)({release:O,environment:N},p&&{user:p.getUser()}),R&&{userAgent:R}),i));if(p){var L=p.getSession&&p.getSession();L&&"ok"===L.status&&L.update({status:"exited"}),this.endSession(),p.setSession(k)}return k},Hub.prototype._sendSessionUpdate=function(){var i=this.getStackTop(),d=i.scope,p=i.client;if(d){var v=d.getSession&&d.getSession();v&&p&&p.captureSession&&p.captureSession(v)}},Hub.prototype._invokeClient=function(i){for(var d,p=[],S=1;S<arguments.length;S++)p[S-1]=arguments[S];var T=this.getStackTop(),O=T.scope,I=T.client;I&&I[i]&&(d=I)[i].apply(d,(0,v.fl)(p,[O]))},Hub.prototype._callExtensionMethod=function(i){for(var d=[],p=1;p<arguments.length;p++)d[p-1]=arguments[p];var v=getMainCarrier(),S=v.__SENTRY__;if(S&&S.extensions&&"function"==typeof S.extensions[i])return S.extensions[i].apply(this,d);O.k.warn("Extension method "+i+" couldn't be found, doing nothing.")},Hub}();function getMainCarrier(){var i=(0,I.R)();return i.__SENTRY__=i.__SENTRY__||{extensions:{},hub:void 0},i}function makeMain(i){var d=getMainCarrier(),p=getHubFromCarrier(d);return setHubOnCarrier(d,i),p}function getCurrentHub(){var i=getMainCarrier();return hasHubOnCarrier(i)&&!getHubFromCarrier(i).isOlderThan(4)||setHubOnCarrier(i,new k),(0,N.KV)()?function getHubFromActiveDomain(i){try{var d=getMainCarrier().__SENTRY__,p=d&&d.extensions&&d.extensions.domain&&d.extensions.domain.active;if(!p)return getHubFromCarrier(i);if(!hasHubOnCarrier(p)||getHubFromCarrier(p).isOlderThan(4)){var v=getHubFromCarrier(i).getStackTop();setHubOnCarrier(p,new k(v.client,R.s.clone(v.scope)))}return getHubFromCarrier(p)}catch(d){return getHubFromCarrier(i)}}(i):getHubFromCarrier(i)}function hasHubOnCarrier(i){return!!(i&&i.__SENTRY__&&i.__SENTRY__.hub)}function getHubFromCarrier(i){return i&&i.__SENTRY__&&i.__SENTRY__.hub||(i.__SENTRY__=i.__SENTRY__||{},i.__SENTRY__.hub=new k),i.__SENTRY__.hub}function setHubOnCarrier(i,d){return!!i&&(i.__SENTRY__=i.__SENTRY__||{},i.__SENTRY__.hub=d,!0)}},46769:(i,d,p)=>{"use strict";p.d(d,{s:()=>N,c:()=>addGlobalEventProcessor});var v=p(68907),S=p(67597),T=p(21170),O=p(96893),I=p(82991),N=function(){function Scope(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}return Scope.clone=function(i){var d=new Scope;return i&&(d._breadcrumbs=(0,v.fl)(i._breadcrumbs),d._tags=(0,v.pi)({},i._tags),d._extra=(0,v.pi)({},i._extra),d._contexts=(0,v.pi)({},i._contexts),d._user=i._user,d._level=i._level,d._span=i._span,d._session=i._session,d._transactionName=i._transactionName,d._fingerprint=i._fingerprint,d._eventProcessors=(0,v.fl)(i._eventProcessors),d._requestSession=i._requestSession),d},Scope.prototype.addScopeListener=function(i){this._scopeListeners.push(i)},Scope.prototype.addEventProcessor=function(i){return this._eventProcessors.push(i),this},Scope.prototype.setUser=function(i){return this._user=i||{},this._session&&this._session.update({user:i}),this._notifyScopeListeners(),this},Scope.prototype.getUser=function(){return this._user},Scope.prototype.getRequestSession=function(){return this._requestSession},Scope.prototype.setRequestSession=function(i){return this._requestSession=i,this},Scope.prototype.setTags=function(i){return this._tags=(0,v.pi)((0,v.pi)({},this._tags),i),this._notifyScopeListeners(),this},Scope.prototype.setTag=function(i,d){var p;return this._tags=(0,v.pi)((0,v.pi)({},this._tags),((p={})[i]=d,p)),this._notifyScopeListeners(),this},Scope.prototype.setExtras=function(i){return this._extra=(0,v.pi)((0,v.pi)({},this._extra),i),this._notifyScopeListeners(),this},Scope.prototype.setExtra=function(i,d){var p;return this._extra=(0,v.pi)((0,v.pi)({},this._extra),((p={})[i]=d,p)),this._notifyScopeListeners(),this},Scope.prototype.setFingerprint=function(i){return this._fingerprint=i,this._notifyScopeListeners(),this},Scope.prototype.setLevel=function(i){return this._level=i,this._notifyScopeListeners(),this},Scope.prototype.setTransactionName=function(i){return this._transactionName=i,this._notifyScopeListeners(),this},Scope.prototype.setTransaction=function(i){return this.setTransactionName(i)},Scope.prototype.setContext=function(i,d){var p;return null===d?delete this._contexts[i]:this._contexts=(0,v.pi)((0,v.pi)({},this._contexts),((p={})[i]=d,p)),this._notifyScopeListeners(),this},Scope.prototype.setSpan=function(i){return this._span=i,this._notifyScopeListeners(),this},Scope.prototype.getSpan=function(){return this._span},Scope.prototype.getTransaction=function(){var i=this.getSpan();return i&&i.transaction},Scope.prototype.setSession=function(i){return i?this._session=i:delete this._session,this._notifyScopeListeners(),this},Scope.prototype.getSession=function(){return this._session},Scope.prototype.update=function(i){if(!i)return this;if("function"==typeof i){var d=i(this);return d instanceof Scope?d:this}return i instanceof Scope?(this._tags=(0,v.pi)((0,v.pi)({},this._tags),i._tags),this._extra=(0,v.pi)((0,v.pi)({},this._extra),i._extra),this._contexts=(0,v.pi)((0,v.pi)({},this._contexts),i._contexts),i._user&&Object.keys(i._user).length&&(this._user=i._user),i._level&&(this._level=i._level),i._fingerprint&&(this._fingerprint=i._fingerprint),i._requestSession&&(this._requestSession=i._requestSession)):(0,S.PO)(i)&&(i=i,this._tags=(0,v.pi)((0,v.pi)({},this._tags),i.tags),this._extra=(0,v.pi)((0,v.pi)({},this._extra),i.extra),this._contexts=(0,v.pi)((0,v.pi)({},this._contexts),i.contexts),i.user&&(this._user=i.user),i.level&&(this._level=i.level),i.fingerprint&&(this._fingerprint=i.fingerprint),i.requestSession&&(this._requestSession=i.requestSession)),this},Scope.prototype.clear=function(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this},Scope.prototype.addBreadcrumb=function(i,d){var p="number"==typeof d?Math.min(d,100):100;if(p<=0)return this;var S=(0,v.pi)({timestamp:(0,T.yW)()},i);return this._breadcrumbs=(0,v.fl)(this._breadcrumbs,[S]).slice(-p),this._notifyScopeListeners(),this},Scope.prototype.clearBreadcrumbs=function(){return this._breadcrumbs=[],this._notifyScopeListeners(),this},Scope.prototype.applyToEvent=function(i,d){if(this._extra&&Object.keys(this._extra).length&&(i.extra=(0,v.pi)((0,v.pi)({},this._extra),i.extra)),this._tags&&Object.keys(this._tags).length&&(i.tags=(0,v.pi)((0,v.pi)({},this._tags),i.tags)),this._user&&Object.keys(this._user).length&&(i.user=(0,v.pi)((0,v.pi)({},this._user),i.user)),this._contexts&&Object.keys(this._contexts).length&&(i.contexts=(0,v.pi)((0,v.pi)({},this._contexts),i.contexts)),this._level&&(i.level=this._level),this._transactionName&&(i.transaction=this._transactionName),this._span){i.contexts=(0,v.pi)({trace:this._span.getTraceContext()},i.contexts);var p=this._span.transaction&&this._span.transaction.name;p&&(i.tags=(0,v.pi)({transaction:p},i.tags))}return this._applyFingerprint(i),i.breadcrumbs=(0,v.fl)(i.breadcrumbs||[],this._breadcrumbs),i.breadcrumbs=i.breadcrumbs.length>0?i.breadcrumbs:void 0,i.sdkProcessingMetadata=this._sdkProcessingMetadata,this._notifyEventProcessors((0,v.fl)(getGlobalEventProcessors(),this._eventProcessors),i,d)},Scope.prototype.setSDKProcessingMetadata=function(i){return this._sdkProcessingMetadata=(0,v.pi)((0,v.pi)({},this._sdkProcessingMetadata),i),this},Scope.prototype._notifyEventProcessors=function(i,d,p,T){var I=this;return void 0===T&&(T=0),new O.cW((function(O,N){var R=i[T];if(null===d||"function"!=typeof R)O(d);else{var P=R((0,v.pi)({},d),p);(0,S.J8)(P)?P.then((function(d){return I._notifyEventProcessors(i,d,p,T+1).then(O)})).then(null,N):I._notifyEventProcessors(i,P,p,T+1).then(O).then(null,N)}}))},Scope.prototype._notifyScopeListeners=function(){var i=this;this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach((function(d){d(i)})),this._notifyingListeners=!1)},Scope.prototype._applyFingerprint=function(i){i.fingerprint=i.fingerprint?Array.isArray(i.fingerprint)?i.fingerprint:[i.fingerprint]:[],this._fingerprint&&(i.fingerprint=i.fingerprint.concat(this._fingerprint)),i.fingerprint&&!i.fingerprint.length&&delete i.fingerprint},Scope}();function getGlobalEventProcessors(){var i=(0,I.R)();return i.__SENTRY__=i.__SENTRY__||{},i.__SENTRY__.globalEventProcessors=i.__SENTRY__.globalEventProcessors||[],i.__SENTRY__.globalEventProcessors}function addGlobalEventProcessor(i){getGlobalEventProcessors().push(i)}},95771:(i,d,p)=>{"use strict";p.d(d,{z:()=>O});var v=p(62844),S=p(21170),T=p(62470),O=function(){function Session(i){this.errors=0,this.sid=(0,v.DM)(),this.duration=0,this.status="ok",this.init=!0,this.ignoreDuration=!1;var d=(0,S.ph)();this.timestamp=d,this.started=d,i&&this.update(i)}return Session.prototype.update=function(i){if(void 0===i&&(i={}),i.user&&(!this.ipAddress&&i.user.ip_address&&(this.ipAddress=i.user.ip_address),this.did||i.did||(this.did=i.user.id||i.user.email||i.user.username)),this.timestamp=i.timestamp||(0,S.ph)(),i.ignoreDuration&&(this.ignoreDuration=i.ignoreDuration),i.sid&&(this.sid=32===i.sid.length?i.sid:(0,v.DM)()),void 0!==i.init&&(this.init=i.init),!this.did&&i.did&&(this.did=""+i.did),"number"==typeof i.started&&(this.started=i.started),this.ignoreDuration)this.duration=void 0;else if("number"==typeof i.duration)this.duration=i.duration;else{var d=this.timestamp-this.started;this.duration=d>=0?d:0}i.release&&(this.release=i.release),i.environment&&(this.environment=i.environment),!this.ipAddress&&i.ipAddress&&(this.ipAddress=i.ipAddress),!this.userAgent&&i.userAgent&&(this.userAgent=i.userAgent),"number"==typeof i.errors&&(this.errors=i.errors),i.status&&(this.status=i.status)},Session.prototype.close=function(i){i?this.update({status:i}):"ok"===this.status?this.update({status:"exited"}):this.update()},Session.prototype.toJSON=function(){return(0,T.Jr)({sid:""+this.sid,init:this.init,started:new Date(1e3*this.started).toISOString(),timestamp:new Date(1e3*this.timestamp).toISOString(),status:this.status,errors:this.errors,did:"number"==typeof this.did||"string"==typeof this.did?""+this.did:void 0,duration:this.duration,attrs:{release:this.release,environment:this.environment,ip_address:this.ipAddress,user_agent:this.userAgent}})},Session}()},68907:(i,d,p)=>{"use strict";p.d(d,{pi:()=>__assign,fl:()=>__spread});var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __read(i,d){var p="function"==typeof Symbol&&i[Symbol.iterator];if(!p)return i;var v,S,T=p.call(i),O=[];try{for(;(void 0===d||d-- >0)&&!(v=T.next()).done;)O.push(v.value)}catch(i){S={error:i}}finally{try{v&&!v.done&&(p=T.return)&&p.call(T)}finally{if(S)throw S.error}}return O}function __spread(){for(var i=[],d=0;d<arguments.length;d++)i=i.concat(__read(arguments[d]));return i}},53610:(i,d,p)=>{"use strict";p.d(d,{I:()=>S});var v=p(12343),S=function(){function Dedupe(){this.name=Dedupe.id}return Dedupe.prototype.setupOnce=function(i,d){i((function(i){var p=d().getIntegration(Dedupe);if(p){try{if(function _shouldDropEvent(i,d){if(!d)return!1;if(function _isSameMessageEvent(i,d){var p=i.message,v=d.message;if(!p&&!v)return!1;if(p&&!v||!p&&v)return!1;if(p!==v)return!1;if(!_isSameFingerprint(i,d))return!1;if(!_isSameStacktrace(i,d))return!1;return!0}(i,d))return!0;if(function _isSameExceptionEvent(i,d){var p=_getExceptionFromEvent(d),v=_getExceptionFromEvent(i);if(!p||!v)return!1;if(p.type!==v.type||p.value!==v.value)return!1;if(!_isSameFingerprint(i,d))return!1;if(!_isSameStacktrace(i,d))return!1;return!0}(i,d))return!0;return!1}(i,p._previousEvent))return v.k.warn("Event dropped due to being a duplicate of previously captured event."),null}catch(d){return p._previousEvent=i}return p._previousEvent=i}return i}))},Dedupe.id="Dedupe",Dedupe}();function _isSameStacktrace(i,d){var p=_getFramesFromEvent(i),v=_getFramesFromEvent(d);if(!p&&!v)return!0;if(p&&!v||!p&&v)return!1;if(p=p,(v=v).length!==p.length)return!1;for(var S=0;S<v.length;S++){var T=v[S],O=p[S];if(T.filename!==O.filename||T.lineno!==O.lineno||T.colno!==O.colno||T.function!==O.function)return!1}return!0}function _isSameFingerprint(i,d){var p=i.fingerprint,v=d.fingerprint;if(!p&&!v)return!0;if(p&&!v||!p&&v)return!1;p=p,v=v;try{return!(p.join("")!==v.join(""))}catch(i){return!1}}function _getExceptionFromEvent(i){return i.exception&&i.exception.values&&i.exception.values[0]}function _getFramesFromEvent(i){var d=i.exception;if(d)try{return d.values[0].stacktrace.frames}catch(i){return}else if(i.stacktrace)return i.stacktrace.frames}},68045:(i,d,p)=>{"use strict";p.d(d,{S:()=>O});var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __values(i){var d="function"==typeof Symbol&&Symbol.iterator,p=d&&i[d],v=0;if(p)return p.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&v>=i.length&&(i=void 0),{value:i&&i[v++],done:!i}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}var v=p(67597),S=p(62470),T=p(12343),O=function(){function ExtraErrorData(i){this.name=ExtraErrorData.id,this._options=__assign({depth:3},i)}return ExtraErrorData.prototype.setupOnce=function(i,d){i((function(i,p){var v=d().getIntegration(ExtraErrorData);return v?v.enhanceEventWithErrorData(i,p):i}))},ExtraErrorData.prototype.enhanceEventWithErrorData=function(i,d){var p;if(!d||!d.originalException||!(0,v.VZ)(d.originalException))return i;var T=d.originalException.name||d.originalException.constructor.name,O=this._extractErrorData(d.originalException);if(O){var I=__assign({},i.contexts),N=(0,S.Fv)(O,this._options.depth);return(0,v.PO)(N)&&(I=__assign(__assign({},i.contexts),((p={})[T]=__assign({},N),p))),__assign(__assign({},i),{contexts:I})}return i},ExtraErrorData.prototype._extractErrorData=function(i){var d,p,S,O;try{var I=["name","message","stack","line","column","fileName","lineNumber","columnNumber","toJSON"],N={};try{for(var R=__values(Object.keys(i)),P=R.next();!P.done;P=R.next()){var k=P.value;if(-1===I.indexOf(k)){var L=i[k];N[k]=(0,v.VZ)(L)?L.toString():L}}}catch(i){d={error:i}}finally{try{P&&!P.done&&(p=R.return)&&p.call(R)}finally{if(d)throw d.error}}if("function"==typeof i.toJSON){var M=i.toJSON();try{for(var F=__values(Object.keys(M)),U=F.next();!U.done;U=F.next()){L=M[k=U.value];N[k]=(0,v.VZ)(L)?L.toString():L}}catch(i){S={error:i}}finally{try{U&&!U.done&&(O=F.return)&&O.call(F)}finally{if(S)throw S.error}}}return N}catch(i){T.k.error("Unable to extract extra data from the Error object:",i)}return null},ExtraErrorData.id="ExtraErrorData",ExtraErrorData}()},71371:(i,d,p)=>{"use strict";p.d(d,{n_:()=>addBreadcrumb,eN:()=>captureEvent,Tb:()=>captureException,uT:()=>captureMessage,e:()=>configureScope,v:()=>setContext,sU:()=>setExtra,rJ:()=>setExtras,YA:()=>setTag,mG:()=>setTags,av:()=>setUser,Yr:()=>startTransaction,$e:()=>withScope});var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __read(i,d){var p="function"==typeof Symbol&&i[Symbol.iterator];if(!p)return i;var v,S,T=p.call(i),O=[];try{for(;(void 0===d||d-- >0)&&!(v=T.next()).done;)O.push(v.value)}catch(i){S={error:i}}finally{try{v&&!v.done&&(p=T.return)&&p.call(T)}finally{if(S)throw S.error}}return O}function tslib_es6_spread(){for(var i=[],d=0;d<arguments.length;d++)i=i.concat(__read(arguments[d]));return i}var v=p(38641);function callOnHub(i){for(var d=[],p=1;p<arguments.length;p++)d[p-1]=arguments[p];var S=(0,v.Gd)();if(S&&S[i])return S[i].apply(S,tslib_es6_spread(d));throw new Error("No hub defined or "+i+" was not found on the hub, please open a bug report.")}function captureException(i,d){var p;try{throw new Error("Sentry syntheticException")}catch(i){p=i}return callOnHub("captureException",i,{captureContext:d,originalException:i,syntheticException:p})}function captureMessage(i,d){var p;try{throw new Error(i)}catch(i){p=i}return callOnHub("captureMessage",i,"string"==typeof d?d:void 0,__assign({originalException:i,syntheticException:p},"string"!=typeof d?{captureContext:d}:void 0))}function captureEvent(i){return callOnHub("captureEvent",i)}function configureScope(i){callOnHub("configureScope",i)}function addBreadcrumb(i){callOnHub("addBreadcrumb",i)}function setContext(i,d){callOnHub("setContext",i,d)}function setExtras(i){callOnHub("setExtras",i)}function setTags(i){callOnHub("setTags",i)}function setExtra(i,d){callOnHub("setExtra",i,d)}function setTag(i,d){callOnHub("setTag",i,d)}function setUser(i){callOnHub("setUser",i)}function withScope(i){callOnHub("withScope",i)}function startTransaction(i,d){return callOnHub("startTransaction",__assign({},i),d)}},57002:(i,d,p)=>{"use strict";p.r(d),p.d(d,{BrowserClient:()=>v.BrowserClient,ErrorBoundary:()=>Y,Hub:()=>v.Hub,Integrations:()=>v.Integrations,Profiler:()=>U,SDK_NAME:()=>v.SDK_NAME,SDK_VERSION:()=>v.SDK_VERSION,Scope:()=>v.Scope,Session:()=>v.Session,Severity:()=>v.Severity,Transports:()=>v.Transports,addBreadcrumb:()=>v.addBreadcrumb,addGlobalEventProcessor:()=>v.addGlobalEventProcessor,captureEvent:()=>v.captureEvent,captureException:()=>v.captureException,captureMessage:()=>v.captureMessage,close:()=>v.close,configureScope:()=>v.configureScope,createReduxEnhancer:()=>createReduxEnhancer,defaultIntegrations:()=>v.defaultIntegrations,eventFromException:()=>v.eventFromException,eventFromMessage:()=>v.eventFromMessage,flush:()=>v.flush,forceLoad:()=>v.forceLoad,getCurrentHub:()=>v.getCurrentHub,getHubFromCarrier:()=>v.getHubFromCarrier,init:()=>init,injectReportDialog:()=>v.injectReportDialog,lastEventId:()=>v.lastEventId,makeMain:()=>v.makeMain,onLoad:()=>v.onLoad,reactRouterV3Instrumentation:()=>reactRouterV3Instrumentation,reactRouterV4Instrumentation:()=>reactRouterV4Instrumentation,reactRouterV5Instrumentation:()=>reactRouterV5Instrumentation,setContext:()=>v.setContext,setExtra:()=>v.setExtra,setExtras:()=>v.setExtras,setTag:()=>v.setTag,setTags:()=>v.setTags,setUser:()=>v.setUser,showReportDialog:()=>v.showReportDialog,startTransaction:()=>v.startTransaction,useProfiler:()=>useProfiler,withErrorBoundary:()=>withErrorBoundary,withProfiler:()=>withProfiler,withScope:()=>v.withScope,withSentryRouting:()=>withSentryRouting,wrap:()=>v.wrap});var v=p(75591),S=p(40105),T=p(18620);function init(i){i._metadata=i._metadata||{},i._metadata.sdk=i._metadata.sdk||{name:"sentry.javascript.react",packages:[{name:"npm:@sentry/react",version:S.J}],version:S.J},(0,T.S1)(i)}var extendStatics=function(i,d){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p])},extendStatics(i,d)};function __extends(i,d){function __(){this.constructor=i}extendStatics(i,d),i.prototype=null===d?Object.create(d):(__.prototype=d.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __read(i,d){var p="function"==typeof Symbol&&i[Symbol.iterator];if(!p)return i;var v,S,T=p.call(i),O=[];try{for(;(void 0===d||d-- >0)&&!(v=T.next()).done;)O.push(v.value)}catch(i){S={error:i}}finally{try{v&&!v.done&&(p=T.return)&&p.call(T)}finally{if(S)throw S.error}}return O}var O=p(38641),I=p(21170),N=p(8679),R=p.n(N),P=p(85351),k="ui.react.render",L="ui.react.mount",M={id:"Tracing"},F=null;var U=function(i){function Profiler(d){var p=i.call(this,d)||this;p._mountSpan=void 0,p._mountActivity=null;var v=p.props,S=v.name,T=v.disabled;if(void 0!==T&&T)return p;if(F||(F=(0,O.Gd)().getIntegration(M)))p._mountActivity=function pushActivity(i,d){return null===F?null:F.constructor.pushActivity(i,{description:"<"+i+">",op:d})}(S,L);else{var I=getActiveTransaction();I&&(p._mountSpan=I.startChild({description:"<"+S+">",op:L}))}return p}return __extends(Profiler,i),Profiler.prototype.componentDidMount=function(){this._mountSpan?this._mountSpan.finish():(this._mountSpan=function getActivitySpan(i){if(null!==i&&null!==F)return F.constructor.getActivitySpan(i)}(this._mountActivity),function popActivity(i){null!==i&&null!==F&&F.constructor.popActivity(i)}(this._mountActivity),this._mountActivity=null)},Profiler.prototype.componentDidUpdate=function(i){var d=this,p=i.updateProps,v=i.includeUpdates;if((void 0===v||v)&&this._mountSpan&&p!==this.props.updateProps){var S=Object.keys(p).filter((function(i){return p[i]!==d.props.updateProps[i]}));if(S.length>0){var T=(0,I._I)();this._mountSpan.startChild({data:{changedProps:S},description:"<"+this.props.name+">",endTimestamp:T,op:"ui.react.update",startTimestamp:T})}}},Profiler.prototype.componentWillUnmount=function(){var i=this.props,d=i.name,p=i.includeRender,v=void 0===p||p;this._mountSpan&&v&&this._mountSpan.startChild({description:"<"+d+">",endTimestamp:(0,I._I)(),op:k,startTimestamp:this._mountSpan.endTimestamp})},Profiler.prototype.render=function(){return this.props.children},Profiler.defaultProps={disabled:!1,includeRender:!0,includeUpdates:!0},Profiler}(P.Component);function withProfiler(i,d){var p=d&&d.name||i.displayName||i.name||"unknown",Wrapped=function(v){return P.createElement(U,__assign({},d,{name:p,updateProps:v}),P.createElement(i,__assign({},v)))};return Wrapped.displayName="profiler("+p+")",R()(Wrapped,i),Wrapped}function useProfiler(i,d){void 0===d&&(d={disabled:!1,hasRenderSpan:!0});var p=__read(P.useState((function(){if(!d||!d.disabled){var p=getActiveTransaction();return p?p.startChild({description:"<"+i+">",op:L}):void 0}})),1),v=p[0];P.useEffect((function(){return v&&v.finish(),function(){v&&d.hasRenderSpan&&v.startChild({description:"<"+i+">",endTimestamp:(0,I._I)(),op:k,startTimestamp:v.endTimestamp})}}),[])}function getActiveTransaction(i){if(void 0===i&&(i=(0,O.Gd)()),i){var d=i.getScope();if(d)return d.getTransaction()}}var j=p(71371),H=p(12343);var V={componentStack:null,error:null,eventId:null},Y=function(i){function ErrorBoundary(){var d=null!==i&&i.apply(this,arguments)||this;return d.state=V,d.resetErrorBoundary=function(){var i=d.props.onReset,p=d.state,v=p.error,S=p.componentStack,T=p.eventId;i&&i(v,S,T),d.setState(V)},d}return __extends(ErrorBoundary,i),ErrorBoundary.prototype.componentDidCatch=function(i,d){var p=this,v=d.componentStack,S=this.props,O=S.beforeCapture,I=S.onError,N=S.showDialog,R=S.dialogOptions;(0,j.$e)((function(d){if(function isAtLeastReact17(i){var d=i.match(/^([^.]+)/);return null!==d&&parseInt(d[0])>=17}(P.version)){var S=new Error(i.message);S.name="React ErrorBoundary "+S.name,S.stack=v,i.cause=S}O&&O(d,i,v);var k=(0,j.Tb)(i,{contexts:{react:{componentStack:v}}});I&&I(i,v,k),N&&(0,T.jp)(__assign(__assign({},R),{eventId:k})),p.setState({error:i,componentStack:v,eventId:k})}))},ErrorBoundary.prototype.componentDidMount=function(){var i=this.props.onMount;i&&i()},ErrorBoundary.prototype.componentWillUnmount=function(){var i=this.state,d=i.error,p=i.componentStack,v=i.eventId,S=this.props.onUnmount;S&&S(d,p,v)},ErrorBoundary.prototype.render=function(){var i=this.props,d=i.fallback,p=i.children,v=this.state,S=v.error,T=v.componentStack,O=v.eventId;if(S){var I=void 0;return I="function"==typeof d?d({error:S,componentStack:T,resetError:this.resetErrorBoundary,eventId:O}):d,P.isValidElement(I)?I:(d&&H.k.warn("fallback did not produce a valid ReactElement"),null)}return"function"==typeof p?p():p},ErrorBoundary}(P.Component);function withErrorBoundary(i,d){var p=i.displayName||i.name||"unknown",Wrapped=function(p){return P.createElement(Y,__assign({},d),P.createElement(i,__assign({},p)))};return Wrapped.displayName="errorBoundary("+p+")",R()(Wrapped,i),Wrapped}var G="redux.state",W={actionTransformer:function(i){return i},stateTransformer:function(i){return i||null}};function createReduxEnhancer(i){var d=__assign(__assign({},W),i);return function(i){return function(p,v){return i((function(i,v){var S=p(i,v);return(0,j.e)((function(i){var p=d.actionTransformer(v);null!=p&&i.addBreadcrumb({category:"redux.action",data:p,type:"info"});var T=d.stateTransformer(S);null!=T?i.setContext(G,T):i.setContext(G,null);var O=d.configureScopeWithState;"function"==typeof O&&O(i,S)})),S}),v)}}}var q=p(82991),Q=(0,q.R)();function reactRouterV3Instrumentation(i,d,p){return function(v,S,T){var O,I;void 0===S&&(S=!0),void 0===T&&(T=!0),S&&Q&&Q.location&&normalizeTransactionName(d,Q.location,p,(function(i){O=v({name:I=i,op:"pageload",tags:{"routing.instrumentation":"react-router-v3"}})})),T&&i.listen&&i.listen((function(i){if("PUSH"===i.action||"POP"===i.action){O&&O.finish();var S={"routing.instrumentation":"react-router-v3"};I&&(S.from=I),normalizeTransactionName(d,i,p,(function(i){O=v({name:I=i,op:"navigation",tags:S})}))}}))}}function normalizeTransactionName(i,d,p,v){var S=d.pathname;p({location:d,routes:i},(function(i,d,p){if(i||!p)return v(S);var T=function getRouteStringFromRoutes(i){if(!Array.isArray(i)||0===i.length)return"";for(var d=i.filter((function(i){return!!i.path})),p=-1,v=d.length-1;v>=0;v--){var S=d[v];if(S.path&&S.path.startsWith("/")){p=v;break}}return d.slice(p).filter((function(i){return!!i.path})).map((function(i){return i.path})).join("")}(p.routes||[]);return 0===T.length||"/*"===T?v(S):v(S=T)}))}var X,Z=(0,q.R)();function reactRouterV4Instrumentation(i,d,p){return createReactRouterInstrumentation(i,"react-router-v4",d,p)}function reactRouterV5Instrumentation(i,d,p){return createReactRouterInstrumentation(i,"react-router-v5",d,p)}function createReactRouterInstrumentation(i,d,p,v){function getTransactionName(i){if(0===p.length||!v)return i;for(var d=matchRoutes(p,i,v),S=0;S<d.length;S++)if(d[S].match.isExact)return d[S].match.path;return i}return void 0===p&&(p=[]),function(p,v,S){void 0===v&&(v=!0),void 0===S&&(S=!0);var T=function getInitPathName(){return i&&i.location?i.location.pathname:Z&&Z.location?Z.location.pathname:void 0}();v&&T&&(X=p({name:getTransactionName(T),op:"pageload",tags:{"routing.instrumentation":d}})),S&&i.listen&&i.listen((function(i,v){if(v&&("PUSH"===v||"POP"===v)){X&&X.finish();var S={"routing.instrumentation":d};X=p({name:getTransactionName(i.pathname),op:"navigation",tags:S})}}))}}function matchRoutes(i,d,p,v){return void 0===v&&(v=[]),i.some((function(i){var S=i.path?p(d,i):v.length?v[v.length-1].match:function computeRootMatch(i){return{path:"/",url:"/",params:{},isExact:"/"===i}}(d);return S&&(v.push({route:i,match:S}),i.routes&&matchRoutes(i.routes,d,p,v)),!!S})),v}function withSentryRouting(i){var d=i.displayName||i.name,WrappedRoute=function(d){return X&&d&&d.computedMatch&&d.computedMatch.isExact&&X.setName(d.computedMatch.path),P.createElement(i,__assign({},d))};return WrappedRoute.displayName="sentryRoute("+d+")",R()(WrappedRoute,i),WrappedRoute}},13819:(i,d,p)=>{"use strict";var v;p.d(d,{z:()=>v}),function(i){i.Fatal="fatal",i.Error="error",i.Warning="warning",i.Log="log",i.Info="info",i.Debug="debug",i.Critical="critical"}(v||(v={}))},58464:(i,d,p)=>{"use strict";p.d(d,{R:()=>htmlTreeAsString,l:()=>getLocationHref});var v=p(82991),S=p(67597);function htmlTreeAsString(i,d){try{for(var p=i,v=[],S=0,T=0,O=" > ".length,I=void 0;p&&S++<5&&!("html"===(I=_htmlElementAsString(p,d))||S>1&&T+v.length*O+I.length>=80);)v.push(I),T+=I.length,p=p.parentNode;return v.reverse().join(" > ")}catch(i){return"<unknown>"}}function _htmlElementAsString(i,d){var p,v,T,O,I,N=i,R=[];if(!N||!N.tagName)return"";R.push(N.tagName.toLowerCase());var P=d&&d.length?d.filter((function(i){return N.getAttribute(i)})).map((function(i){return[i,N.getAttribute(i)]})):null;if(P&&P.length)P.forEach((function(i){R.push("["+i[0]+'="'+i[1]+'"]')}));else if(N.id&&R.push("#"+N.id),(p=N.className)&&(0,S.HD)(p))for(v=p.split(/\s+/),I=0;I<v.length;I++)R.push("."+v[I]);var k=["type","name","title","alt"];for(I=0;I<k.length;I++)T=k[I],(O=N.getAttribute(T))&&R.push("["+T+'="'+O+'"]');return R.join("")}function getLocationHref(){var i=(0,v.R)();try{return i.document.location.href}catch(i){return""}}},30292:(i,d,p)=>{"use strict";p.d(d,{R:()=>dsnToString,v:()=>makeDsn});var v=p(50832),S=p(68518),T=p(88266),O=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+))?@)([\w.-]+)(?::(\d+))?\/(.+)/;function dsnToString(i,d){void 0===d&&(d=!1);var p=i.host,v=i.path,S=i.pass,T=i.port,O=i.projectId;return i.protocol+"://"+i.publicKey+(d&&S?":"+S:"")+"@"+p+(T?":"+T:"")+"/"+(v?v+"/":v)+O}function dsnFromComponents(i){return"user"in i&&!("publicKey"in i)&&(i.publicKey=i.user),{user:i.publicKey||"",protocol:i.protocol,publicKey:i.publicKey||"",pass:i.pass||"",host:i.host,port:i.port||"",path:i.path||"",projectId:i.projectId}}function makeDsn(i){var d="string"==typeof i?function dsnFromString(i){var d=O.exec(i);if(!d)throw new T.b("Invalid Sentry Dsn: "+i);var p=(0,v.CR)(d.slice(1),6),S=p[0],I=p[1],N=p[2],R=void 0===N?"":N,P=p[3],k=p[4],L=void 0===k?"":k,M="",F=p[5],U=F.split("/");if(U.length>1&&(M=U.slice(0,-1).join("/"),F=U.pop()),F){var j=F.match(/^\d+/);j&&(F=j[0])}return dsnFromComponents({host:P,pass:R,path:M,projectId:F,port:L,protocol:S,publicKey:I})}(i):dsnFromComponents(i);return function validateDsn(i){if((0,S.c)()){var d=i.port,p=i.projectId,v=i.protocol;if(["protocol","publicKey","host","projectId"].forEach((function(d){if(!i[d])throw new T.b("Invalid Sentry Dsn: "+d+" missing")})),!p.match(/^\d+$/))throw new T.b("Invalid Sentry Dsn: Invalid projectId "+p);if(!function isValidProtocol(i){return"http"===i||"https"===i}(v))throw new T.b("Invalid Sentry Dsn: Invalid protocol "+v);if(d&&isNaN(parseInt(d,10)))throw new T.b("Invalid Sentry Dsn: Invalid port "+d);return!0}}(d),d}},68518:(i,d,p)=>{"use strict";function isDebugBuild(){return"undefined"!=typeof __SENTRY_NO_DEBUG__&&!__SENTRY_BROWSER_BUNDLE__}function isBrowserBundle(){return"undefined"!=typeof __SENTRY_BROWSER_BUNDLE__&&!!__SENTRY_BROWSER_BUNDLE__}p.d(d,{c:()=>isDebugBuild,n:()=>isBrowserBundle})},88266:(i,d,p)=>{"use strict";p.d(d,{b:()=>T});var v=p(50832),S=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function setProtoOf(i,d){return i.__proto__=d,i}:function mixinProperties(i,d){for(var p in d)Object.prototype.hasOwnProperty.call(i,p)||(i[p]=d[p]);return i});var T=function(i){function SentryError(d){var p=this.constructor,v=i.call(this,d)||this;return v.message=d,v.name=p.prototype.constructor.name,S(v,p.prototype),v}return(0,v.ZT)(SentryError,i),SentryError}(Error)},82991:(i,d,p)=>{"use strict";p.d(d,{R:()=>getGlobalObject});var v=p(61422),S={};function getGlobalObject(){return(0,v.KV)()?p.g:"undefined"!=typeof window?window:"undefined"!=typeof self?self:S}},9732:(i,d,p)=>{"use strict";p.d(d,{o:()=>addInstrumentationHandler});var v,S=p(50832),T=p(68518),O=p(82991),I=p(67597),N=p(12343),R=p(62470),P=p(30360),k=p(8823),L=(0,O.R)(),M={},F={};function instrument(i){if(!F[i])switch(F[i]=!0,i){case"console":!function instrumentConsole(){if(!("console"in L))return;["debug","info","warn","error","log","assert"].forEach((function(i){i in L.console&&(0,R.hl)(L.console,i,(function(d){return function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];triggerHandlers("console",{args:p,level:i}),d&&d.apply(L.console,p)}}))}))}();break;case"dom":!function instrumentDOM(){if(!("document"in L))return;var i=triggerHandlers.bind(null,"dom"),d=makeDOMEventHandler(i,!0);L.document.addEventListener("click",d,!1),L.document.addEventListener("keypress",d,!1),["EventTarget","Node"].forEach((function(d){var p=L[d]&&L[d].prototype;p&&p.hasOwnProperty&&p.hasOwnProperty("addEventListener")&&((0,R.hl)(p,"addEventListener",(function(d){return function(p,v,S){if("click"===p||"keypress"==p)try{var T=this,O=T.__sentry_instrumentation_handlers__=T.__sentry_instrumentation_handlers__||{},I=O[p]=O[p]||{refCount:0};if(!I.handler){var N=makeDOMEventHandler(i);I.handler=N,d.call(this,p,N,S)}I.refCount+=1}catch(i){}return d.call(this,p,v,S)}})),(0,R.hl)(p,"removeEventListener",(function(i){return function(d,p,v){if("click"===d||"keypress"==d)try{var S=this,T=S.__sentry_instrumentation_handlers__||{},O=T[d];O&&(O.refCount-=1,O.refCount<=0&&(i.call(this,d,O.handler,v),O.handler=void 0,delete T[d]),0===Object.keys(T).length&&delete S.__sentry_instrumentation_handlers__)}catch(i){}return i.call(this,d,p,v)}})))}))}();break;case"xhr":!function instrumentXHR(){if(!("XMLHttpRequest"in L))return;var i=XMLHttpRequest.prototype;(0,R.hl)(i,"open",(function(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v=this,S=d[1],T=v.__sentry_xhr__={method:(0,I.HD)(d[0])?d[0].toUpperCase():d[0],url:d[1]};(0,I.HD)(S)&&"POST"===T.method&&S.match(/sentry_key/)&&(v.__sentry_own_request__=!0);var onreadystatechangeHandler=function(){if(4===v.readyState){try{T.status_code=v.status}catch(i){}triggerHandlers("xhr",{args:d,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:v})}};return"onreadystatechange"in v&&"function"==typeof v.onreadystatechange?(0,R.hl)(v,"onreadystatechange",(function(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return onreadystatechangeHandler(),i.apply(v,d)}})):v.addEventListener("readystatechange",onreadystatechangeHandler),i.apply(v,d)}})),(0,R.hl)(i,"send",(function(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return this.__sentry_xhr__&&void 0!==d[0]&&(this.__sentry_xhr__.body=d[0]),triggerHandlers("xhr",{args:d,startTimestamp:Date.now(),xhr:this}),i.apply(this,d)}}))}();break;case"fetch":!function instrumentFetch(){if(!(0,k.t$)())return;(0,R.hl)(L,"fetch",(function(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var v={args:d,fetchData:{method:getFetchMethod(d),url:getFetchUrl(d)},startTimestamp:Date.now()};return triggerHandlers("fetch",(0,S.pi)({},v)),i.apply(L,d).then((function(i){return triggerHandlers("fetch",(0,S.pi)((0,S.pi)({},v),{endTimestamp:Date.now(),response:i})),i}),(function(i){throw triggerHandlers("fetch",(0,S.pi)((0,S.pi)({},v),{endTimestamp:Date.now(),error:i})),i}))}}))}();break;case"history":!function instrumentHistory(){if(!(0,k.Bf)())return;var i=L.onpopstate;function historyReplacementFunction(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var S=d.length>2?d[2]:void 0;if(S){var T=v,O=String(S);v=O,triggerHandlers("history",{from:T,to:O})}return i.apply(this,d)}}L.onpopstate=function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];var S=L.location.href,T=v;if(v=S,triggerHandlers("history",{from:T,to:S}),i)try{return i.apply(this,d)}catch(i){}},(0,R.hl)(L.history,"pushState",historyReplacementFunction),(0,R.hl)(L.history,"replaceState",historyReplacementFunction)}();break;case"error":!function instrumentError(){H=L.onerror,L.onerror=function(i,d,p,v,S){return triggerHandlers("error",{column:v,error:S,line:p,msg:i,url:d}),!!H&&H.apply(this,arguments)}}();break;case"unhandledrejection":!function instrumentUnhandledRejection(){V=L.onunhandledrejection,L.onunhandledrejection=function(i){return triggerHandlers("unhandledrejection",i),!V||V.apply(this,arguments)}}();break;default:N.k.warn("unknown instrumentation type:",i)}}function addInstrumentationHandler(i,d){M[i]=M[i]||[],M[i].push(d),instrument(i)}function triggerHandlers(i,d){var p,v;if(i&&M[i])try{for(var O=(0,S.XA)(M[i]||[]),I=O.next();!I.done;I=O.next()){var R=I.value;try{R(d)}catch(d){(0,T.c)()&&N.k.error("Error while triggering instrumentation handler.\nType: "+i+"\nName: "+(0,P.$P)(R)+"\nError: "+d)}}}catch(i){p={error:i}}finally{try{I&&!I.done&&(v=O.return)&&v.call(O)}finally{if(p)throw p.error}}}function getFetchMethod(i){return void 0===i&&(i=[]),"Request"in L&&(0,I.V9)(i[0],Request)&&i[0].method?String(i[0].method).toUpperCase():i[1]&&i[1].method?String(i[1].method).toUpperCase():"GET"}function getFetchUrl(i){return void 0===i&&(i=[]),"string"==typeof i[0]?i[0]:"Request"in L&&(0,I.V9)(i[0],Request)?i[0].url:String(i[0])}var U,j;function makeDOMEventHandler(i,d){return void 0===d&&(d=!1),function(p){if(p&&j!==p&&!function shouldSkipDOMEvent(i){if("keypress"!==i.type)return!1;try{var d=i.target;if(!d||!d.tagName)return!0;if("INPUT"===d.tagName||"TEXTAREA"===d.tagName||d.isContentEditable)return!1}catch(i){}return!0}(p)){var v="keypress"===p.type?"input":p.type;(void 0===U||function shouldShortcircuitPreviousDebounce(i,d){if(!i)return!0;if(i.type!==d.type)return!0;try{if(i.target!==d.target)return!0}catch(i){}return!1}(j,p))&&(i({event:p,name:v,global:d}),j=p),clearTimeout(U),U=L.setTimeout((function(){U=void 0}),1e3)}}}var H=null;var V=null},67597:(i,d,p)=>{"use strict";p.d(d,{VZ:()=>isError,VW:()=>isErrorEvent,TX:()=>isDOMError,fm:()=>isDOMException,HD:()=>isString,pt:()=>isPrimitive,PO:()=>isPlainObject,cO:()=>isEvent,kK:()=>isElement,Kj:()=>isRegExp,J8:()=>isThenable,Cy:()=>isSyntheticEvent,V9:()=>isInstanceOf});var v=Object.prototype.toString;function isError(i){switch(v.call(i)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return isInstanceOf(i,Error)}}function isBuiltin(i,d){return v.call(i)==="[object "+d+"]"}function isErrorEvent(i){return isBuiltin(i,"ErrorEvent")}function isDOMError(i){return isBuiltin(i,"DOMError")}function isDOMException(i){return isBuiltin(i,"DOMException")}function isString(i){return isBuiltin(i,"String")}function isPrimitive(i){return null===i||"object"!=typeof i&&"function"!=typeof i}function isPlainObject(i){return isBuiltin(i,"Object")}function isEvent(i){return"undefined"!=typeof Event&&isInstanceOf(i,Event)}function isElement(i){return"undefined"!=typeof Element&&isInstanceOf(i,Element)}function isRegExp(i){return isBuiltin(i,"RegExp")}function isThenable(i){return Boolean(i&&i.then&&"function"==typeof i.then)}function isSyntheticEvent(i){return isPlainObject(i)&&"nativeEvent"in i&&"preventDefault"in i&&"stopPropagation"in i}function isInstanceOf(i,d){try{return i instanceof d}catch(i){return!1}}},12343:(i,d,p)=>{"use strict";p.d(d,{C:()=>consoleSandbox,k:()=>I});var v=p(82991),S=(0,v.R)(),T="Sentry Logger ";function consoleSandbox(i){var d=(0,v.R)();if(!("console"in d))return i();var p=d.console,S={};["debug","info","warn","error","log","assert"].forEach((function(i){i in d.console&&p[i].__sentry_original__&&(S[i]=p[i],p[i]=p[i].__sentry_original__)}));var T=i();return Object.keys(S).forEach((function(i){p[i]=S[i]})),T}var O=function(){function Logger(){this._enabled=!1}return Logger.prototype.disable=function(){this._enabled=!1},Logger.prototype.enable=function(){this._enabled=!0},Logger.prototype.log=function(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];this._enabled&&consoleSandbox((function(){S.console.log(T+"[Log]: "+i.join(" "))}))},Logger.prototype.warn=function(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];this._enabled&&consoleSandbox((function(){S.console.warn(T+"[Warn]: "+i.join(" "))}))},Logger.prototype.error=function(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];this._enabled&&consoleSandbox((function(){S.console.error(T+"[Error]: "+i.join(" "))}))},Logger}();S.__SENTRY__=S.__SENTRY__||{};var I=S.__SENTRY__.logger||(S.__SENTRY__.logger=new O)},62844:(i,d,p)=>{"use strict";p.d(d,{DM:()=>uuid4,en:()=>parseUrl,jH:()=>getEventDescription,Db:()=>addExceptionTypeValue,EG:()=>addExceptionMechanism,JY:()=>parseRetryAfterHeader,YO:()=>checkOrSetAlreadyCaught});var v=p(50832),S=p(82991),T=p(62470);function uuid4(){var i=(0,S.R)(),d=i.crypto||i.msCrypto;if(void 0!==d&&d.getRandomValues){var p=new Uint16Array(8);d.getRandomValues(p),p[3]=4095&p[3]|16384,p[4]=16383&p[4]|32768;var pad=function(i){for(var d=i.toString(16);d.length<4;)d="0"+d;return d};return pad(p[0])+pad(p[1])+pad(p[2])+pad(p[3])+pad(p[4])+pad(p[5])+pad(p[6])+pad(p[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,(function(i){var d=16*Math.random()|0;return("x"===i?d:3&d|8).toString(16)}))}function parseUrl(i){if(!i)return{};var d=i.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!d)return{};var p=d[6]||"",v=d[8]||"";return{host:d[4],path:d[5],protocol:d[2],relative:d[5]+p+v}}function getFirstException(i){return i.exception&&i.exception.values?i.exception.values[0]:void 0}function getEventDescription(i){var d=i.message,p=i.event_id;if(d)return d;var v=getFirstException(i);return v?v.type&&v.value?v.type+": "+v.value:v.type||v.value||p||"<unknown>":p||"<unknown>"}function addExceptionTypeValue(i,d,p){var v=i.exception=i.exception||{},S=v.values=v.values||[],T=S[0]=S[0]||{};T.value||(T.value=d||""),T.type||(T.type=p||"Error")}function addExceptionMechanism(i,d){var p=getFirstException(i);if(p){var S=p.mechanism;if(p.mechanism=(0,v.pi)((0,v.pi)((0,v.pi)({},{type:"generic",handled:!0}),S),d),d&&"data"in d){var T=(0,v.pi)((0,v.pi)({},S&&S.data),d.data);p.mechanism.data=T}}}function parseRetryAfterHeader(i,d){if(!d)return 6e4;var p=parseInt(""+d,10);if(!isNaN(p))return 1e3*p;var v=Date.parse(""+d);return isNaN(v)?6e4:v-i}function checkOrSetAlreadyCaught(i){if(i&&i.__sentry_captured__)return!0;try{(0,T.xp)(i,"__sentry_captured__",!0)}catch(i){}return!1}},61422:(i,d,p)=>{"use strict";p.d(d,{KV:()=>isNodeEnv,l$:()=>dynamicRequire});var v=p(68518);function isNodeEnv(){return!(0,v.n)()&&"[object process]"===Object.prototype.toString.call("undefined"!=typeof process?process:0)}function dynamicRequire(i,d){return i.require(d)}i=p.hmd(i)},62470:(i,d,p)=>{"use strict";p.d(d,{xp:()=>addNonEnumerableProperty,Jr:()=>dropUndefinedKeys,zf:()=>extractExceptionKeysForMessage,hl:()=>fill,HK:()=>getOriginalFunction,$Q:()=>markFunctionWrapped,Fv:()=>normalize,Qy:()=>normalizeToSize,_j:()=>urlEncode});var v=p(50832),S=p(58464),T=p(67597);var O=p(30360),I=p(57321);function fill(i,d,p){if(d in i){var v=i[d],S=p(v);if("function"==typeof S)try{markFunctionWrapped(S,v)}catch(i){}i[d]=S}}function addNonEnumerableProperty(i,d,p){Object.defineProperty(i,d,{value:p,writable:!0,configurable:!0})}function markFunctionWrapped(i,d){var p=d.prototype||{};i.prototype=d.prototype=p,addNonEnumerableProperty(i,"__sentry_original__",d)}function getOriginalFunction(i){return i.__sentry_original__}function urlEncode(i){return Object.keys(i).map((function(d){return encodeURIComponent(d)+"="+encodeURIComponent(i[d])})).join("&")}function getWalkSource(i){if((0,T.VZ)(i)){var d=i,p={message:d.message,name:d.name,stack:d.stack};for(var v in d)Object.prototype.hasOwnProperty.call(d,v)&&(p[v]=d[v]);return p}if((0,T.cO)(i)){var O=i,I={};I.type=O.type;try{I.target=(0,T.kK)(O.target)?(0,S.R)(O.target):Object.prototype.toString.call(O.target)}catch(i){I.target="<unknown>"}try{I.currentTarget=(0,T.kK)(O.currentTarget)?(0,S.R)(O.currentTarget):Object.prototype.toString.call(O.currentTarget)}catch(i){I.currentTarget="<unknown>"}for(var N in"undefined"!=typeof CustomEvent&&(0,T.V9)(i,CustomEvent)&&(I.detail=O.detail),O)Object.prototype.hasOwnProperty.call(O,N)&&(I[N]=O[N]);return I}return i}function jsonSize(i){return function utf8Length(i){return~-encodeURI(i).split(/%..|./).length}(JSON.stringify(i))}function normalizeToSize(i,d,p){void 0===d&&(d=3),void 0===p&&(p=102400);var v=normalize(i,d);return jsonSize(v)>p?normalizeToSize(i,d-1,p):v}function normalizeValue(i,d){return"domain"===d&&i&&"object"==typeof i&&i._events?"[Domain]":"domainEmitter"===d?"[DomainEmitter]":void 0!==p.g&&i===p.g?"[Global]":"undefined"!=typeof window&&i===window?"[Window]":"undefined"!=typeof document&&i===document?"[Document]":(0,T.Cy)(i)?"[SyntheticEvent]":"number"==typeof i&&i!=i?"[NaN]":void 0===i?"[undefined]":"function"==typeof i?"[Function: "+(0,O.$P)(i)+"]":"symbol"==typeof i?"["+String(i)+"]":"bigint"==typeof i?"[BigInt: "+String(i)+"]":i}function walk(i,d,p,v){if(void 0===p&&(p=1/0),void 0===v&&(v=function memoBuilder(){var i="function"==typeof WeakSet,d=i?new WeakSet:[];return[function memoize(p){if(i)return!!d.has(p)||(d.add(p),!1);for(var v=0;v<d.length;v++)if(d[v]===p)return!0;return d.push(p),!1},function unmemoize(p){if(i)d.delete(p);else for(var v=0;v<d.length;v++)if(d[v]===p){d.splice(v,1);break}}]}()),0===p)return function serializeValue(i){if("string"==typeof i)return i;var d=Object.prototype.toString.call(i);if("[object Object]"===d)return"[Object]";if("[object Array]"===d)return"[Array]";var p=normalizeValue(i);return(0,T.pt)(p)?p:d}(d);if(null!=d&&"function"==typeof d.toJSON)return d.toJSON();var S=normalizeValue(d,i);if((0,T.pt)(S))return S;var O=getWalkSource(d),I=Array.isArray(d)?[]:{};if(v[0](d))return"[Circular ~]";for(var N in O)Object.prototype.hasOwnProperty.call(O,N)&&(I[N]=walk(N,O[N],p-1,v));return v[1](d),I}function normalize(i,d){try{return JSON.parse(JSON.stringify(i,(function(i,p){return walk(i,p,d)})))}catch(i){return"**non-serializable**"}}function extractExceptionKeysForMessage(i,d){void 0===d&&(d=40);var p=Object.keys(getWalkSource(i));if(p.sort(),!p.length)return"[object has no keys]";if(p[0].length>=d)return(0,I.$G)(p[0],d);for(var v=p.length;v>0;v--){var S=p.slice(0,v).join(", ");if(!(S.length>d))return v===p.length?S:(0,I.$G)(S,d)}return""}function dropUndefinedKeys(i){var d,p;if((0,T.PO)(i)){var S=i,O={};try{for(var I=(0,v.XA)(Object.keys(S)),N=I.next();!N.done;N=I.next()){var R=N.value;void 0!==S[R]&&(O[R]=dropUndefinedKeys(S[R]))}}catch(i){d={error:i}}finally{try{N&&!N.done&&(p=I.return)&&p.call(I)}finally{if(d)throw d.error}}return O}return Array.isArray(i)?i.map(dropUndefinedKeys):i}},30360:(i,d,p)=>{"use strict";p.d(d,{pE:()=>createStackParser,$P:()=>getFunctionName});var v=p(50832);function createStackParser(){for(var i=[],d=0;d<arguments.length;d++)i[d]=arguments[d];return function(d,p){var S,T,O,I;void 0===p&&(p=0);var N=[];try{for(var R=(0,v.XA)(d.split("\n").slice(p)),P=R.next();!P.done;P=R.next()){var k=P.value;try{for(var L=(O=void 0,(0,v.XA)(i)),M=L.next();!M.done;M=L.next()){var F=(0,M.value)(k);if(F){N.push(F);break}}}catch(i){O={error:i}}finally{try{M&&!M.done&&(I=L.return)&&I.call(L)}finally{if(O)throw O.error}}}}catch(i){S={error:i}}finally{try{P&&!P.done&&(T=R.return)&&T.call(R)}finally{if(S)throw S.error}}return stripSentryFramesAndReverse(N)}}function stripSentryFramesAndReverse(i){if(!i.length)return[];var d=i,p=d[0].function||"",S=d[d.length-1].function||"";return-1===p.indexOf("captureMessage")&&-1===p.indexOf("captureException")||(d=d.slice(1)),-1!==S.indexOf("sentryWrapped")&&(d=d.slice(0,-1)),d.slice(0,50).map((function(i){return(0,v.pi)((0,v.pi)({},i),{filename:i.filename||d[0].filename,function:i.function||"?"})})).reverse()}var S="<anonymous>";function getFunctionName(i){try{return i&&"function"==typeof i&&i.name||S}catch(i){return S}}},57321:(i,d,p)=>{"use strict";p.d(d,{$G:()=>truncate,nK:()=>safeJoin,zC:()=>isMatchingPattern});var v=p(67597);function truncate(i,d){return void 0===d&&(d=0),"string"!=typeof i||0===d||i.length<=d?i:i.substr(0,d)+"..."}function safeJoin(i,d){if(!Array.isArray(i))return"";for(var p=[],v=0;v<i.length;v++){var S=i[v];try{p.push(String(S))}catch(i){p.push("[value cannot be serialized]")}}return p.join(d)}function isMatchingPattern(i,d){return!!(0,v.HD)(i)&&((0,v.Kj)(d)?d.test(i):"string"==typeof d&&-1!==i.indexOf(d))}},8823:(i,d,p)=>{"use strict";p.d(d,{Ak:()=>supportsFetch,Du:()=>isNativeFetch,t$:()=>supportsNativeFetch,hv:()=>supportsReferrerPolicy,Bf:()=>supportsHistory});var v=p(68518),S=p(82991),T=p(12343);function supportsFetch(){if(!("fetch"in(0,S.R)()))return!1;try{return new Headers,new Request(""),new Response,!0}catch(i){return!1}}function isNativeFetch(i){return i&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(i.toString())}function supportsNativeFetch(){if(!supportsFetch())return!1;var i=(0,S.R)();if(isNativeFetch(i.fetch))return!0;var d=!1,p=i.document;if(p&&"function"==typeof p.createElement)try{var O=p.createElement("iframe");O.hidden=!0,p.head.appendChild(O),O.contentWindow&&O.contentWindow.fetch&&(d=isNativeFetch(O.contentWindow.fetch)),p.head.removeChild(O)}catch(i){(0,v.c)()&&T.k.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",i)}return d}function supportsReferrerPolicy(){if(!supportsFetch())return!1;try{return new Request("_",{referrerPolicy:"origin"}),!0}catch(i){return!1}}function supportsHistory(){var i=(0,S.R)(),d=i.chrome,p=d&&d.app&&d.app.runtime,v="history"in i&&!!i.history.pushState&&!!i.history.replaceState;return!p&&v}},96893:(i,d,p)=>{"use strict";p.d(d,{WD:()=>resolvedSyncPromise,$2:()=>rejectedSyncPromise,cW:()=>S});var v=p(67597);function resolvedSyncPromise(i){return new S((function(d){d(i)}))}function rejectedSyncPromise(i){return new S((function(d,p){p(i)}))}var S=function(){function SyncPromise(i){var d=this;this._state=0,this._handlers=[],this._resolve=function(i){d._setResult(1,i)},this._reject=function(i){d._setResult(2,i)},this._setResult=function(i,p){0===d._state&&((0,v.J8)(p)?p.then(d._resolve,d._reject):(d._state=i,d._value=p,d._executeHandlers()))},this._executeHandlers=function(){if(0!==d._state){var i=d._handlers.slice();d._handlers=[],i.forEach((function(i){i[0]||(1===d._state&&i[1](d._value),2===d._state&&i[2](d._value),i[0]=!0)}))}};try{i(this._resolve,this._reject)}catch(i){this._reject(i)}}return SyncPromise.prototype.then=function(i,d){var p=this;return new SyncPromise((function(v,S){p._handlers.push([!1,function(d){if(i)try{v(i(d))}catch(i){S(i)}else v(d)},function(i){if(d)try{v(d(i))}catch(i){S(i)}else S(i)}]),p._executeHandlers()}))},SyncPromise.prototype.catch=function(i){return this.then((function(i){return i}),i)},SyncPromise.prototype.finally=function(i){var d=this;return new SyncPromise((function(p,v){var S,T;return d.then((function(d){T=!1,S=d,i&&i()}),(function(d){T=!0,S=d,i&&i()})).then((function(){T?v(S):p(S)}))}))},SyncPromise}()},21170:(i,d,p)=>{"use strict";p.d(d,{yW:()=>N,ph:()=>R,_I:()=>P});var v=p(82991),S=p(61422);i=p.hmd(i);var T={nowSeconds:function(){return Date.now()/1e3}};var O=(0,S.KV)()?function getNodePerformance(){try{return(0,S.l$)(i,"perf_hooks").performance}catch(i){return}}():function getBrowserPerformance(){var i=(0,v.R)().performance;if(i&&i.now)return{now:function(){return i.now()},timeOrigin:Date.now()-i.now()}}(),I=void 0===O?T:{nowSeconds:function(){return(O.timeOrigin+O.now())/1e3}},N=T.nowSeconds.bind(T),R=I.nowSeconds.bind(I),P=R;!function(){var i=(0,v.R)().performance;if(i&&i.now){var d=36e5,p=i.now(),S=Date.now(),T=i.timeOrigin?Math.abs(i.timeOrigin+p-S):d,O=T<d,I=i.timing&&i.timing.navigationStart,N="number"==typeof I?Math.abs(I+p-S):d;return O||N<d?T<=N?("timeOrigin",i.timeOrigin):("navigationStart",I):("dateNow",S)}"none"}()},50832:(i,d,p)=>{"use strict";p.d(d,{ZT:()=>__extends,pi:()=>__assign,XA:()=>__values,CR:()=>__read});var extendStatics=function(i,d){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p])},extendStatics(i,d)};function __extends(i,d){function __(){this.constructor=i}extendStatics(i,d),i.prototype=null===d?Object.create(d):(__.prototype=d.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __values(i){var d="function"==typeof Symbol&&Symbol.iterator,p=d&&i[d],v=0;if(p)return p.call(i);if(i&&"number"==typeof i.length)return{next:function(){return i&&v>=i.length&&(i=void 0),{value:i&&i[v++],done:!i}}};throw new TypeError(d?"Object is not iterable.":"Symbol.iterator is not defined.")}function __read(i,d){var p="function"==typeof Symbol&&i[Symbol.iterator];if(!p)return i;var v,S,T=p.call(i),O=[];try{for(;(void 0===d||d-- >0)&&!(v=T.next()).done;)O.push(v.value)}catch(i){S={error:i}}finally{try{v&&!v.done&&(p=T.return)&&p.call(T)}finally{if(S)throw S.error}}return O}},13998:(i,d,p)=>{"use strict";p.d(d,{eB:()=>getSplitNames,AU:()=>asyncActions_getTreatments,Eo:()=>initSplitSdk,P0:()=>reducer});var v={treatment:"control",config:null},S="SPLIT_READY",T="SPLIT_READY_WITH_EVALUATIONS",O="SPLIT_READY_FROM_CACHE",I="SPLIT_READY_FROM_CACHE_WITH_EVALUATIONS",N="SPLIT_UPDATE",R="SPLIT_UPDATE_WITH_EVALUATIONS",P="SPLIT_TIMEDOUT",k="SPLIT_DESTROY",L="ADD_TREATMENTS",__assign=function(){return __assign=Object.assign||function(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)},M={isReady:!1,isReadyFromCache:!1,isTimedout:!1,hasTimedout:!1,isDestroyed:!1,lastUpdate:0,treatments:{}};function setReady(i,d){return __assign(__assign({},i),{isReady:!0,isTimedout:!1,lastUpdate:d})}function setReadyFromCache(i,d){return __assign(__assign({},i),{isReadyFromCache:!0,lastUpdate:d})}function setUpdated(i,d){return __assign(__assign({},i),{lastUpdate:d})}function assignTreatments(i,d,p){return i.treatments=__assign({},i.treatments),Object.entries(p).forEach((function(p){var v,S,T=p[0],O=p[1];if(i.treatments[T]){var I=i.treatments[T];I[d]&&I[d].treatment===O.treatment&&I[d].config===O.config||(i.treatments[T]=__assign(__assign({},i.treatments[T]),((v={})[d]=O,v)))}else i.treatments[T]=((S={})[d]=O,S)})),i}const reducer=function(i,d){switch(void 0===i&&(i=M),d.type){case S:return setReady(i,d.payload.timestamp);case O:return setReadyFromCache(i,d.payload.timestamp);case P:return __assign(__assign({},i),{isTimedout:!0,hasTimedout:!0,lastUpdate:d.payload.timestamp});case N:return setUpdated(i,d.payload.timestamp);case k:return __assign(__assign({},i),{isDestroyed:!0,lastUpdate:d.payload.timestamp});case L:var p=d.payload,v=p.key,F=p.treatments;return assignTreatments(__assign({},i),v,F);case T:var U=d.payload;v=U.key,F=U.treatments;return assignTreatments(setReady(i,U.timestamp),v,F);case I:var j=d.payload;v=j.key,F=j.treatments;return assignTreatments(setReadyFromCache(i,j.timestamp),v,F);case R:var H=d.payload;v=H.key,F=H.treatments;return assignTreatments(setUpdated(i,H.timestamp),v,F);default:return i}};var F=p(27418),U=p.n(F);const thenable=function(i){return null!=i&&"function"==typeof i.then};function startsWith(i,d){return!(!isString(i)||!isString(d))&&i.slice(0,d.length)===d}function get(i,d,p){var v=p;try{var S=d.split("."),T=i;S.forEach((function(i){return T=T[i]})),void 0!==T&&(v=T)}catch(i){}return v}function findIndex(i,d){if(Array.isArray(i)&&"function"==typeof d)for(var p=0;p<i.length;p++)if(!0===d(i[p],p,i))return p;return-1}function find(i,d){var p;if(isObject(i))for(var v=Object.keys(i),S=0;S<v.length&&!p;S++){var T=v[S];d(i[T],T,i)&&(p=i[T])}else if(Array.isArray(i))for(var O=0;O<i.length&&!p;O++){d(i[O],O,i)&&(p=i[O])}return p}function isString(i){return"string"==typeof i||i instanceof String}function numberIsFinite(i){return i instanceof Number&&(i=i.valueOf()),"number"==typeof i&&(Number.isFinite?Number.isFinite(i):isFinite(i))}function numberIsNaN(i){return i instanceof Number&&(i=i.valueOf()),i!=i}var j=-1;function isObject(i){return i&&"object"==typeof i&&i.constructor===Object}function merge(i,d){var p=i;isObject(d)&&Object.keys(d).forEach((function(i){var v=d[i];isObject(v)&&(v=p[i]&&isObject(p[i])?merge({},p[i],v):merge({},v)),void 0!==v&&(p[i]=v)}));for(var v=arguments.length,S=new Array(v>2?v-2:0),T=2;T<v;T++)S[T-2]=arguments[T];if(S&&S.length){var O=S.splice(0,1)[0];p=merge.apply(void 0,[p,O].concat(S))}return p}function uniq(i){var d={};return i.filter((function(i){return!Object.prototype.hasOwnProperty.call(d,i)&&(d[i]=!0)}))}function lang_toString(i){if(null==i)return"";if("string"==typeof i)return i;if(Array.isArray(i))return i.map((function(i){return isString(i)?i:""}))+"";var d=i+"";return"0"===d&&1/i===Number.NEGATIVE_INFINITY?"-0":d}function toNumber(i){if("number"==typeof i)return i;if(isObject(i)&&"function"==typeof i.valueOf){var d=i.valueOf();i=isObject(d)?d+"":d}return"string"!=typeof i?0===i?i:+i:+(i=i.replace(/^\s+|\s+$/g,""))}function forOwn(i,d){return Object.keys(i).forEach((function(p){return d(i[p],p,i)})),i}function isBoolean(i){return!0===i||!1===i}var H={DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",NONE:"NONE"},V={DEBUG:1,INFO:2,WARN:3,ERROR:4,NONE:5},Y=V.DEBUG,G=function setLogLevel(i){Y=V[i]},W={showLevel:!0,displayAllErrors:!1},q=function(){function Logger(i,d){this.category=i,this.options=U()({},W,d)}var i=Logger.prototype;return i.debug=function debug(i){this._shouldLog(V.DEBUG)&&this._log(H.DEBUG,i)},i.info=function info(i){this._shouldLog(V.INFO)&&this._log(H.INFO,i)},i.warn=function warn(i){this._shouldLog(V.WARN)&&this._log(H.WARN,i)},i.error=function error(i){(this.options.displayAllErrors||this._shouldLog(V.ERROR))&&this._log(H.ERROR,i)},i._log=function _log(i,d){var p=this._generateLogMessage(i,d);console.log(p)},i._generateLogMessage=function _generateLogMessage(i,d){var p="";return this.options.showLevel&&(p+="["+i+"]"+(i===H.INFO||i===H.WARN?" ":"")+" "),this.category&&(p+=this.category+" => "),p+d},i._shouldLog=function _shouldLog(i){return i>=Y},Logger}();function isLocalStorageAvailable(){var i="__SPLITSOFTWARE__";try{return localStorage.setItem(i,i),localStorage.removeItem(i),!0}catch(i){return!1}}var Q=function isLogLevelString(i){return!!find(H,(function(d){return i===d}))},X={showLevel:!0,displayAllErrors:!1},Z=!1;"undefined"!=typeof process&&void 0!==process.version&&process.version&&(Z=!0);var J=String(Z?process.env.SPLITIO_DEBUG:isLocalStorageAvailable()?localStorage.getItem("splitio_debug"):""),$=function createLog(i,d){return void 0===d&&(d={}),new q(i,merge(d,X))},ee=$("splitio-utils:logger"),te={enable:function enable(){G(H.DEBUG)},setLogLevel:function setLogLevel(i){Q(i)?G(i):ee.error("Invalid Log Level - No changes to the logs will be applied.")},disable:function disable(){G(H.NONE)},LogLevel:H};/^(enabled?|on)/i.test(J)?te.enable(H.DEBUG):Q(J)?te.setLogLevel(J):te.disable();const ne=$;var re=ne("",{displayAllErrors:!0}),ie={};function releaseApiKey(i){ie[i]&&ie[i]--,0===ie[i]&&delete ie[i]}var oe=ne("");var ae=ne(""),se=/^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/;function validateEvent(i,d){if(null==i)ae.error(d+": you passed a null or undefined event_type, event_type must be a non-empty string.");else if(isString(i))if(0===i.length)ae.error(d+": you passed an empty event_type, event_type must be a non-empty string.");else{if(se.test(i))return i;ae.error(d+': you passed "'+i+'", event_type must adhere to the regular expression /^[a-zA-Z0-9][-_.:a-zA-Z0-9]{0,79}$/g. This means an event_type must be alphanumeric, cannot be more than 80 characters long, and can only include a dash, underscore, period, or colon as separators of alphanumeric characters.')}else ae.error(d+": you passed an invalid event_type, event_type must be a non-empty string.");return!1}var ce=ne("");function validateEventValue(i,d){return numberIsFinite(i)||null==i?i:(ce.error(d+": value must be a finite number."),!1)}var ue=ne(""),le=0,de=2,pe=4,fe=8,he=1024;function validateEventProperties(i,d){if(null==i)return{properties:null,size:he};if(!isObject(i))return ue.error(d+": properties must be a plain object."),{properties:!1,size:he};var p=Object.keys(i),v=function shallowClone(i){for(var d=Object.keys(i),p={},v=0;v<d.length;v++)p[d[v]]=i[d[v]];return p}(i),S={properties:v,size:he};p.length>300&&ue.warn(d+": Event has more than 300 properties. Some of them will be trimmed when processed.");for(var T=0;T<p.length;T++){S.size+=p[T].length*de;var O=v[p[T]],I=isString(O),N=numberIsFinite(O),R=isBoolean(O),P=null===O;if(I||N||R||P||(v[p[T]]=null,O=null,P=!0,ue.warn(d+": Property "+p[T]+" is of invalid type. Setting value to null.")),P?S.size+=le:N?S.size+=fe:R?S.size+=pe:I&&(S.size+=O.length*de),S.size>32768){ue.error(d+": The maximum size allowed for the properties is 32768 bytes, which was exceeded. Event not queued."),S.properties=!1;break}}return S}var me=ne("");function validateKeyValue(i,d,p){if(null==i)return me.error(d+": you passed a null or undefined "+p+", "+p+" must be a non-empty string."),!1;if(numberIsFinite(i))return me.warn(d+": "+p+' "'+i+'" is not of type string, converting.'),lang_toString(i);if(isString(i)){if((i=i.trim()).length>0&&i.length<=250)return i;0===i.length?me.error(d+": you passed an empty string, "+p+" must be a non-empty string."):i.length>250&&me.error(d+": "+p+" too long, "+p+" must be 250 characters or less.")}else me.error(d+": you passed an invalid "+p+" type, "+p+" must be a non-empty string.");return!1}function validateKey(i,d){if(isObject(i)){var p=validateKeyValue(i.matchingKey,d,"matchingKey"),v=validateKeyValue(i.bucketingKey,d,"bucketingKey");return p&&v?{matchingKey:p,bucketingKey:v}:(me.error(d+": Key must be an object with bucketingKey and matchingKey with valid string properties."),!1)}return validateKeyValue(i,d,"key")}var ge="definition not found",ye="exception",_e=ne(""),ve=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/;function validateSplit(i,d,p){if(void 0===p&&(p="split name"),null==i)_e.error(d+": you passed a null or undefined "+p+", "+p+" must be a non-empty string.");else if(isString(i)){if(ve.test(i)&&(_e.warn(d+": "+p+' "'+i+'" has extra whitespace, trimming.'),i=i.trim()),i.length>0)return i;_e.error(d+": you passed an empty "+p+", "+p+" must be a non-empty string.")}else _e.error(d+": you passed an invalid "+p+", "+p+" must be a non-empty string.");return!1}function validateSplitExistance(i,d,p,v){return!i.get(i.constants.READY,!0)||p!==ge&&null!=p||(_e.warn(v+': you passed "'+d+'" that does not exist in this environment, please double check what Splits exist in the web console.'),!1)}var Ee=ne("");function validateSplits(i,d,p,v){if(void 0===p&&(p="split_names"),void 0===v&&(v="split name"),Array.isArray(i)&&i.length>0){var S=[];if(i.forEach((function(i){var p=validateSplit(i,d,v);p&&S.push(p)})),S.length)return uniq(S)}return Ee.error(d+": "+p+" must be a non-empty array."),!1}var be="localhost",Se="standalone",Te="producer",Ae="consumer",Oe="MEMORY",Ie="LOCALSTORAGE",Ce="control",we={treatment:Ce,config:null},Ne="GOOGLE_ANALYTICS_TO_SPLIT",Re="SPLIT_TO_GOOGLE_ANALYTICS",Pe="IMPRESSION",De="EVENT",ke=[{type:"byName",maxLength:400,queryParam:"names="},{type:"byPrefix",maxLength:50,queryParam:"prefixes="}],Le="DEBUG",xe="OPTIMIZED",Me=ne(""),Fe=/[A-Z]/;function validateTrafficType(i,d){if(null==i)Me.error(d+": you passed a null or undefined traffic_type_name, traffic_type_name must be a non-empty string.");else if(isString(i)){if(0!==i.length)return Fe.test(i)&&(Me.warn(d+": traffic_type_name should be all lowercase - converting string to lowercase."),i=i.toLowerCase()),i;Me.error(d+": you passed an empty traffic_type_name, traffic_type_name must be a non-empty string.")}else Me.error(d+": you passed an invalid traffic_type_name, traffic_type_name must be a non-empty string.");return!1}function logTTExistanceWarning(i,d){Me.warn(i+": Traffic Type "+d+" does not have any corresponding Splits in this environment, make sure you're tracking your events to a valid traffic type defined in the Split console.")}var Ue=ne("",{displayAllErrors:!0});function validateIfDestroyed(i){return!i.get(i.constants.DESTROYED,!0)||(Ue.error("Client has already been destroyed - no calls possible."),!1)}function validateIfReady(i,d){return!(!i.get(i.constants.READY,!0)&&!i.get(i.constants.READY_FROM_CACHE,!0))||(Ue.warn(d+": the SDK is not ready, results may be incorrect. Make sure to wait for SDK readiness before using this method."),!1)}var je=function collectTreatments(i){var d=i.conditions,p=find(d,(function(i){return"ROLLOUT"===i.conditionType}));return p||(p=d[0]),p?p.partitions.map((function(i){return i.treatment})):[]},He=function ObjectToView(i){var d;try{d=JSON.parse(i)}catch(i){return null}return null==d?null:{name:d.name,trafficType:d.trafficTypeName||null,killed:d.killed,changeNumber:d.changeNumber||0,treatments:je(d),configs:d.configurations||{}}},Ke=function ObjectsToViews(i){var d=[];return i.forEach((function(i){var p=He(i);null!=p&&d.push(p)})),d};const Be=function SplitManagerFactory(i,d){var p="split",v=d.get(d.constants.STATUS_MANAGER);return U()(Object.create(v),{split:function split(v){var S=validateSplit(v,p);if(!validateIfDestroyed(d)||!validateIfReady(d,p)||!S)return null;var split=i.getSplit(S);return thenable(split)?split.then((function(i){return validateSplitExistance(d,S,i,p),He(i)})):(validateSplitExistance(d,S,split,p),He(split))},splits:function splits(){if(!validateIfDestroyed(d)||!validateIfReady(d,"splits"))return[];var p=i.getAll();return thenable(p)?p.then(Ke):Ke(p)},names:function names(){return validateIfDestroyed(d)&&validateIfReady(d,"names")?i.getKeys():[]}})};const Ve=function usesSegments(i){void 0===i&&(i=[]);for(var d=0;d<i.length;d++)for(var p=i[d].matcherGroup.matchers,v=0;v<p.length;v++)if("IN_SEGMENT"===p[v].matcherType)return!0;return!1};function killLocally(i,d,p){var v=this,S=this.getSplit(i);return(thenable(S)?S:Promise.resolve(S)).then((function(S){if(S){var T=JSON.parse(S);if(!T.changeNumber||T.changeNumber<p){T.killed=!0,T.defaultTreatment=d,T.changeNumber=p;var O=JSON.stringify(T);return v.addSplit(i,O)}}return!1}))}var ze=function(){function SplitCacheInMemory(){this.flush()}var i=SplitCacheInMemory.prototype;return i.addSplit=function addSplit(i,d){var p=this.getSplit(i);if(p){var v=JSON.parse(p);if(v.trafficTypeName){var S=v.trafficTypeName;this.ttCache[S]--,this.ttCache[S]||delete this.ttCache[S]}Ve(v.conditions)&&this.splitsWithSegmentsCount--}var T=JSON.parse(d);if(T){this.splitCache[i]=d;var O=T.trafficTypeName;return O&&(this.ttCache[O]||(this.ttCache[O]=0),this.ttCache[O]++),Ve(T.conditions)&&this.splitsWithSegmentsCount++,!0}return!1},i.addSplits=function addSplits(i){var d=this,p=[];return i.forEach((function(i){p.push(d.addSplit(i[0],i[1]))})),p},i.removeSplit=function removeSplit(i){var d=this.getSplit(i);if(d){delete this.splitCache[i];var p=JSON.parse(d),v=p.trafficTypeName;return v&&(this.ttCache[v]--,this.ttCache[v]||delete this.ttCache[v]),Ve(p.conditions)&&this.splitsWithSegmentsCount--,1}return 0},i.removeSplits=function removeSplits(i){var d=this;return i.forEach((function(i){return d.removeSplit(i)})),i.length},i.getSplit=function getSplit(i){return this.splitCache[i]},i.setChangeNumber=function setChangeNumber(i){return this.changeNumber=i,!0},i.getChangeNumber=function getChangeNumber(){return this.changeNumber},i.getAll=function getAll(){var i=this;return this.getKeys().map((function(d){return i.splitCache[d]}))},i.getKeys=function getKeys(){return Object.keys(this.splitCache)},i.trafficTypeExists=function trafficTypeExists(i){return numberIsFinite(this.ttCache[i])&&this.ttCache[i]>0},i.usesSegments=function usesSegments(){return-1===this.getChangeNumber()||this.splitsWithSegmentsCount>0},i.flush=function flush(){this.splitCache={},this.ttCache={},this.changeNumber=-1,this.splitsWithSegmentsCount=0},i.fetchMany=function fetchMany(i){var d=this,p={};return i.forEach((function(i){p[i]=d.splitCache[i]||null})),p},i.checkCache=function checkCache(){return!1},SplitCacheInMemory}();ze.prototype.killLocally=killLocally;const Ye=ze;var Ge=ne("splitio-storage:localstorage"),We=function(){function SplitCacheLocalStorage(i,d,p){void 0===p&&(p={validFilters:[],queryString:null,groupedFilters:{byName:[],byPrefix:[]}}),this.keys=i,this.splitFiltersValidation=p,this.__checkExpiration(d),this.__checkFilterQuery()}var i=SplitCacheLocalStorage.prototype;return i.decrementCount=function decrementCount(i){var d=toNumber(localStorage.getItem(i))-1;d>0?localStorage.setItem(i,d):localStorage.removeItem(i)},i.decrementCounts=function decrementCounts(i){try{if(i){if(i.trafficTypeName){var d=this.keys.buildTrafficTypeKey(i.trafficTypeName);this.decrementCount(d)}if(Ve(i.conditions)){var p=this.keys.buildSplitsWithSegmentCountKey();this.decrementCount(p)}}}catch(i){Ge.error(i)}},i.incrementCounts=function incrementCounts(i){try{if(i){if(i.trafficTypeName){var d=this.keys.buildTrafficTypeKey(i.trafficTypeName);localStorage.setItem(d,toNumber(localStorage.getItem(d))+1)}if(Ve(i.conditions)){var p=this.keys.buildSplitsWithSegmentCountKey();localStorage.setItem(p,toNumber(localStorage.getItem(p))+1)}}}catch(i){Ge.error(i)}},i.addSplit=function addSplit(i,d){try{var p=this.keys.buildSplitKey(i),v=localStorage.getItem(p),S=v?JSON.parse(v):null;this.decrementCounts(S),localStorage.setItem(p,d);var T=d?JSON.parse(d):null;return this.incrementCounts(T),!0}catch(i){return Ge.error(i),!1}},i.addSplits=function addSplits(i){var d=this,p=[];return i.forEach((function(i){p.push(d.addSplit(i[0],i[1]))})),p},i.removeSplit=function removeSplit(i){try{var d=this.getSplit(i);localStorage.removeItem(this.keys.buildSplitKey(i));var p=JSON.parse(d);return this.decrementCounts(p),1}catch(i){return Ge.error(i),0}},i.removeSplits=function removeSplits(i){for(var d=0,p=i.length,v=0;d<p;d++)v+=this.removeSplit(i[d]);return v},i.getSplit=function getSplit(i){return localStorage.getItem(this.keys.buildSplitKey(i))},i.setChangeNumber=function setChangeNumber(i){if(this.cacheReadyButNeedsToFlush&&(this.flush(),this.cacheReadyButNeedsToFlush=!1),this.updateNewFilter){Ge.info("Split filter query was modified. Updating cache.");var d=this.keys.buildSplitsFilterQueryKey(),p=this.splitFiltersValidation.queryString;try{p?localStorage.setItem(d,p):localStorage.removeItem(d)}catch(i){Ge.error(i)}this.updateNewFilter=!1}try{return localStorage.setItem(this.keys.buildSplitsTillKey(),i+""),localStorage.setItem(this.keys.buildLastUpdatedKey(),Date.now()+""),this.hasSync=!0,!0}catch(i){return Ge.error(i),!1}},i.getChangeNumber=function getChangeNumber(){var i=localStorage.getItem(this.keys.buildSplitsTillKey());return null!==i?numberIsNaN(i=parseInt(i,10))?-1:i:-1},i.getAll=function getAll(){for(var i=localStorage.length,d=[],p=0;p<i;){var v=localStorage.key(p),S=v&&localStorage.getItem(v);null!=v&&this.keys.isSplitKey(v)&&S&&d.push(S),p++}return d},i.getKeys=function getKeys(){for(var i=localStorage.length,d=[],p=0;p<i;){var v=localStorage.key(p);null!=v&&this.keys.isSplitKey(v)&&d.push(this.keys.extractKey(v)),p++}return d},i.trafficTypeExists=function trafficTypeExists(i){var d=toNumber(localStorage.getItem(this.keys.buildTrafficTypeKey(i)));return numberIsFinite(d)&&d>0},i.usesSegments=function usesSegments(){if(!this.hasSync)return!0;var i=localStorage.getItem(this.keys.buildSplitsWithSegmentCountKey()),d=null===i?0:toNumber(i);return!numberIsFinite(d)||d>0},i.flush=function flush(){Ge.info("Flushing Splits data from localStorage");for(var i=localStorage.length,d=[],p=0;p<i;p++){var v=localStorage.key(p);null!=v&&this.keys.isSplitCacheKey(v)&&d.push(v)}d.forEach((function(i){localStorage.removeItem(i)})),this.hasSync=!1},i.fetchMany=function fetchMany(i){var d=this,p={};return i.forEach((function(i){p[i]=localStorage.getItem(d.keys.buildSplitKey(i))})),p},i.checkCache=function checkCache(){return this.getChangeNumber()>-1||this.cacheReadyButNeedsToFlush},i.__checkExpiration=function __checkExpiration(i){var d=localStorage.getItem(this.keys.buildLastUpdatedKey());null!==d&&!numberIsNaN(d=parseInt(d,10))&&d<i&&this.flush()},i.__checkFilterQuery=function __checkFilterQuery(){var i=this,d=this.splitFiltersValidation,p=d.queryString,v=d.groupedFilters,S=this.keys.buildSplitsFilterQueryKey();if(localStorage.getItem(S)!==p)try{this.updateNewFilter=!0,this.checkCache()&&(localStorage.setItem(this.keys.buildSplitsTillKey(),"-1"),this.getKeys().forEach((function(d){p&&(v.byName.indexOf(d)>-1||v.byPrefix.some((function(i){return d.startsWith(i+"__")})))?i.cacheReadyButNeedsToFlush=!0:i.removeSplit(d)})))}catch(i){Ge.error(i)}},SplitCacheLocalStorage}();We.prototype.killLocally=killLocally;const qe=We;const Qe=function(){function SegmentCacheInMemory(i){this.keys=i,this.flush()}var i=SegmentCacheInMemory.prototype;return i.flush=function flush(){this.segmentCache={}},i.addToSegment=function addToSegment(i){var d=this.keys.buildSegmentNameKey(i);return this.segmentCache[d]=!0,!0},i.removeFromSegment=function removeFromSegment(i){var d=this.keys.buildSegmentNameKey(i);return delete this.segmentCache[d],!0},i.resetSegments=function resetSegments(i){var d,p=this,v=!1,S=Object.keys(this.segmentCache);if(0===i.length&&S.length===i.length)return v;if(S.length!==i.length)v=!0,this.segmentCache={},i.forEach((function(i){p.addToSegment(i)}));else{for(d=0;d<i.length&&this.isInSegment(i[d]);d++);d<i.length&&(v=!0,this.segmentCache={},i.forEach((function(i){p.addToSegment(i)})))}return v},i.isInSegment=function isInSegment(i){var d=this.keys.buildSegmentNameKey(i);return!0===this.segmentCache[d]},i.setChangeNumber=function setChangeNumber(){return!0},i.getChangeNumber=function getChangeNumber(){return-1},i.registerSegment=function registerSegment(){return!1},i.registerSegments=function registerSegments(){return!1},i.getRegisteredSegments=function getRegisteredSegments(){return[]},SegmentCacheInMemory}();var Xe=ne("splitio-storage:localstorage");const Ze=function(){function SegmentCacheInLocalStorage(i){this.keys=i}var i=SegmentCacheInLocalStorage.prototype;return i.addToSegment=function addToSegment(i){var d=this.keys.buildSegmentNameKey(i);try{return localStorage.setItem(d,"1"),!0}catch(i){return Xe.error(i),!1}},i.removeFromSegment=function removeFromSegment(i){var d=this.keys.buildSegmentNameKey(i);try{return localStorage.removeItem(d),!0}catch(i){return Xe.error(i),!1}},i.resetSegments=function resetSegments(i){var d,p=this,v=!1,S=Object.keys(localStorage).reduce((function(i,d){var v=p.keys.extractSegmentName(d);return v&&i.push(v),i}),[]);if(0===i.length&&S.length===i.length)return v;if(S.length!==i.length)v=!0,S.forEach((function(i){return p.removeFromSegment(i)})),i.forEach((function(i){return p.addToSegment(i)}));else{for(d=0;d<i.length&&-1!==S.indexOf(i[d]);d++);d<i.length&&(v=!0,S.forEach((function(i){return p.removeFromSegment(i)})),i.forEach((function(i){return p.addToSegment(i)})))}return v},i.isInSegment=function isInSegment(i){return"1"===localStorage.getItem(this.keys.buildSegmentNameKey(i))},i.setChangeNumber=function setChangeNumber(){return!0},i.getChangeNumber=function getChangeNumber(){return-1},i.registerSegment=function registerSegment(){return!1},i.registerSegments=function registerSegments(){return!1},i.getRegisteredSegments=function getRegisteredSegments(){return[]},i.flush=function flush(){Xe.info("Flushing MySegments data from localStorage"),this.resetSegments([])},SegmentCacheInLocalStorage}();const Je=function(){function ImpressionsCacheInMemory(){this.queue=[]}var i=ImpressionsCacheInMemory.prototype;return i.state=function state(){return this.queue},i.track=function track(i){var d;return(d=this.queue).push.apply(d,i),this},i.clear=function clear(){return this.queue.length=0,this},i.toJSON=function toJSON(){return this.queue},i.isEmpty=function isEmpty(){return 0===this.queue.length},ImpressionsCacheInMemory}();const $e=function bs(i,d){for(var p=0,v=i.length-1,S=Math.floor((v+p)/2),T=p,O=v;i[S]!==d&&p<v;)d<i[S]?v=S-1:d>i[S]&&(p=S+1),S=Math.floor((v+p)/2);return S<T?S=T:S>O&&(S=O),d<i[S]&&S>T?S-1:S},et=$e.bind(null,[1,1.5,2.25,3.38,5.06,7.59,11.39,17.09,25.63,38.44,57.67,86.5,129.75,194.62,291.93,437.89,656.84,985.26,1477.89,2216.84,3325.26,4987.89,7481.83]);const tt=function(){function LatencyCacheInMemory(){this.clear()}var i=LatencyCacheInMemory.prototype;return i.clear=function clear(){return this.counters={},this},i.state=function state(){return this.counters},i.track=function track(i,d){return void 0===this.counters[i]&&(this.counters[i]=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),this.counters[i][et(d)]++,this},i.isEmpty=function isEmpty(){return 0===Object.keys(this.counters).length},i.toJSON=function toJSON(){return this.counters},LatencyCacheInMemory}();const nt=function(){function CountCacheInMemory(){this.clear()}var i=CountCacheInMemory.prototype;return i.clear=function clear(){return this.counters={},this},i.state=function state(){return this.counters},i.track=function track(i){return void 0===this.counters[i]?this.counters[i]=1:this.counters[i]++,this.counters[i]},i.isEmpty=function isEmpty(){return 0===Object.keys(this.counters).length},i.toJSON=function toJSON(){return this.counters},CountCacheInMemory}();var rt=function(){function EventsCache(i){var d=this,p=i.get(i.constants.SETTINGS),v=i.get(i.constants.EVENTS);this.onFullQueue=!1,this.maxQueue=p.scheduler.eventsQueueSize,this.queue=[],this.queueByteSize=0,thenable(v)?v.then((function(i){d.onFullQueue=i.flushAndResetTimer,d._checkForFlush()})):"function"==typeof v.flushAndResetTimer&&(this.onFullQueue=v.flushAndResetTimer)}var i=EventsCache.prototype;return i.state=function state(){return this.queue},i.track=function track(i,d){return void 0===d&&(d=0),this.queueByteSize+=d,this.queue.push(i),this._checkForFlush(),!0},i.clear=function clear(){return this.queue=[],this.queueByteSize=0,this},i.toJSON=function toJSON(){return this.queue},i.isEmpty=function isEmpty(){return 0===this.queue.length},i._checkForFlush=function _checkForFlush(){(this.queueByteSize>5242880||this.maxQueue>0&&this.queue.length>=this.maxQueue)&&this.onFullQueue&&this.onFullQueue()},EventsCache}();const it=rt;var ot=/[^.]+$/,at=/count\.([^/]+)$/,st=/latency\.([^/]+)\.bucket\.([0-9]+)$/;const ct=function(){function KeyBuilder(i){this.settings=i}var i=KeyBuilder.prototype;return i.buildSplitKey=function buildSplitKey(i){return this.settings.storage.prefix+".split."+i},i.buildTrafficTypeKey=function buildTrafficTypeKey(i){return this.settings.storage.prefix+".trafficType."+i},i.buildSplitsTillKey=function buildSplitsTillKey(){return this.settings.storage.prefix+".splits.till"},i.buildSplitsReady=function buildSplitsReady(){return this.settings.storage.prefix+".splits.ready"},i.isSplitKey=function isSplitKey(i){return startsWith(i,this.settings.storage.prefix+".split.")},i.buildSegmentNameKey=function buildSegmentNameKey(i){return this.settings.storage.prefix+".segment."+i},i.buildSegmentTillKey=function buildSegmentTillKey(i){return this.settings.storage.prefix+".segment."+i+".till"},i.buildRegisteredSegmentsKey=function buildRegisteredSegmentsKey(){return this.settings.storage.prefix+".segments.registered"},i.buildSegmentsReady=function buildSegmentsReady(){return this.settings.storage.prefix+".segments.ready"},i.buildVersionablePrefix=function buildVersionablePrefix(){return this.settings.storage.prefix+"/"+this.settings.version+"/"+this.settings.runtime.ip},i.buildImpressionsKey=function buildImpressionsKey(){return this.settings.storage.prefix+".impressions"},i.buildEventsKey=function buildEventsKey(){return this.settings.storage.prefix+".events"},i.buildLatencyKeyPrefix=function buildLatencyKeyPrefix(){return this.buildVersionablePrefix()+"/latency"},i.buildLatencyKey=function buildLatencyKey(i,d){return this.buildLatencyKeyPrefix()+"."+i+".bucket."+d},i.buildCountKey=function buildCountKey(i){return this.buildVersionablePrefix()+"/count."+i},i.buildGaugeKey=function buildGaugeKey(i){return this.buildVersionablePrefix()+"/gauge."+i},i.searchPatternForCountKeys=function searchPatternForCountKeys(){return this.buildVersionablePrefix()+"/count.*"},i.searchPatternForSplitKeys=function searchPatternForSplitKeys(){return this.settings.storage.prefix+".split.*"},i.searchPatternForLatency=function searchPatternForLatency(){return this.buildLatencyKeyPrefix()+".*"},i.extractKey=function extractKey(i){var d=i.match(ot);if(d&&d.length)return d[0];throw new Error("Invalid latency key provided")},i.extractCounterName=function extractCounterName(i){var d=i.match(at);if(d&&d.length)return d[1];throw new Error("Invalid counter key provided")},i.extractLatencyMetricNameAndBucket=function extractLatencyMetricNameAndBucket(i){var d=i.match(st);if(d&&d.length>2)return{metricName:d[1],bucketNumber:d[2]};throw new Error("Invalid counter key provided")},KeyBuilder}();var ut=p(94578);function KeyGetterFactory(i,d){return void 0===d&&(d=!1),function getKeyProperty(p){return isObject(p)?p[i]:d?void 0:p}}var lt=KeyGetterFactory("matchingKey"),dt=KeyGetterFactory("bucketingKey",!0);const pt=function(i){function KeyBuilderForLocalStorage(d){var p;return(p=i.call(this,d)||this).regexSplitCacheKey=new RegExp("^"+p.settings.storage.prefix+"\\.(splits?|trafficType)\\."),p}(0,ut.Z)(KeyBuilderForLocalStorage,i);var d=KeyBuilderForLocalStorage.prototype;return d.buildSegmentNameKey=function buildSegmentNameKey(i){return lt(this.settings.core.key)+"."+this.settings.storage.prefix+".segment."+i},d.extractSegmentName=function extractSegmentName(i){var d=lt(this.settings.core.key)+"."+this.settings.storage.prefix+".segment.";if(startsWith(i,d))return i.substr(d.length)},d.buildSplitsWithSegmentCountKey=function buildSplitsWithSegmentCountKey(){return this.settings.storage.prefix+".splits.usingSegments"},d.buildLastUpdatedKey=function buildLastUpdatedKey(){return this.settings.storage.prefix+".splits.lastUpdated"},d.isSplitCacheKey=function isSplitCacheKey(i){return this.regexSplitCacheKey.test(i)},d.buildSplitsFilterQueryKey=function buildSplitsFilterQueryKey(){return this.settings.storage.prefix+".splits.filterQuery"},KeyBuilderForLocalStorage}(ct);const ft=function BrowserStorageFactory(i){var d=i.get(i.constants.SETTINGS);switch(d.storage.type){case Oe:var p=new ct(d);return{splits:new Ye,segments:new Qe(p),impressions:new Je,metrics:new tt,count:new nt,events:new it(i),shared:function shared(i){var d=new ct(i);return{splits:this.splits,segments:new Qe(d),impressions:this.impressions,metrics:this.metrics,count:this.count,events:this.events,destroy:function destroy(){this.splits=new Ye,this.segments.flush()}}},destroy:function destroy(){this.splits.flush(),this.segments.flush(),this.impressions.clear(),this.metrics.clear(),this.count.clear(),this.events.clear()}};case Ie:var v=new pt(d),S=Date.now()-864e6;return{splits:new qe(v,S,d.sync.__splitFiltersValidation),segments:new Ze(v),impressions:new Je,metrics:new tt,count:new nt,events:new it(i),shared:function shared(i){var d=new pt(i);return{splits:this.splits,segments:new Ze(d),impressions:this.impressions,metrics:this.metrics,count:this.count,events:this.events,destroy:function destroy(){this.splits=new Ye,this.segments=new Qe(d)}}},destroy:function destroy(){this.splits=new Ye,this.segments=new Qe(new ct(d)),this.impressions.clear(),this.metrics.clear(),this.count.clear(),this.events.clear()}};default:throw new Error("Unsupported storage type")}};var ht=p(8855),mt=p.n(ht),gt="init::timeout",yt="init::ready",_t="init::cache-ready",vt="state::splits-arrived",Et="state::segments-arrived",bt="state::splits-cache-loaded",St="state::update",Tt="state::check";const At=function GateContext(){var i=0,d=new(mt());d.SDK_SPLITS_CACHE_LOADED=bt,d.SDK_SPLITS_ARRIVED=vt;var p=0;return function SDKReadinessGateFactory(v){void 0===v&&(v=0);var S=0,T=new(mt());T.SDK_SEGMENTS_ARRIVED=Et;var O=function ReadinessGateFactory(d,p){var v=new(mt()),S=0,T=0;return v.on(Tt,(function(){14!==T&&i+S===6?(T=14,v.emit(yt)):14===T&&v.emit(St)})),d.on(vt,(function(d){d||(i=2),v.emit(Tt)})),d.once(bt,(function(){v.emit(_t)})),p.on(Et,(function(){S=4,v.emit(Tt)})),v}(d,T);return v>0&&(S=setTimeout((function(){O.emit(gt,"Split SDK emitted SDK_READY_TIMED_OUT event.")}),v),O.once(yt,(function(){return clearTimeout(S)}))),O.SDK_READY=yt,O.SDK_READY_FROM_CACHE=_t,O.SDK_UPDATE=St,O.SDK_READY_TIMED_OUT=gt,p++,{splits:d,segments:T,gate:O,destroy:function destroy(){T.removeAllListeners(),O.removeAllListeners(),clearTimeout(S),p>0&&p--,0===p&&d.removeAllListeners()}}}};const Ot={startup:{requestTimeoutBeforeReady:5,retriesOnFailureBeforeReady:1,readyTimeout:10,eventsFirstPushWindow:10}};var It=ne("splitio-settings");const Ct=function ParseStorageSettings(i){var d,p=i.mode,v=i.storage,S=v.type,T=void 0===S?Oe:S,O=v.options,I=void 0===O?{}:O,N=v.prefix;N?N+=".SPLITIO":N="SPLITIO";var R=function fallbackToMemory(){d=T,T=Oe};return p===be&&T===Ie&&R(),(T!==Oe&&T!==Ie||T===Ie&&!isLocalStorageAvailable())&&(R(),It.warn("Invalid or unavailable storage. Fallbacking into MEMORY storage")),{type:T,options:I,prefix:N,__originalType:d}};var wt=ne("splitio-settings");const Nt=function validateIntegrationsSettings(i,d){void 0===d&&(d=[]);var p=i.integrations;if(!Array.isArray(p)||0===p.length)return[];var v=p.filter((function(i){return i&&isString(i.type)&&d.indexOf(i.type)>-1})),S=p.length-v.length;return S&&wt.warn(S+" integration "+(1===S?"item":"items")+" at settings "+(1===S?"is":"are")+" invalid: integration items must have a valid 'type' value"),v};const Rt=function validateBrowserIntegrationsSettings(i){return Nt(i,[Ne,Re])};const Pt=function mode(i,d){if("localhost"===i)return be;if(-1===[Se,Te,Ae].indexOf(d))throw Error("Invalid mode provided");return d};var Dt=ne("splitio-settings");function validateSplitFilters(i,d){var p={validFilters:[],queryString:null,groupedFilters:{byName:[],byPrefix:[]}};return i?d!==Se?(Dt.warn("split filters have been configured but will have no effect if mode is not '"+Se+"', since synchronization is being deferred to an external tool."),p):Array.isArray(i)&&0!==i.length?(p.validFilters=i.filter((function(i,d){return i&&function validateFilterType(i){return ke.some((function(d){return d.type===i}))}(i.type)&&Array.isArray(i.values)?(p.groupedFilters[i.type]=p.groupedFilters[i.type].concat(i.values),!0):(Dt.warn("split filter at position '"+d+"' is invalid. It must be an object with a valid filter type ('byName' or 'byPrefix') and a list of 'values'."),!1)})),ke.forEach((function(i){var d=i.type,v=i.maxLength;p.groupedFilters[d].length>0&&(p.groupedFilters[d]=function validateSplitFilter(i,d,p){var v=validateSplits(d,"settings",i+" filter",i+" filter value");if(v){if(v.length>p)throw new Error(p+" unique values can be specified at most for '"+i+"' filter. You passed "+v.length+". Please consider reducing the amount or using other filter.");v.sort()}return v||[]}(d,p.groupedFilters[d],v))})),p.queryString=function queryStringBuilder(i){var d=[];return ke.forEach((function(p){var v=p.type,S=p.queryParam,T=i[v];T.length>0&&d.push(S+T.map((function(i){return encodeURIComponent(i)})).join(","))})),d.length>0?"&"+d.join("&"):null}(p.groupedFilters),Dt.debug("splits filtering criteria is '"+p.queryString+"'."),p):(Dt.warn("splitFilters configuration must be a non-empty array of filter objects."),p):p}var kt=ne("splitio-settings");const Lt=function validImpressionsMode(i){return i=i.toUpperCase(),-1===[Le,xe].indexOf(i)&&(kt.error("You passed an invalid impressionsMode, impressionsMode should be one of the following values: '"+Le+"' or '"+xe+"'. Defaulting to '"+xe+"' mode."),i=xe),i};var xt=/^\/(testImpressions|metrics|events)/,Mt=/^\/v2\/auth/,Ft=/^\/(sse|event-stream)/,Ut={mode:Se,core:{authorizationKey:void 0,key:void 0,trafficType:void 0,labelsEnabled:!0,IPAddressesEnabled:void 0},scheduler:{featuresRefreshRate:30,segmentsRefreshRate:60,metricsRefreshRate:120,impressionsRefreshRate:60,offlineRefreshRate:15,eventsPushRate:60,eventsQueueSize:500,pushRetryBackoffBase:1},urls:{sdk:"https://sdk.split.io/api",events:"https://events.split.io/api",auth:"https://auth.split.io/api",streaming:"https://streaming.split.io"},storage:{type:Oe},debug:void 0,impressionListener:void 0,version:"javascript-10.16.1",integrations:void 0,streamingEnabled:!0,sync:{splitFilters:void 0,impressionsMode:xe}};function fromSecondsToMillis(i){return Math.round(1e3*i)}function defaults(i){var d=merge({},Ut,Ot,i);d.scheduler.featuresRefreshRate=fromSecondsToMillis(d.scheduler.featuresRefreshRate),d.scheduler.segmentsRefreshRate=fromSecondsToMillis(d.scheduler.segmentsRefreshRate),d.scheduler.metricsRefreshRate=fromSecondsToMillis(d.scheduler.metricsRefreshRate),d.scheduler.impressionsRefreshRate=fromSecondsToMillis(d.scheduler.impressionsRefreshRate),d.scheduler.offlineRefreshRate=fromSecondsToMillis(d.scheduler.offlineRefreshRate),d.scheduler.eventsPushRate=fromSecondsToMillis(d.scheduler.eventsPushRate),d.startup.requestTimeoutBeforeReady=fromSecondsToMillis(d.startup.requestTimeoutBeforeReady),d.startup.readyTimeout=fromSecondsToMillis(d.startup.readyTimeout),d.startup.eventsFirstPushWindow=fromSecondsToMillis(d.startup.eventsFirstPushWindow),d.mode=Pt(d.core.authorizationKey,d.mode),d.storage=Ct(d),function setupLogger(i){"boolean"==typeof i?i?te.enable():te.disable():"string"==typeof i&&te.setLogLevel(i)}(d.debug),d.runtime=(d.core.IPAddressesEnabled,d.mode,{ip:!1,hostname:!1}),d.integrations=Rt(d),!1!==d.streamingEnabled&&(d.streamingEnabled=!0,d.scheduler.pushRetryBackoffBase=fromSecondsToMillis(d.scheduler.pushRetryBackoffBase));var p=validateSplitFilters(d.sync.splitFilters,d.mode);return d.sync.splitFilters=p.validFilters,d.sync.__splitFiltersValidation=p,d.sync.impressionsMode=Lt(d.sync.impressionsMode),d}var jt={url:function url(i){return xt.test(i)?""+this.urls.events+i:Mt.test(i)?""+this.urls.auth+i:Ft.test(i)?""+this.urls.streaming+i:""+this.urls.sdk+i},overrideKeyAndTT:function overrideKeyAndTT(i,d){return U()(Object.create(jt),this,{core:U()({},this.core,{key:i,trafficType:d})})}};const Ht=function SettingsFactory(i){return U()(Object.create(jt),defaults(i))};const Kt={COLLECTORS:"metrics_collectors",DESTROYED:"is_destroyed",EVENTS:"events_publisher",HAS_TIMEDOUT:"has_timedout",INTEGRATIONS_MANAGER:"integrations_manager",MY_SEGMENTS_CHANGE_WORKER:"my_segments_change_worker",PRODUCER:"producer",READINESS:"readiness_gate",READY:"is_ready",READY_FROM_CACHE:"is_ready_from_cache",SETTINGS:"settings",STATUS_MANAGER:"status_manager",STORAGE:"storage",IMPRESSIONS_COUNTER:"impressions_counter"};const Bt=function(){function Context(){this._map={},this.constants=Kt}var i=Context.prototype;return i.get=function get(i,d){if(void 0===d&&(d=!1),"string"==typeof i&&("string"!=typeof i||i.length)){var p=this._map[i];if(void 0!==p)return p;if(!d){var v,S=new Promise((function(i){return v=i}));return S.manualResolve=v,this._map[i]=S,S}}},i.getAll=function getAll(){return U()({},this._map)},i.put=function put(i,d){var p=this;if("string"!=typeof i||"string"==typeof i&&!i.length||void 0===d)return!1;var v=this._map[i];return(void 0===v||"function"==typeof v.manualResolve)&&(thenable(v)&&v.manualResolve&&v.manualResolve(d),thenable(d)&&d.then((function(d){return p._map[i]=d,d})).catch((function(d){return p._map[i]=void 0,d})),this._map[i]=d,!0)},Context}(),parser=function(i){return isObject(i)?{matchingKey:i.matchingKey,bucketingKey:i.bucketingKey}:{matchingKey:i,bucketingKey:i}};const Vt=function nowFactory(){return"object"==typeof performance&&"function"==typeof performance.now?performance.now.bind(performance):Date.now}();const zt=function start(){var i=Vt();return function stop(){return Math.round(Vt()-i)}};var Yt,Gt=new q("[TIME TRACKER]",{showLevel:!1}),Wt={},qt={SDK_READY:"Getting ready - Split SDK",SDK_GET_TREATMENT:"SDK - Get Treatment",SDK_GET_TREATMENTS:"SDK - Get Treatments",SDK_GET_TREATMENT_WITH_CONFIG:"SDK - Get Treatment with config",SDK_GET_TREATMENTS_WITH_CONFIG:"SDK - Get Treatments with config",SPLITS_READY:"Getting ready - Splits",SEGMENTS_READY:"Getting ready - Segments",METRICS_PUSH:"Pushing - Metrics",IMPRESSIONS_PUSH:"Pushing - Impressions",EVENTS_PUSH:"Pushing - Events",MY_SEGMENTS_FETCH:"Fetching - My Segments",SEGMENTS_FETCH:"Fetching - Segments",SPLITS_FETCH:"Fetching - Splits"},Qt=((Yt={})[qt.SDK_READY]={collector:"client",method:"ready"},Yt[qt.SDK_GET_TREATMENT]={collector:"client",method:"getTreatment"},Yt[qt.SDK_GET_TREATMENTS]={collector:"client",method:"getTreatments"},Yt[qt.SDK_GET_TREATMENT_WITH_CONFIG]={collector:"client",method:"getTreatmentWithConfig"},Yt[qt.SDK_GET_TREATMENTS_WITH_CONFIG]={collector:"client",method:"getTreatmentsWithConfig"},Yt[qt.MY_SEGMENTS_FETCH]={collector:"mySegments",method:"latency"},Yt[qt.SEGMENTS_FETCH]={collector:"segmentChanges",method:"latency"},Yt[qt.SPLITS_FETCH]={collector:"splitChanges",method:"latency"},Yt),Xt=function generateTimerKey(i,d){return"string"==typeof d?i+d:i},Zt=function getCollectorForTask(i,d){var p=Qt[i];return!(!p||!d)&&d[p.collector]},Jt=function getCallbackForTask(i,d){var p=Qt[i];return!(!p||!d)&&d[p.method]},$t={__attachToPromise:function __attachToPromise(i,d,p,v){var S=this;return i.then((function(i){return S.stop(d,v),p&&p.count&&p.count(i.status),i})).catch((function(i){throw S.stop(d,v),p&&p.countException&&p.countException(),i}))},start:function start(i,d,p){var v,S=function uniqueId(){return j++}(),T=Zt(i,d);thenable(p)?v=this.__attachToPromise(p,i,T,S):(v=this.stop.bind(this,i,S),Qt[i]&&!T&&(v.setCollectorForTask=this.setCollectorForTask.bind(this,i,S)));var O=Xt(i,S),I=Jt(i,T);return Wt[O]={cb:I,timer:zt()},v},setCollectorForTask:function setCollectorForTask(i,d,p){var v=Zt(i,p);if(v){var S=Xt(i,d);Wt[S].cb=Jt(i,v)}},stop:function stop(i,d){var p=Xt(i,d),v=Wt[p];if(v){var S=v.timer();return Gt.debug("["+i+"] took "+S+"ms to finish."),v.cb&&v.cb(S),delete Wt[p],S}},TaskNames:qt};const en=$t;var tn={UNDEFINED:0,ALL_KEYS:1,IN_SEGMENT:2,WHITELIST:3,EQUAL_TO:4,GREATER_THAN_OR_EQUAL_TO:5,LESS_THAN_OR_EQUAL_TO:6,BETWEEN:7,EQUAL_TO_SET:8,CONTAINS_ANY_OF_SET:9,CONTAINS_ALL_OF_SET:10,PART_OF_SET:11,ENDS_WITH:12,STARTS_WITH:13,CONTAINS_STRING:14,IN_SPLIT_TREATMENT:15,EQUAL_TO_BOOLEAN:16,MATCHES_STRING:17},nn="BOOLEAN",rn="STRING",an="NUMBER",sn="SET",cn="DATETIME",un="NOT_SPECIFIED";const ln=function transform(i){return void 0===i&&(i={}),i.segmentName};var dn=p(43144),pn=function(){function SetPoly(){var i=this;this.__setData__=[];var d=arguments[0];Array.isArray(d)&&d.forEach((function(d){i.add(d)}))}var i=SetPoly.prototype;return i.clear=function clear(){this.__setData__.length&&(this.__setData__.length=0)},i.add=function add(i){return this.has(i)||this.__setData__.push(i),this},i.delete=function _delete(i){var d=this.__setData__.indexOf(i);return-1!==d&&(this.__setData__.splice(d,1),!0)},i.has=function has(i){return-1!==this.__setData__.indexOf(i)},i.forEach=function forEach(i){var d=arguments[1];if("function"!=typeof i)throw new TypeError(i+" is not a function");for(var p=0;p<this.__setData__.length;p++){var v=this.__setData__[p];i.call(d,v,v,this)}},(0,dn.Z)(SetPoly,[{key:"size",get:function get(){return this.__setData__.length}}]),SetPoly}();function setToArray(i){return i instanceof pn?i.__setData__.slice():Array.from(i)}var fn=function getSetConstructor(){return"function"==typeof Array.from&&"function"==typeof Set&&Set.prototype&&Set.prototype.values?Set:pn}();const hn=function whitelist_transform(i){return new fn(i.whitelist)};const mn=function set_transform(i){return i.whitelist};const gn=function unaryNumeric_transform(i){return i.value};function zeroSinceHH(i){return new Date(i).setUTCHours(0,0,0,0)}function zeroSinceSS(i){return new Date(i).setUTCSeconds(0,0)}const yn=function matchers_transform(i){var d=i.map((function(i){var d=i.matcherType,p=i.negate,v=i.keySelector,S=i.userDefinedSegmentMatcherData,T=i.whitelistMatcherData,O=i.unaryNumericMatcherData,I=i.betweenMatcherData,N=i.dependencyMatcherData,R=i.booleanMatcherData,P=i.stringMatcherData,k=v&&v.attribute,L=function matcherTypesMapper(i){return tn[i]||tn.UNDEFINED}(d),M=rn,F=void 0;return L===tn.IN_SEGMENT?F=ln(S):L===tn.WHITELIST?F=hn(T):L===tn.EQUAL_TO?(F=gn(O),M=an,"DATETIME"===O.dataType&&(F=zeroSinceHH(F),M=cn)):L===tn.GREATER_THAN_OR_EQUAL_TO||L===tn.LESS_THAN_OR_EQUAL_TO?(F=gn(O),M=an,"DATETIME"===O.dataType&&(F=zeroSinceSS(F),M=cn)):L===tn.BETWEEN?(F=I,M=an,"DATETIME"===I.dataType&&(F.start=zeroSinceSS(F.start),F.end=zeroSinceSS(F.end),M=cn)):L===tn.EQUAL_TO_SET||L===tn.CONTAINS_ANY_OF_SET||L===tn.CONTAINS_ALL_OF_SET||L===tn.PART_OF_SET?(F=mn(T),M=sn):L===tn.STARTS_WITH||L===tn.ENDS_WITH||L===tn.CONTAINS_STRING?F=mn(T):L===tn.IN_SPLIT_TREATMENT?(F=N,M=un):L===tn.EQUAL_TO_BOOLEAN?(M=nn,F=R):L===tn.MATCHES_STRING&&(F=P),{attribute:k,negate:p,type:L,value:F,dataType:M}}));return-1===findIndex(d,(function(i){return i.type===tn.UNDEFINED}))?d:[]};function Treatments(i,d){if(!(this instanceof Treatments))return new Treatments(i,d);if(100!==i[i.length-1])throw new RangeError("Provided invalid dataset as input");this._ranges=i,this._treatments=d}Treatments.parse=function parse(i){var d=i.reduce((function(i,d){var p=d.size,v=d.treatment;return i.ranges.push(i.inc+=p),i.treatments.push(v),i}),{inc:0,ranges:[],treatments:[]});return new Treatments(d.ranges,d.treatments)},Treatments.prototype.getTreatmentFor=function getTreatmentFor(i){if(i<0||i>100)throw new RangeError("Please provide a value between 0 and 100");var d=findIndex(this._ranges,(function(d){return i<=d}));return this._treatments[d]};const _n=Treatments;var vn=ne("splitio-engine:matcher");function allMatcher(i){return vn.debug("[allMatcher] is always true"),null!=i}const En=function allMatcherContext(){return allMatcher};var bn=ne("splitio-engine:matcher");const Sn=function matcherSegmentContext(i,d){return function segmentMatcher(p){var v=d.segments.isInSegment(i,p);return thenable(v)?v.then((function(d){return bn.debug("[asyncSegmentMatcher] evaluated "+i+" / "+p+" => "+v),d})):bn.debug("[segmentMatcher] evaluated "+i+" / "+p+" => "+v),v}};var Tn=ne("splitio-engine:matcher");const An=function whitelistMatcherContext(i){return function whitelistMatcher(d){var p=i.has(d);return Tn.debug("[whitelistMatcher] evaluated "+d+" in ["+setToArray(i).join(",")+"] => "+p),p}};var On=ne("splitio-engine:matcher");const In=function equalToMatcherContext(i){return function equalToMatcher(d){var p=d===i;return On.debug("[equalToMatcher] is "+d+" equal to "+i+"? "+p),p}};var Cn=ne("splitio-engine:matcher");const wn=function greaterThanEqualMatcherContext(i){return function greaterThanEqualMatcher(d){var p=d>=i;return Cn.debug("[greaterThanEqualMatcher] is "+d+" greater than "+i+"? "+p),p}};var Nn=ne("splitio-engine:matcher");const Rn=function lessThanEqualMatcherContext(i){return function lessThanEqualMatcher(d){var p=d<=i;return Nn.debug("[lessThanEqualMatcher] is "+d+" less than "+i+"? "+p),p}};var Pn=ne("splitio-engine:matcher");const Dn=function betweenMatcherContext(i){return function betweenMatcher(d){var p=d>=i.start&&d<=i.end;return Pn.debug("[betweenMatcher] is "+d+" between "+i.start+" and "+i.end+"? "+p),p}};var kn=ne("splitio-engine:matcher");const Ln=function equalToSetMatcherContext(i){return function equalToSetMatcher(d){for(var p=d.length===i.length,v=function _loop(v){findIndex(i,(function(i){return i===d[v]}))<0&&(p=!1)},S=0;S<d.length&&p;S++)v(S);return kn.debug("[equalToSetMatcher] is "+d+" equal to set "+i+"? "+p),p}};var xn=ne("splitio-engine:matcher");const Mn=function containsAllMatcherContext(i){return function containsAllMatcher(d){var p=!0;if(d.length<i.length)p=!1;else for(var v=function _loop(v){findIndex(d,(function(d){return d===i[v]}))<0&&(p=!1)},S=0;S<i.length&&p;S++)v(S);return xn.debug("[containsAllMatcher] "+d+" contains all elements of "+i+"? "+p),p}};var Fn=ne("splitio-engine:matcher");const Un=function containsAnyMatcherContext(i){return function containsAnyMatcher(d){for(var p=!1,v=function _loop(v){findIndex(d,(function(d){return d===i[v]}))>=0&&(p=!0)},S=0;S<i.length&&!p;S++)v(S);return Fn.debug("[containsAnyMatcher] "+d+" contains at least an element of "+i+"? "+p),p}};var jn=ne("splitio-engine:matcher");const Hn=function partOfMatcherContext(i){return function partOfMatcher(d){for(var p=d.length<=i.length,v=function _loop(v){findIndex(i,(function(i){return i===d[v]}))<0&&(p=!1)},S=0;S<d.length&&p;S++)v(S);return jn.debug("[partOfMatcher] "+d+" is part of "+i+"? "+p),p}};var Kn=ne("splitio-engine:matcher");const Bn=function startsWithMatcherContext(i){return function startsWithMatcher(d){var p=i.some((function(i){return startsWith(d,i)}));return Kn.debug("[startsWithMatcher] "+d+" starts with "+i+"? "+p),p}};var Vn=ne("splitio-engine:matcher");const zn=function endsWithMatcherContext(i){return function endsWithMatcher(d){var p=i.some((function(i){return function lang_endsWith(i,d,p){return void 0===p&&(p=!1),!(!isString(i)||!isString(d))&&(p&&(i=i.toLowerCase(),d=d.toLowerCase()),i.slice(i.length-d.length)===d)}(d,i)}));return Vn.debug("[endsWithMatcher] "+d+" ends with "+i+"? "+p),p}};var Yn=ne("splitio-engine:matcher");const Gn=function containsStringMatcherContext(i){return function containsStringMatcher(d){var p=i.some((function(i){return isString(d)&&d.indexOf(i)>-1}));return Yn.debug("[containsStringMatcher] "+d+" contains "+i+"? "+p),p}};var Wn=ne("splitio-engine:matcher");function checkTreatment(i,d,p){var v=!1;return Array.isArray(d)&&(v=-1!==d.indexOf(i.treatment)),Wn.debug('[dependencyMatcher] Parent split "'+p+'" evaluated to "'+i.treatment+'" with label "'+i.label+'". '+p+" evaluated treatment is part of ["+d+"] ? "+v+"."),v}const qn=function dependencyMatcherContext(i,d){var p=i.split,v=i.treatments;return function dependencyMatcher(i,S){var T=i.key,O=i.attributes;Wn.debug('[dependencyMatcher] will evaluate parent split: "'+p+'" with key: '+JSON.stringify(T)+" "+(O?"\n attributes: "+JSON.stringify(O):""));var I=S(T,p,O,d);return thenable(I)?I.then((function(i){return checkTreatment(i,v,p)})):checkTreatment(I,v,p)}};var Qn=ne("splitio-engine:matcher");const Xn=function booleanMatcherContext(i){return function booleanMatcher(d){var p=i===d;return Qn.debug("[booleanMatcher] "+i+" === "+d),p}};var Zn=ne("splitio-engine:matcher");var Jn=[void 0,En,Sn,An,In,wn,Rn,Dn,Ln,Un,Mn,Hn,zn,Bn,Gn,qn,Xn,function stringMatcherContext(i){return function stringMatcher(d){var p;try{p=new RegExp(i)}catch(d){return Zn.debug("[stringMatcher] "+i+" is an invalid regex"),!1}var v=p.test(d);return Zn.debug("[stringMatcher] does "+d+" matches with "+i+"? "+(v?"yes":"no")),v}}];const $n=function MatcherFactory(i,d){var p,v=i.type,S=i.value;return Jn[v]&&(p=Jn[v](S,d)),p};var er=ne("splitio-engine:sanitize");function dependencyProcessor(i,d){return{key:i,attributes:d}}const tr=function sanitizeValue(i,d,p,v){var S,T=function getProcessingFunction(i,d){switch(i){case tn.EQUAL_TO:return"DATETIME"===d?zeroSinceHH:void 0;case tn.GREATER_THAN_OR_EQUAL_TO:case tn.LESS_THAN_OR_EQUAL_TO:case tn.BETWEEN:return"DATETIME"===d?zeroSinceSS:void 0;case tn.IN_SPLIT_TREATMENT:return dependencyProcessor;default:return}}(i,p);switch(p){case an:case cn:S=function sanitizeNumber(i){var d=toNumber(i);return isNaN(d)?void 0:d}(d);break;case rn:S=function sanitizeString(i){var d=i;return isObject(i)&&(d=i.matchingKey?i.matchingKey:void 0),lang_toString(d)||void 0}(d);break;case sn:S=function sanitizeArray(i){var d=Array.isArray(i)?uniq(i.map((function(i){return i+""}))):[];return d.length?d:void 0}(d);break;case nn:S=function sanitizeBoolean(i){if(!0===i||!1===i)return i;if("string"==typeof i){var d=i.toLocaleLowerCase();if("true"===d)return!0;if("false"===d)return!1}}(d);break;case un:S=d;break;default:S=void 0}return T&&(S=T(S,v)),er.debug("Attempted to sanitize ["+d+"] which should be of type ["+p+"]. \n Sanitized and processed value => ["+(S instanceof Object?JSON.stringify(S):S)+"]"),S};var nr=ne("splitio-engine:value");const rr=function value(i,d,p){var v=d.attribute,S=function parseValue(i,d,p){var v=void 0;return d?p?(v=p[d],nr.debug("Extracted attribute ["+d+"], ["+v+"] will be used for matching.")):nr.warn("Defined attribute ["+d+"], no attributes received."):v=i,v}(i,v,p),T=tr(d.type,S,d.dataType,p);return void 0!==T?T:void nr.warn("Value "+S+" "+(v?"for attribute "+v+" ":0)+"doesn't match with expected type.")};function ToUint32(i){return function modulo(i,d){return i-Math.floor(i/d)*d}(function ToInteger(i){return(i=Number(i))<0?Math.ceil(i):Math.floor(i)}(i),Math.pow(2,32))}function ToInt32(i){var d=ToUint32(i);return d>=Math.pow(2,31)?d-Math.pow(2,32):d}function hash(i,d){for(var p=0,v=0;v<i.length;v++)p=ToInt32(ToInt32(31*p)+i.charCodeAt(v));return ToInt32(p^d)}const ir=function bucket(i,d){return Math.abs(hash(i,d)%100)+1};var or=String.fromCharCode;function UTF16ToUTF8(i){var d;return function encodeUTF16toUTF8(i,d){!function UTF16toUTF8(i,d){for(var p,v=null;null!==(p=null!==v?v:i());)p>=55296&&p<=57343&&null!==(v=i())&&v>=56320&&v<=57343?(d(1024*(p-55296)+v-56320+65536),v=null):d(p);null!==v&&d(v)}(i,(function(i){!function encodeUTF8(i,d){var p=null;for("number"==typeof i&&(p=i,i=function src(){return null});null!==p||null!==(p=i());)p<128?d(127&p):p<2048?(d(p>>6&31|192),d(63&p|128)):p<65536?(d(p>>12&15|224),d(p>>6&63|128),d(63&p|128)):(d(p>>18&7|240),d(p>>12&63|128),d(p>>6&63|128),d(63&p|128)),p=null}(i,d)}))}(function stringSource(i){if("string"!=typeof i)throw TypeError("Illegal argument: "+typeof i);var d=0;return function(){return d>=i.length?null:i.charCodeAt(d++)}}(i),d=function stringDestination(){var i=[],d=[];return function(){if(0===arguments.length)return d.join("")+or.apply(String,i);i.length+arguments.length>1024&&(d.push(or.apply(String,i)),i.length=0),Array.prototype.push.apply(i,arguments)}}()),d()}function x86Multiply(i,d){return(65535&i)*d+(((i>>>16)*d&65535)<<16)}function x86Rotl(i,d){return i<<d|i>>>32-d}function hash32(i,d){d=d||0;for(var p=(i=i||"").length%4,v=i.length-p,S=d,T=0,O=3432918353,I=461845907,N=0;N<v;N+=4)T=x86Multiply(T=255&i.charCodeAt(N)|(255&i.charCodeAt(N+1))<<8|(255&i.charCodeAt(N+2))<<16|(255&i.charCodeAt(N+3))<<24,O),T=x86Multiply(T=x86Rotl(T,15),I),S=x86Multiply(S=x86Rotl(S^=T,13),5)+3864292196;switch(T=0,p){case 3:T^=(255&i.charCodeAt(N+2))<<16;case 2:T^=(255&i.charCodeAt(N+1))<<8;case 1:T=x86Multiply(T^=255&i.charCodeAt(N),O),S^=T=x86Multiply(T=x86Rotl(T,15),I)}return(S=function x86Fmix(i){return i=x86Multiply(i^=i>>>16,2246822507),i=x86Multiply(i^=i>>>13,3266489909),i^i>>>16}(S^=i.length))>>>0}function murmur3_hash(i,d){return hash32(UTF16ToUTF8(i),d>>>0)}const ar={hash:murmur3_hash,bucket:function murmur3_bucket(i,d){return Math.abs(murmur3_hash(i,d)%100)+1}};var sr=ne("splitio-engine");function getBucketAlgo(i){return 2===i?ar.bucket:ir}var cr={getTreatment:function getTreatment(i,d,p,v){var S=getBucketAlgo(v)(i,d),T=p.getTreatmentFor(S);return sr.debug("[engine] using algo "+(2!==v?"legacy":"murmur")+" bucket "+S+" for key "+i+" using seed "+d+" - treatment "+T),T},shouldApplyRollout:function shouldApplyRollout(i,d,p,v){if(i<100&&getBucketAlgo(v)(d,p)>i)return!1;return!0}};const ur=cr;function match(i,d,p,v,S,T){if(i)return{treatment:ur.getTreatment(d,p,v,T),label:S}}const lr=function conditionContext(i,d,p,v){return function conditionEvaluator(S,T,O,I,N,R,P){if("ROLLOUT"===v&&!ur.shouldApplyRollout(O,S.bucketingKey,I,P))return{treatment:void 0,label:"not in split"};var k=i(S,R,N);return thenable(k)?k.then((function(i){return match(i,S.bucketingKey,T,d,p,P)})):match(k,S.bucketingKey,T,d,p,P)}};var dr=ne("splitio-engine:combiner");function unexpectedInputHandler(){return dr.error("Invalid Split provided, no valid conditions found"),{treatment:Ce,label:ye}}function computeTreatment(i){for(var d=i.length,p=0;p<d;p++){var v=i[p];if(void 0!==v)return dr.debug("Treatment found: "+v.treatment),v}dr.debug("All predicates evaluated, no treatment found.")}const pr=function ifElseIfCombinerContext(i){return!Array.isArray(i)||Array.isArray(i)&&0===i.length?unexpectedInputHandler:function ifElseIfCombiner(d,p,v,S,T,O,I){var N=i.map((function(i){return i(d,p,v,S,I,T,O)}));return-1!==findIndex(N,thenable)?Promise.all(N).then((function(i){return computeTreatment(i)})):computeTreatment(N)}};var fr=ne("splitio-engine:combiner");function andResults(i){for(var d,p=0,v=i.length;p<v&&i[p];p++);return d=p===v,fr.debug("[andCombiner] evaluates to "+d),d}const hr=function andCombinerContext(i){return function andCombiner(){for(var d=arguments.length,p=new Array(d),v=0;v<d;v++)p[v]=arguments[v];var S=i.map((function(i){return i.apply(void 0,p)}));return-1!==findIndex(S,thenable)?Promise.all(S).then(andResults):andResults(S)}};const mr=function parse(i,d){for(var p=[],v=0;v<i.length;v++){var S=i[v],T=S.matcherGroup.matchers,O=S.partitions,I=S.label,N=S.conditionType,R=(T=yn(T)).map((function(i){var p=$n(i,d);return function(d,v,S){var T=rr(d,i,v),O=void 0!==T&&p(T,S);return thenable(O)?O.then((function(d){return Boolean(d^i.negate)})):Boolean(O^i.negate)}}));if(0===R.length){p=[];break}p.push(lr(hr(R),_n.parse(O),I,N))}return pr(p)};function evaluationResult(i,d){return{treatment:get(i,"treatment",d),label:get(i,"label","default rule")}}function Split(i,d){if(!(this instanceof Split))return new Split(i,d);this.baseInfo=i,this.evaluator=d,function engine_defaults(i){"string"!=typeof i.baseInfo.defaultTreatment&&(i.baseInfo.defaultTreatment=Ce)}(this)}Split.parse=function parse(i,d){var p=i.conditions,v=mr(p,d);return new Split(U()({},i),v)},Split.prototype.getKey=function getKey(){return this.baseInfo.name},Split.prototype.getTreatment=function getTreatment(i,d,p){var v,S,T,O=this.baseInfo,I=O.killed,N=O.seed,R=O.defaultTreatment,P=O.trafficAllocation,k=O.trafficAllocationSeed,L=O.algo;try{v=parser(i)}catch(i){return{treatment:Ce,label:ye}}if(this.isGarbage())S=Ce,T="archived";else{if(!I){var M=this.evaluator(v,N,P,k,d,L,p);return thenable(M)?M.then((function(i){return evaluationResult(i,R)})):evaluationResult(M,R)}S=R,T="killed"}return{treatment:S,label:T}},Split.prototype.isGarbage=function isGarbage(){return"ARCHIVED"===this.baseInfo.status},Split.prototype.getChangeNumber=function getChangeNumber(){return this.baseInfo.changeNumber};const gr=Split;var yr={treatment:Ce,label:ye,config:null};function evaluateFeature(i,d,p,v){var S;try{S=v.splits.getSplit(d)}catch(i){return Promise.resolve(yr)}return thenable(S)?S.then((function(d){return getEvaluation(d,i,p,v)})):getEvaluation(S,i,p,v)}function getEvaluation(i,d,p,v){var S={treatment:Ce,label:ge,config:null};if(i){var T=JSON.parse(i),O=gr.parse(T,v);if(S=O.getTreatment(d,p,evaluateFeature),thenable(S))return S.then((function(i){return i.changeNumber=O.getChangeNumber(),i.config=get(T,"configurations."+i.treatment,null),i}));S.changeNumber=O.getChangeNumber(),S.config=get(T,"configurations."+S.treatment,null)}return S}function getEvaluations(i,d,p,v,S){var T={},O=[];return i.forEach((function(i){var I=getEvaluation(d[i],p,v,S);thenable(I)?O.push(I.then((function(d){T[i]=d}))):T[i]=I})),O.length>0?Promise.all(O).then((function(){return T})):T}var _r=function Node(i,d,p,v){this.list=v,this.value=i,d?(d.next=this,this.prev=d):this.prev=null,p?(p.prev=this,this.next=p):this.next=null},vr=function(){function LinkedList(){this.tail=null,this.head=null,this.length=0}var i=LinkedList.prototype;return i.removeNode=function removeNode(i){if(i&&i instanceof _r){if(i.list!==this)throw new Error("removing node which does not belong to this list");var d=i.next,p=i.prev;return d&&(d.prev=p),p&&(p.next=d),i===this.head&&(this.head=d),i===this.tail&&(this.tail=p),i.list.length--,i.next=null,i.prev=null,i.list=null,d}},i.unshiftNode=function unshiftNode(i){if(i&&i instanceof _r&&i!==this.head){i.list&&i.list.removeNode(i);var d=this.head;i.list=this,i.next=d,d&&(d.prev=i),this.head=i,this.tail||(this.tail=i),this.length++}},i.unshift=function unshift(){for(var i=0,d=arguments.length;i<d;i++)this.head=new _r(arguments[i],null,this.head,this),this.tail||(this.tail=this.head),this.length++;return this.length},LinkedList}(),Er="undefined"!=typeof Map?Map:function(){function MapPoly(){}var i=MapPoly.prototype;return i.set=function set(i,d){this[i]=d},i.get=function get(i){return this[i]},i.delete=function _delete(i){delete this[i]},(0,dn.Z)(MapPoly,[{key:"size",get:function get(){return Object.keys(this).length}}]),MapPoly}(),br=function(){function LRUCache(i){this.maxLen=i||1,this.items=new Er,this.lru=new vr}var i=LRUCache.prototype;return i.get=function get(i){var d=this.items.get(i);if(d&&d instanceof _r)return this.lru.unshiftNode(d),d.value.value},i.set=function set(i,d){var p=this.items.get(i);if(p){if(!(p instanceof _r))return!1;this.lru.unshiftNode(p),this.lru.head.value.value=d}else{if(this.lru.length===this.maxLen){var v=this.lru.tail;if(!v)return!1;this.items.delete(v.value.key),this.lru.removeNode(this.lru.tail)}this.lru.unshift({key:i,value:d}),this.items.set(i,this.lru.head)}return!0},LRUCache}();const Sr=br;var Tr=function(){function ImpressionObserver(i,d){this.cache=new Sr(i),this.hasher=d}return ImpressionObserver.prototype.testAndSet=function testAndSet(i){var d=this.hasher(i),p=this.cache.get(d);return this.cache.set(d,i.time),p},ImpressionObserver}();const Ar=Tr;function hashImpression32(i){return ar.hash(function buildKey(i){return i.keyName+":"+i.feature+":"+i.treatment+":"+i.label+":"+i.changeNumber}(i))}const Or=function BrowserImpressionObserverFactory(){return new Ar(500,hashImpression32)};function truncateTimeFrame(i){return i-i%36e5}var Ir=ne("splitio-client:impressions-tracker");function shouldAddPt(i){return[Te,Se].indexOf(i.mode)>-1}const Cr=function ImpressionsTracker(i){var d=i.get(i.constants.STORAGE).impressions,p=i.get(i.constants.SETTINGS),v=p.impressionListener,S=i.get(i.constants.INTEGRATIONS_MANAGER,!0),T=p.runtime,O=T.ip,I=T.hostname,N=p.version,R=[],P=shouldAddPt(p),k=function shouldBeOptimized(i){return!!shouldAddPt(i)&&i.sync.impressionsMode===xe}(p),L=Or(),M=i.get(i.constants.IMPRESSIONS_COUNTER);return{queue:function queue(i,d){R.push({impression:i,attributes:d})},track:function track(){var i=R.length,p=R.splice(0,i),T=[];p.forEach((function(i){var d=i.impression;P&&(d.pt=L.testAndSet(d));var p=Date.now();k&&M&&M.inc(d.feature,p,1),(!k||!d.pt||d.pt<truncateTimeFrame(p))&&T.push(d)}));var F=d.track(T);if(thenable(F)&&F.then((function(){Ir.debug("Successfully stored "+i+" impression"+(1===i?"":"s")+".")})).catch((function(d){Ir.error("Could not store impressions bulk with "+i+" impression"+(1===i?"":"s")+". Error: "+d)})),v||S)for(var j=function _loop(i){var d={impression:U()({},p[i].impression),attributes:p[i].attributes,ip:O,hostname:I,sdkLanguageVersion:N};setTimeout((function(){S&&S.handleImpression(d);try{v&&v.logImpression(d)}catch(i){Ir.error("Impression listener logImpression method threw: "+i+".")}}),0)},H=0;H<i;H++)j(H)}}};var wr=ne("splitio-client:event-tracker");const Nr=function EventTracker(i){var d=i.get(i.constants.STORAGE).events,p=i.get(i.constants.INTEGRATIONS_MANAGER,!0);function queueEventsCallback(i,d){var v='event of type "'+i.eventTypeId+'" for traffic type "'+i.trafficTypeName+'". Key: '+i.key+". Value: "+i.value+". Timestamp: "+i.timestamp+". "+(i.properties?"With properties.":"With no properties.");return d?(wr.info("Successfully queued "+v),p&&setTimeout((function(){var d=U()({},i);i.properties&&(d.properties=U()({},i.properties)),p.handleEvent(d)}),0)):wr.warn("Failed to queue "+v),d}return{track:function track(i,p){var v=d.track(i,p);return thenable(v)?v.then(queueEventsCallback.bind(null,i)):queueEventsCallback(i,v)}}};var Rr=ne("splitio-client");const Pr=function ClientFactory(i){var d=i.get(i.constants.STORAGE),p=i.get(i.constants.COLLECTORS),v=Cr(i),S=Nr(i);function getTreatment(i,S,T,O){void 0===O&&(O=!1);var I=en.TaskNames[O?"SDK_GET_TREATMENT_WITH_CONFIG":"SDK_GET_TREATMENT"],N=en.start(I,p),R=evaluateFeature(i,S,T,d),P=function wrapUp(d){var p=processEvaluation(d,S,i,T,O,"getTreatment"+(O?"withConfig":""));return v.track(),N(),p};return thenable(R)?R.then((function(i){return P(i)})):P(R)}function getTreatments(i,S,T,O){void 0===O&&(O=!1);var I=en.TaskNames[O?"SDK_GET_TREATMENTS_WITH_CONFIG":"SDK_GET_TREATMENTS"],N=en.start(I,p),R=function wrapUp(d){var p={};return Object.keys(d).forEach((function(v){p[v]=processEvaluation(d[v],v,i,T,O,"getTreatments"+(O?"withConfig":""))})),v.track(),N(),p},P=function evaluateFeatures(i,d,p,v){var S,T={};try{S=v.splits.fetchMany(d)}catch(i){return d.forEach((function(i){T[i]=yr})),Promise.resolve(T)}return thenable(S)?S.then((function(S){return getEvaluations(d,S,i,p,v)})):getEvaluations(d,S,i,p,v)}(i,S,T,d);return thenable(P)?P.then((function(i){return R(i)})):R(P)}function processEvaluation(d,p,S,T,O,I){var N=i.get(i.constants.READY,!0)||i.get(i.constants.READY_FROM_CACHE,!0),R=lt(S),P=dt(S);N||(d={treatment:Ce,label:"not ready"});var k=d,L=k.treatment,M=k.label,F=k.changeNumber,U=k.config,j=void 0===U?null:U;return Rr.info("Split: "+p+". Key: "+R+". Evaluation: "+L+". Label: "+M),validateSplitExistance(i,p,M,I)&&(Rr.info("Queueing corresponding impression."),v.queue({feature:p,keyName:R,treatment:L,time:Date.now(),bucketingKey:P,label:M,changeNumber:F},T)),O?{treatment:L,config:j}:L}return{getTreatment,getTreatmentWithConfig:function getTreatmentWithConfig(i,d,p){return getTreatment(i,d,p,!0)},getTreatments,getTreatmentsWithConfig:function getTreatmentsWithConfig(i,d,p){return getTreatments(i,d,p,!0)},track:function track(d,p,v,T,O,I){void 0===T&&(T=null),void 0===O&&(O=null),void 0===I&&(I=1024);var N=lt(d),R={eventTypeId:v,trafficTypeName:p,value:T,timestamp:Date.now(),key:N,properties:O};return function validateTrafficTypeExistance(i,d,p){var v=d.get(d.constants.READY,!0),S=d.get(d.constants.SETTINGS),T=d.get(d.constants.STORAGE).splits;if(!v||S.mode===be)return!0;var O=T.trafficTypeExists(i);return thenable(O)?O.then((function(d){return d||logTTExistanceWarning(p,i),d})):O||logTTExistanceWarning(p,i),O}(p,i,"track"),S.track(R,I)}}};const Dr=function ClientInputValidationLayer(i,d,p){var v="REDIS"!==i.get(i.constants.SETTINGS).storage.type,S=Pr(i),T=S.getTreatment,O=S.getTreatmentWithConfig,I=S.getTreatments,N=S.getTreatmentsWithConfig,R=S.track;function validateEvaluationParams(p,v,S,T){var O=startsWith(T,"getTreatments"),I=d?p:validateKey(p,T),N=O?validateSplits(v,T):validateSplit(v,T),R=function validateAttributes(i,d){return isObject(i)||null==i?i:(oe.error(d+": attributes must be a plain object."),!1)}(S,T),P=validateIfDestroyed(i);return validateIfReady(i,T),{valid:P&&I&&N&&!1!==R,key:I,splitOrSplits:N,attributes:R}}return S.getTreatment=function getTreatment(i,d,p){var S=validateEvaluationParams(i,d,p,"getTreatment");return S.valid?T(S.key,S.splitOrSplits,S.attributes):v?Ce:Promise.resolve(Ce)},S.getTreatmentWithConfig=function getTreatmentWithConfig(i,d,p){var S=validateEvaluationParams(i,d,p,"getTreatmentWithConfig");return S.valid?O(S.key,S.splitOrSplits,S.attributes):v?U()({},we):Promise.resolve(U()({},we))},S.getTreatments=function getTreatments(i,d,p){var S=validateEvaluationParams(i,d,p,"getTreatments");if(S.valid)return I(S.key,S.splitOrSplits,S.attributes);var T={};return S.splitOrSplits&&S.splitOrSplits.forEach((function(i){return T[i]=Ce})),v?T:Promise.resolve(T)},S.getTreatmentsWithConfig=function getTreatmentsWithConfig(i,d,p){var S=validateEvaluationParams(i,d,p,"getTreatmentsWithConfig");if(S.valid)return N(S.key,S.splitOrSplits,S.attributes);var T={};return S.splitOrSplits&&S.splitOrSplits.forEach((function(i){return T[i]=U()({},we)})),v?T:Promise.resolve(T)},S.track=function track(S,T,O,I,N){var P=d?S:validateKey(S,"track"),k=p?T:validateTrafficType(T,"track"),L=validateEvent(O,"track"),M=validateEventValue(I,"track"),F=validateEventProperties(N,"track"),U=F.properties,j=F.size;return validateIfDestroyed(i)&&P&&k&&L&&!1!==M&&!1!==U?R(P,k,L,M,U,j):!v&&Promise.resolve(!1)},S};const kr=function BrowserClientFactory(i){var d,p=i.get(i.constants.SETTINGS),v=get(p,"core.key",void 0),S=get(p,"core.trafficType",void 0);p.mode===be&&void 0===v?p.core.key="localhost_key":p.core.key=validateKey(v,"Client instantiation");var T=[p.core.key];if(void 0!==S){var O=validateTrafficType(S,"Client instantiation");p.core.trafficType=O,T.push(O)}var I=Dr(i,!0,T.length>1);return I.isBrowserClient=!0,I.getTreatment=I.getTreatment.bind(I,p.core.key),I.getTreatmentWithConfig=I.getTreatmentWithConfig.bind(I,p.core.key),I.getTreatments=I.getTreatments.bind(I,p.core.key),I.getTreatmentsWithConfig=I.getTreatmentsWithConfig.bind(I,p.core.key),I.track=(d=I.track).bind.apply(d,[I].concat(T)),I};const Lr=function repeat(i,d){for(var p=arguments.length,v=new Array(p>2?p-2:0),S=2;S<p;S++)v[S-2]=arguments[S];var T,O=!1;function next(p){void 0===p&&(p=d);for(var v=arguments.length,S=new Array(v>1?v-1:0),I=1;I<v;I++)S[I-1]=arguments[I];O||(T=setTimeout((function(){i.apply(void 0,S.concat([next]))}),p))}function till(){clearTimeout(T),T=void 0,O=!0}return till.reset=function(){clearTimeout(T),T=void 0,next.apply(void 0,[d].concat(v))},i.apply(void 0,v.concat([next])),till};function unfetch_module(i,d){return d=d||{},new Promise((function(p,v){var S=new XMLHttpRequest,T=[],O=[],I={},a=function(){return{ok:2==(S.status/100|0),statusText:S.statusText,status:S.status,url:S.responseURL,text:function(){return Promise.resolve(S.responseText)},json:function(){return Promise.resolve(S.responseText).then(JSON.parse)},blob:function(){return Promise.resolve(new Blob([S.response]))},clone:a,headers:{keys:function(){return T},entries:function(){return O},get:function(i){return I[i.toLowerCase()]},has:function(i){return i.toLowerCase()in I}}}};for(var N in S.open(d.method||"get",i,!0),S.onload=function(){S.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,(function(i,d,p){T.push(d=d.toLowerCase()),O.push([d,p]),I[d]=I[d]?I[d]+","+p:p})),p(a())},S.onerror=v,S.withCredentials="include"==d.credentials,d.headers)S.setRequestHeader(N,d.headers[N]);S.send(d.body||null)}))}function getFetch(){return"function"==typeof fetch?fetch:unfetch_module}var xr=p(61120),Mr=p(89611);function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(i){return!1}}function _construct(i,d,p){return _construct=_isNativeReflectConstruct()?Reflect.construct:function _construct(i,d,p){var v=[null];v.push.apply(v,d);var S=new(Function.bind.apply(i,v));return p&&(0,Mr.Z)(S,p.prototype),S},_construct.apply(null,arguments)}function _wrapNativeSuper(i){var d="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(i){if(null===i||!function _isNativeFunction(i){return-1!==Function.toString.call(i).indexOf("[native code]")}(i))return i;if("function"!=typeof i)throw new TypeError("Super expression must either be null or a function");if(void 0!==d){if(d.has(i))return d.get(i);d.set(i,Wrapper)}function Wrapper(){return _construct(i,arguments,(0,xr.Z)(this).constructor)}return Wrapper.prototype=Object.create(i.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),(0,Mr.Z)(Wrapper,i)},_wrapNativeSuper(i)}var Fr=function(i){function SplitError(d){var p;return void 0===d&&(d="Split Error"),(p=i.call(this,d)||this).message=d,p}return(0,ut.Z)(SplitError,i),SplitError}(_wrapNativeSuper(Error)),Ur=function(i){function SplitTimeoutError(d){return i.call(this,d||"Split Timeout Error")||this}return(0,ut.Z)(SplitTimeoutError,i),SplitTimeoutError}(Fr),jr=function(i){function SplitNetworkError(d,p){var v;return(v=i.call(this,d||"Split Network Error")||this).statusCode=p,v}return(0,ut.Z)(SplitNetworkError,i),SplitNetworkError}(Fr),Hr=ne("splitio-services:service");function Fetcher(i){var d=i.url,p=getFetch();return p?p(d,i).then((function(i){return i.ok?i:i.text().then((function(d){return Promise.reject({response:i,message:d})}))})).catch((function(p){var v=p.response,S="";if(v)if(404===v.status)S="Invalid API key or resource not found.";else S=p.message;else S=p.message;throw v&&403===v.status||Hr[i.logErrorsAsInfo?"info":"error"]("Response status is not OK. Status: "+(v?v.status:"NO_STATUS")+". URL: "+d+". Message: "+S),new jr(S,v&&v.status)})):Promise.reject(new jr("Global fetch API is not available."))}const Kr=Fetcher;const Br=function RequestFactory(i,d,p,v){var S=i.core.authorizationKey,T=i.version,O=i.runtime,I=O.ip,N=O.hostname,R={},P={};return R.Accept="application/json",R["Content-Type"]="application/json",R.Authorization="Bearer "+S,R.SplitSDKVersion=T,I&&(R.SplitSDKMachineIP=I),N&&(R.SplitSDKMachineName=N),v&&U()(R,v),U()({headers:R,url:i.url(d)},P,p)};var Vr={"Cache-Control":"no-cache"};function fromCountersCollector(i){var d=[];return forOwn(i.toJSON(),(function(i,p){d.push({name:p,delta:i})})),d}const zr=Fetcher;function BULK(i,d){return Br(i,"/testImpressions/bulk",U()({method:"POST"},d),{SplitSDKImpressionsMode:i.sync.impressionsMode===xe?xe:Le})}function COUNT(i,d){return Br(i,"/testImpressions/count",U()({method:"POST"},d))}function fromImpressionsCollector(i,d){var p=d.core.labelsEnabled,v=function groupBy(i,d){var p={};if(Array.isArray(i)&&isString(d))for(var v=0;v<i.length;v++){var S=i[v][d];isString(S)&&(p[S]||(p[S]=[]),p[S].push(i[v]))}return p}(i.state(),"feature"),S=[];return forOwn(v,(function(i,d){S.push({f:d,i:i.map((function(i){var d={k:i.keyName,t:i.treatment,m:i.time,c:i.changeNumber};return p&&(d.r=i.label),i.bucketingKey&&(d.b=i.bucketingKey),i.pt&&(d.pt=i.pt),d}))})})),S}function fromImpressionsCountCollector(i){var d=[];if(0===(i?i.size():0))return d;for(var p=i.popAll(),v=Object.keys(p),S=0;S<v.length;S++){var T=v[S].split("::");if(2===T.length){var O=T[0],I=T[1],N={f:O,m:Number(I),rc:p[v[S]]};d.push(N)}}return d}var Yr=function(){function ProducerMetricsCollector(i){this.storage=i,this.latency=this.latency.bind(this),this.count=this.count.bind(this),this.countException=this.countException.bind(this)}var i=ProducerMetricsCollector.prototype;return i.latency=function latency(i){this.storage.metrics.track(this.metricType+".time",i)},i.count=function count(i){this.storage.count.track(this.metricType+".status."+i)},i.countException=function countException(){this.storage.count.track(this.metricType+".exception")},ProducerMetricsCollector}(),Gr=function(i){function SegmentChangesCollector(d){var p;return(p=i.call(this,d)||this).metricType="segmentChangeFetcher",p}return(0,ut.Z)(SegmentChangesCollector,i),SegmentChangesCollector}(Yr),Wr=function(i){function SplitChangesCollector(d){var p;return(p=i.call(this,d)||this).metricType="splitChangeFetcher",p}return(0,ut.Z)(SplitChangesCollector,i),SplitChangesCollector}(Yr),qr=function(i){function MySegmentsCollector(d){var p;return(p=i.call(this,d)||this).metricType="mySegmentsFetcher",p}return(0,ut.Z)(MySegmentsCollector,i),MySegmentsCollector}(Yr),Qr=function(){function ClientCollector(i){this.storage=i,this.ready=this.ready.bind(this),this.getTreatment=this.getTreatment.bind(this),this.getTreatments=this.getTreatments.bind(this),this.getTreatmentWithConfig=this.getTreatmentWithConfig.bind(this),this.getTreatmentsWithConfig=this.getTreatmentsWithConfig.bind(this)}var i=ClientCollector.prototype;return i.ready=function ready(i){this.storage.metrics.track("sdk.ready",i)},i.getTreatment=function getTreatment(i){this.storage.metrics.track("sdk.getTreatment",i)},i.getTreatments=function getTreatments(i){this.storage.metrics.track("sdk.getTreatments",i)},i.getTreatmentWithConfig=function getTreatmentWithConfig(i){this.storage.metrics.track("sdk.getTreatmentWithConfig",i)},i.getTreatmentsWithConfig=function getTreatmentsWithConfig(i){this.storage.metrics.track("sdk.getTreatmentsWithConfig",i)},ClientCollector}(),Xr=ne("splitio-metrics");const Zr=function MetricsFactory(i){var d=0,p=i.get(i.constants.SETTINGS),v=i.get(i.constants.STORAGE),S=i.get(i.constants.IMPRESSIONS_COUNTER),T=p.sync.impressionsMode===xe,O=function pushMetrics(){if(v.metrics.isEmpty()&&v.count.isEmpty())return Promise.resolve();Xr.debug("Pushing metrics");var i,d,S=en.start(en.TaskNames.METRICS_PUSH),T=v.metrics.isEmpty()?null:Kr(function POST(i,d){return Br(i,"/metrics/times",U()({method:"POST"},d,{logErrorsAsInfo:!0}))}(p,{body:JSON.stringify((i=v.metrics,d=[],forOwn(i.toJSON(),(function(i,p){d.push({name:p,latencies:i})})),d))})).then((function(){return v.metrics.clear()})).catch((function(){return v.metrics.clear()})),O=v.count.isEmpty()?null:Kr(function counters_POST(i,d){return Br(i,"/metrics/counters",U()({method:"POST"},d,{logErrorsAsInfo:!0}))}(p,{body:JSON.stringify(fromCountersCollector(v.count))})).then((function(){return v.count.clear()})).catch((function(){return v.count.clear()}));return Promise.all([T,O]).then((function(i){return S(),i}))},I=function pushImpressions(){if(v.impressions.isEmpty())return Promise.resolve();var i=v.impressions.queue.length;Xr.info("Pushing "+i+" impressions");var S=en.start(en.TaskNames.IMPRESSIONS_PUSH);return zr(BULK(p,{body:JSON.stringify(fromImpressionsCollector(v.impressions,p))})).then((function(){d=0,v.impressions.clear()})).catch((function(p){d?(Xr.warn("Droping "+i+" impressions after retry. Reason "+p+"."),d=0,v.impressions.clear()):(d++,Xr.warn("Failed to push "+i+" impressions, keeping data to retry on next iteration. Reason "+p+"."))})).then((function(){return S()}))},N=function pushImpressionsCount(){var i=fromImpressionsCountCollector(S),v=i.length;return 0===v?Promise.resolve():(Xr.info("Pushing count of impressions for "+v+" features"),zr(COUNT(p,{body:JSON.stringify({pf:i})})).then((function(){d=0})).catch((function(i){d?(Xr.warn("Droping count of impressions for "+v+" features after retry. Reason "+i+"."),d=0):(d++,Xr.warn("Failed to push impressions count for "+v+" features, keeping data to retry on next iteration. Reason "+i+"."))})))},R=!1,P=!1,k=!1;return{start:function start(){R=Lr((function(i){return I().then((function(){return i()}))}),p.scheduler.impressionsRefreshRate),P=Lr((function(i){return O().then((function(){return i()}))}),p.scheduler.metricsRefreshRate),T&&(k=Lr((function(i){return N().then((function(){return i()}))}),18e5))},flush:function flush(){return T&&N(),I()},stop:function stop(){R&&R(),P&&P(),k&&k()},collectors:{segmentChanges:new Gr(v),splitChanges:new Wr(v),mySegments:new qr(v),client:new Qr(v)}}},Jr=Fetcher;function bulk_BULK(i,d){return Br(i,"/events/bulk",U()({method:"POST"},d))}var $r=ne("splitio-events");const ei=function EventsFactory(i){var d=i.get(i.constants.SETTINGS),p=i.get(i.constants.STORAGE),v=function pushEvents(){if(p.events.isEmpty())return Promise.resolve();$r.info("Pushing "+p.events.state().length+" queued events.");var i=en.start(en.TaskNames.EVENTS_PUSH),v=JSON.stringify(p.events.toJSON()),S=function wrapUpCb(){return i()};return p.events.clear(),Jr(bulk_BULK(d,{body:v})).then(S).catch(S)},S=!1,T=!1,O=function startEventsPublisher(){return T=Lr((function(i){return v().then((function(){return i()}))}),d.scheduler.eventsPushRate)};return{start:function start(){d.startup.eventsFirstPushWindow>0?S=setTimeout(O,d.startup.eventsFirstPushWindow):O()},flush:function flush(){return v()},stop:function stop(){S&&clearTimeout(S),T&&T()},flushAndResetTimer:function flushAndResetTimer(){return $r.info("Flushing events and reseting timer."),T&&T.reset(),v()}}},ti=Fetcher;function userKeyToQueryParam(i){return"users="+encodeURIComponent(i)}function decodeFromBase64(i){return atob(i)}function authenticate(i,d){var p=ti(function GET(i,d){var p="/v2/auth";if(d){var v=d.map(userKeyToQueryParam).join("&");v&&(p+="?"+v)}return Br(i,p)}(i,d));return p.then((function(i){return i.json()})).then((function(i){if(i.token){var d=function decodeJWTtoken(i){var d=i.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),p=decodeURIComponent(decodeFromBase64(d).split("").map((function(i){return"%"+("00"+i.charCodeAt(0).toString(16)).slice(-2)})).join(""));return JSON.parse(p)}(i.token);if("number"!=typeof d.iat||"number"!=typeof d.exp)throw new Error('token properties "issuedAt" (iat) or "expiration" (exp) are missing or invalid');var p=JSON.parse(d["x-ably-capability"]);return U()({decodedToken:d,channels:p},i)}return i}))}function getEventSource(){return"function"==typeof EventSource?EventSource:void 0}var ni=function(){function Backoff(i,d,p){this.baseMillis=d||Backoff.DEFAULT_BASE_MILLIS,this.maxMillis=p||Backoff.DEFAULT_MAX_MILLIS,this.attempts=0,this.cb=i}var i=Backoff.prototype;return i.scheduleCall=function scheduleCall(){var i=this,d=Math.min(this.baseMillis*Math.pow(2,this.attempts),this.maxMillis);return this.timeoutID&&clearTimeout(this.timeoutID),this.timeoutID=setTimeout((function(){i.cb()}),d),this.attempts++,d},i.reset=function reset(){this.attempts=0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=0)},Backoff}();ni.DEFAULT_BASE_MILLIS=1e3,ni.DEFAULT_MAX_MILLIS=18e5;const ri=ni;var ii=function(){function MySegmentUpdateWorker(i,d){this.mySegmentsStorage=i,this.mySegmentsProducer=d,this.maxChangeNumber=0,this.segmentsData=void 0,this.currentChangeNumber=-1,this.put=this.put.bind(this),this.__handleMySegmentUpdateCall=this.__handleMySegmentUpdateCall.bind(this),this.backoff=new ri(this.__handleMySegmentUpdateCall)}var i=MySegmentUpdateWorker.prototype;return i.__handleMySegmentUpdateCall=function __handleMySegmentUpdateCall(){var i=this;if(this.maxChangeNumber>this.currentChangeNumber){this.handleNewEvent=!1;var d=this.maxChangeNumber;this.mySegmentsProducer.synchronizeMySegments(this.segmentsData,!0).then((function(p){!1!==p&&(i.currentChangeNumber=Math.max(i.currentChangeNumber,d)),i.handleNewEvent?i.__handleMySegmentUpdateCall():i.backoff.scheduleCall()}))}},i.put=function put(i,d){i<=this.currentChangeNumber||i<=this.maxChangeNumber||(this.maxChangeNumber=i,this.handleNewEvent=!0,this.backoff.reset(),this.segmentsData=d,this.mySegmentsProducer.isSynchronizingMySegments()||this.__handleMySegmentUpdateCall())},MySegmentUpdateWorker}(),oi=function(){function SplitUpdateWorker(i,d,p){this.splitStorage=i,this.splitProducer=d,this.maxChangeNumber=0,this.splitsEventEmitter=p,this.put=this.put.bind(this),this.killSplit=this.killSplit.bind(this),this.__handleSplitUpdateCall=this.__handleSplitUpdateCall.bind(this),this.backoff=new ri(this.__handleSplitUpdateCall)}var i=SplitUpdateWorker.prototype;return i.__handleSplitUpdateCall=function __handleSplitUpdateCall(){var i=this;this.maxChangeNumber>this.splitStorage.getChangeNumber()&&(this.handleNewEvent=!1,this.splitProducer.synchronizeSplits(!0).then((function(){i.handleNewEvent?i.__handleSplitUpdateCall():(i.splitProducer.synchronizeSegment&&i.splitProducer.synchronizeSegment(void 0,!1,!0),i.backoff.scheduleCall())})))},i.put=function put(i){i<=this.splitStorage.getChangeNumber()||i<=this.maxChangeNumber||(this.maxChangeNumber=i,this.handleNewEvent=!0,this.backoff.reset(),this.splitProducer.isSynchronizingSplits()||this.__handleSplitUpdateCall())},i.killSplit=function killSplit(i,d,p){var v=this;this.splitStorage.killLocally(d,p,i).then((function(d){d&&v.splitsEventEmitter.emit(v.splitsEventEmitter.SDK_SPLITS_ARRIVED,!0),v.put(i)}))},SplitUpdateWorker}(),ai=/^control_/;var si=function(){function SSEClient(i,d,p){this.EventSource=i,this.streamingUrl=d.url("/sse"),this.useHeaders=p,this.headers=function buildSSEHeaders(i){var d={SplitSDKClientKey:i.core.authorizationKey.slice(-4),SplitSDKVersion:i.version},p=i.runtime,v=p.ip,S=p.hostname;return v&&(d.SplitSDKMachineIP=v),S&&(d.SplitSDKMachineName=S),d}(d)}SSEClient.getInstance=function getInstance(i,d){var p=getEventSource();if(p)return new SSEClient(p,i,d)};var i=SSEClient.prototype;return i.setEventHandler=function setEventHandler(i){this.handler=i},i.open=function open(i){this.close();var d=Object.keys(i.channels).map((function(i){var d=ai.test(i)?"[?occupancy=metrics.publishers]":"";return encodeURIComponent(d+i)})).join(","),p=this.streamingUrl+"?channels="+d+"&accessToken="+i.token+"&v=1.1&heartbeats=true";this.connection=new this.EventSource(this.useHeaders?p:p+"&SplitSDKVersion="+this.headers.SplitSDKVersion+"&SplitSDKClientKey="+this.headers.SplitSDKClientKey,this.useHeaders?{headers:this.headers}:void 0),this.handler&&(this.connection.onopen=this.handler.handleOpen,this.connection.onmessage=this.handler.handleMessage,this.connection.onerror=this.handler.handleError)},i.close=function close(){this.connection&&this.connection.close()},SSEClient}(),ci="PUSH_NONRETRYABLE_ERROR",ui="PUSH_RETRYABLE_ERROR",li="PUSH_SUBSYSTEM_UP",di="PUSH_SUBSYSTEM_DOWN",pi="MY_SEGMENTS_UPDATE",fi="MY_SEGMENTS_UPDATE_V2",hi="SEGMENT_UPDATE",mi="SPLIT_KILL",gi="SPLIT_UPDATE",yi="CONTROL",_i="OCCUPANCY",vi="STREAMING_DISABLED",Ei="STREAMING_PAUSED",bi="STREAMING_RESUMED",Si="STREAMING_RESET";var Ti=[/control_pri$/,/control_sec$/];var Ai=ne("splitio-sync:sse-handler");function SSEHandlerFactory(i){var d=function notificationKeeperFactory(i){var d=Ti.map((function(i){return{regex:i,hasPublishers:!0,oTime:-1,cTime:-1}})),p=!0,v=!0;return{handleOpen:function handleOpen(){i.emit(li)},isStreamingUp:function isStreamingUp(){return v&&p},handleOccupancyEvent:function handleOccupancyEvent(S,T,O){for(var I=0;I<d.length;I++){var N=d[I];if(N.regex.test(T)){if(O>N.oTime){N.oTime=O,N.hasPublishers=0!==S;var R=d.some((function(i){return i.hasPublishers}));v&&(!R&&p?i.emit(di):R&&!p&&i.emit(li)),p=R}return}}},handleControlEvent:function handleControlEvent(S,T,O){if(S!==Si)for(var I=0;I<d.length;I++){var N=d[I];if(N.regex.test(T))return void(O>N.cTime&&(N.cTime=O,S===vi?i.emit(ci):p&&(S===Ei&&v?i.emit(di):S!==bi||v||i.emit(li)),v=S===bi))}else i.emit(S)}}}(i);return{handleOpen:function handleOpen(){d.handleOpen()},handleError:function handleError(d){var p=d;try{p=function errorParser(i){return isString(i.data)&&(i.parsedData=JSON.parse(i.data)),i}(d)}catch(i){Ai.warn("Error parsing SSE error notification: "+i)}var v=p.parsedData&&p.parsedData.message;Ai.error("Fail to connect to streaming"+(v?', with error message: "'+v+'"':"")),!function isRetryableError(i){if(i.parsedData&&i.parsedData.code){var d=i.parsedData.code;if(40140<=d&&d<=40149)return!0;if(4e4<=d&&d<=49999)return!1}return!0}(p)?i.emit(ci):i.emit(ui)},handleMessage:function handleMessage(p){var v;try{v=function messageParser(i){var d=JSON.parse(i.data);return d.parsedData=JSON.parse(d.data),d.name&&"[meta]occupancy"===d.name&&(d.parsedData.type=_i),d}(p)}catch(i){return void Ai.warn("Error parsing new SSE message notification: "+i)}var S=v,T=S.parsedData,O=S.data,I=S.channel,N=S.timestamp;if(Ai.debug("New SSE message received, with data: "+O+"."),d.isStreamingUp()||-1!==[_i,yi].indexOf(T.type))switch(T.type){case gi:i.emit(gi,T.changeNumber);break;case hi:i.emit(hi,T.changeNumber,T.segmentName);break;case pi:i.emit(pi,T,I);break;case fi:i.emit(fi,T);break;case mi:i.emit(mi,T.changeNumber,T.splitName,T.defaultTreatment);break;case _i:d.handleOccupancyEvent(T.metrics.publishers,I,N);break;case yi:d.handleControlEvent(T.controlType,I,N)}}}}function hashUserKey(i){return function encodeToBase64(i){return btoa(i)}(ar.hash(i,0).toString())}var Oi=function iifeDecompress(){if([typeof Uint8Array,typeof Uint16Array,typeof Uint32Array].some((function(i){return"function"!=i})))return"global Uint8Array object is not available for gzip/zlib decompression";var i=Uint8Array,d=Uint16Array,p=Uint32Array,v=new i([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),S=new i([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),T=new i([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),O=function freb(i,v){for(var S=new d(31),T=0;T<31;++T)S[T]=v+=1<<i[T-1];var O=new p(S[30]);for(T=1;T<30;++T)for(var I=S[T];I<S[T+1];++I)O[I]=I-S[T]<<5|T;return[S,O]},I=O(v,2),N=I[0],R=I[1];N[28]=258,R[258]=28;for(var P=O(S,0)[0],k=new d(32768),L=0;L<32768;++L){var M=(43690&L)>>>1|(21845&L)<<1;M=(61680&(M=(52428&M)>>>2|(13107&M)<<2))>>>4|(3855&M)<<4,k[L]=((65280&M)>>>8|(255&M)<<8)>>>1}var F=function hMap(i,p,v){for(var S=i.length,T=0,O=new d(p);T<S;++T)++O[i[T]-1];var I,N=new d(p);for(T=0;T<p;++T)N[T]=N[T-1]+O[T-1]<<1;if(v){I=new d(1<<p);var R=15-p;for(T=0;T<S;++T)if(i[T])for(var P=T<<4|i[T],L=p-i[T],M=N[i[T]-1]++<<L,F=M|(1<<L)-1;M<=F;++M)I[k[M]>>>R]=P}else for(I=new d(S),T=0;T<S;++T)i[T]&&(I[T]=k[N[i[T]-1]++]>>>15-i[T]);return I},U=new i(288);for(L=0;L<144;++L)U[L]=8;for(L=144;L<256;++L)U[L]=9;for(L=256;L<280;++L)U[L]=7;for(L=280;L<288;++L)U[L]=8;var j=new i(32);for(L=0;L<32;++L)j[L]=5;var H=F(U,9,1),V=F(j,5,1),Y=function max(i){for(var d=i[0],p=1;p<i.length;++p)i[p]>d&&(d=i[p]);return d},G=function bits(i,d,p){var v=d/8|0;return(i[v]|i[v+1]<<8)>>(7&d)&p},W=function bits16(i,d){var p=d/8|0;return(i[p]|i[p+1]<<8|i[p+2]<<16)>>(7&d)},q=function shft(i){return(i+7)/8|0},Q=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],X=function err(i,d,p){var v=new Error(d||Q[i]);if(v.code=i,Error.captureStackTrace&&Error.captureStackTrace(v,err),!p)throw v;return v},Z=function inflt(O,I,R){var k=O.length;if(!k||R&&R.f&&!R.l)return I||new i(0);var L=!I||R,M=!R||R.i;R||(R={}),I||(I=new i(3*k));var U=function cbuf(d){var p=I.length;if(d>p){var v=new i(Math.max(2*p,d));v.set(I),I=v}},j=R.f||0,Q=R.p||0,Z=R.b||0,J=R.l,$=R.d,ee=R.m,te=R.n,ne=8*k;do{if(!J){j=G(O,Q,1);var re=G(O,Q+1,3);if(Q+=3,!re){var ie=O[(me=q(Q)+4)-4]|O[me-3]<<8,oe=me+ie;if(oe>k){M&&X(0);break}L&&U(Z+ie),I.set(O.subarray(me,oe),Z),R.b=Z+=ie,R.p=Q=8*oe,R.f=j;continue}if(1==re)J=H,$=V,ee=9,te=5;else if(2==re){var ae=G(O,Q,31)+257,se=G(O,Q+10,15)+4,ce=ae+G(O,Q+5,31)+1;Q+=14;for(var ue=new i(ce),le=new i(19),de=0;de<se;++de)le[T[de]]=G(O,Q+3*de,7);Q+=3*se;var pe=Y(le),fe=(1<<pe)-1,he=F(le,pe,1);for(de=0;de<ce;){var me,ge=he[G(O,Q,fe)];if(Q+=15&ge,(me=ge>>>4)<16)ue[de++]=me;else{var ye=0,_e=0;for(16==me?(_e=3+G(O,Q,3),Q+=2,ye=ue[de-1]):17==me?(_e=3+G(O,Q,7),Q+=3):18==me&&(_e=11+G(O,Q,127),Q+=7);_e--;)ue[de++]=ye}}var ve=ue.subarray(0,ae),Ee=ue.subarray(ae);ee=Y(ve),te=Y(Ee),J=F(ve,ee,1),$=F(Ee,te,1)}else X(1);if(Q>ne){M&&X(0);break}}L&&U(Z+131072);for(var be=(1<<ee)-1,Se=(1<<te)-1,Te=Q;;Te=Q){var Ae=(ye=J[W(O,Q)&be])>>>4;if((Q+=15&ye)>ne){M&&X(0);break}if(ye||X(2),Ae<256)I[Z++]=Ae;else{if(256==Ae){Te=Q,J=null;break}var Oe=Ae-254;if(Ae>264){var Ie=v[de=Ae-257];Oe=G(O,Q,(1<<Ie)-1)+N[de],Q+=Ie}var Ce=$[W(O,Q)&Se],we=Ce>>>4;Ce||X(3),Q+=15&Ce;Ee=P[we];if(we>3){Ie=S[we];Ee+=W(O,Q)&(1<<Ie)-1,Q+=Ie}if(Q>ne){M&&X(0);break}L&&U(Z+131072);for(var Ne=Z+Oe;Z<Ne;Z+=4)I[Z]=I[Z-Ee],I[Z+1]=I[Z+1-Ee],I[Z+2]=I[Z+2-Ee],I[Z+3]=I[Z+3-Ee];Z=Ne}}R.l=J,R.p=Te,R.b=Z,R.f=j,J&&(j=1,R.m=ee,R.d=$,R.n=te)}while(!j);return Z==I.length?I:function slc(v,S,T){(null==S||S<0)&&(S=0),(null==T||T>v.length)&&(T=v.length);var O=new(v instanceof d?d:v instanceof p?p:i)(T-S);return O.set(v.subarray(S,T)),O}(I,0,Z)};return{gunzipSync:function gunzipSync(d,p){return Z(d.subarray(function gzs(i){31==i[0]&&139==i[1]&&8==i[2]||X(6,"invalid gzip data");var d=i[3],p=10;4&d&&(p+=i[10]|2+(i[11]<<8));for(var v=(d>>3&1)+(d>>4&1);v>0;v-=!i[p++]);return p+(2&d)}(d),-8),p||new i(function gzl(i){var d=i.length;return(i[d-4]|i[d-3]<<8|i[d-2]<<16|i[d-1]<<24)>>>0}(d)))},unzlibSync:function unzlibSync(i,d){return Z((function zlv(i){(8!=(15&i[0])||i[0]>>>4>7||(i[0]<<8|i[1])%31)&&X(6,"invalid zlib data"),32&i[1]&&X(6,"invalid zlib data: preset dictionaries not supported")}(i),i.subarray(2,-4)),d)}}}();function decompress(i,d){var p=function StringToUint8Array(i){var d=i.split("").map((function(i){return i.charCodeAt()}));return new Uint8Array(d)}(decodeFromBase64(i));if("string"==typeof Oi)throw new Error(Oi);if(1===d)return Oi.gunzipSync(p);if(2===d)return Oi.unzlibSync(p);throw new Error("Invalid compression algorithm #"+d)}function parseKeyList(i,d){var p=function Uint8ArrayToString(i){return String.fromCharCode.apply(null,i)}(decompress(i,d));return JSON.parse(p.replace(/\d+/g,'"$&"'))}function _x64Add(i,d){i=[i[0]>>>16,65535&i[0],i[1]>>>16,65535&i[1]],d=[d[0]>>>16,65535&d[0],d[1]>>>16,65535&d[1]];var p=[0,0,0,0];return p[3]+=i[3]+d[3],p[2]+=p[3]>>>16,p[3]&=65535,p[2]+=i[2]+d[2],p[1]+=p[2]>>>16,p[2]&=65535,p[1]+=i[1]+d[1],p[0]+=p[1]>>>16,p[1]&=65535,p[0]+=i[0]+d[0],p[0]&=65535,[p[0]<<16|p[1],p[2]<<16|p[3]]}function _x64Multiply(i,d){i=[i[0]>>>16,65535&i[0],i[1]>>>16,65535&i[1]],d=[d[0]>>>16,65535&d[0],d[1]>>>16,65535&d[1]];var p=[0,0,0,0];return p[3]+=i[3]*d[3],p[2]+=p[3]>>>16,p[3]&=65535,p[2]+=i[2]*d[3],p[1]+=p[2]>>>16,p[2]&=65535,p[2]+=i[3]*d[2],p[1]+=p[2]>>>16,p[2]&=65535,p[1]+=i[1]*d[3],p[0]+=p[1]>>>16,p[1]&=65535,p[1]+=i[2]*d[2],p[0]+=p[1]>>>16,p[1]&=65535,p[1]+=i[3]*d[1],p[0]+=p[1]>>>16,p[1]&=65535,p[0]+=i[0]*d[3]+i[1]*d[2]+i[2]*d[1]+i[3]*d[0],p[0]&=65535,[p[0]<<16|p[1],p[2]<<16|p[3]]}function _x64Rotl(i,d){return 32===(d%=64)?[i[1],i[0]]:d<32?[i[0]<<d|i[1]>>>32-d,i[1]<<d|i[0]>>>32-d]:(d-=32,[i[1]<<d|i[0]>>>32-d,i[0]<<d|i[1]>>>32-d])}function _x64LeftShift(i,d){return 0===(d%=64)?i:d<32?[i[0]<<d|i[1]>>>32-d,i[1]<<d]:[i[1]<<d-32,0]}function _x64Xor(i,d){return[i[0]^d[0],i[1]^d[1]]}function _x64Fmix(i){return i=_x64Xor(i,[0,i[0]>>>1]),i=_x64Xor(i=_x64Multiply(i,[4283543511,3981806797]),[0,i[0]>>>1]),i=_x64Xor(i=_x64Multiply(i,[3301882366,444984403]),[0,i[0]>>>1])}function hash128(i,d){return function hash128x64(i,d){d=d||0;for(var p=(i=i||"").length%16,v=i.length-p,S=[0,d],T=[0,d],O=[0,0],I=[0,0],N=[2277735313,289559509],R=[1291169091,658871167],P=0;P<v;P+=16)O=[255&i.charCodeAt(P+4)|(255&i.charCodeAt(P+5))<<8|(255&i.charCodeAt(P+6))<<16|(255&i.charCodeAt(P+7))<<24,255&i.charCodeAt(P)|(255&i.charCodeAt(P+1))<<8|(255&i.charCodeAt(P+2))<<16|(255&i.charCodeAt(P+3))<<24],I=[255&i.charCodeAt(P+12)|(255&i.charCodeAt(P+13))<<8|(255&i.charCodeAt(P+14))<<16|(255&i.charCodeAt(P+15))<<24,255&i.charCodeAt(P+8)|(255&i.charCodeAt(P+9))<<8|(255&i.charCodeAt(P+10))<<16|(255&i.charCodeAt(P+11))<<24],O=_x64Rotl(O=_x64Multiply(O,N),31),S=_x64Add(S=_x64Rotl(S=_x64Xor(S,O=_x64Multiply(O,R)),27),T),S=_x64Add(_x64Multiply(S,[0,5]),[0,1390208809]),I=_x64Rotl(I=_x64Multiply(I,R),33),T=_x64Add(T=_x64Rotl(T=_x64Xor(T,I=_x64Multiply(I,N)),31),S),T=_x64Add(_x64Multiply(T,[0,5]),[0,944331445]);switch(O=[0,0],I=[0,0],p){case 15:I=_x64Xor(I,_x64LeftShift([0,i.charCodeAt(P+14)],48));case 14:I=_x64Xor(I,_x64LeftShift([0,i.charCodeAt(P+13)],40));case 13:I=_x64Xor(I,_x64LeftShift([0,i.charCodeAt(P+12)],32));case 12:I=_x64Xor(I,_x64LeftShift([0,i.charCodeAt(P+11)],24));case 11:I=_x64Xor(I,_x64LeftShift([0,i.charCodeAt(P+10)],16));case 10:I=_x64Xor(I,_x64LeftShift([0,i.charCodeAt(P+9)],8));case 9:I=_x64Multiply(I=_x64Xor(I,[0,i.charCodeAt(P+8)]),R),T=_x64Xor(T,I=_x64Multiply(I=_x64Rotl(I,33),N));case 8:O=_x64Xor(O,_x64LeftShift([0,i.charCodeAt(P+7)],56));case 7:O=_x64Xor(O,_x64LeftShift([0,i.charCodeAt(P+6)],48));case 6:O=_x64Xor(O,_x64LeftShift([0,i.charCodeAt(P+5)],40));case 5:O=_x64Xor(O,_x64LeftShift([0,i.charCodeAt(P+4)],32));case 4:O=_x64Xor(O,_x64LeftShift([0,i.charCodeAt(P+3)],24));case 3:O=_x64Xor(O,_x64LeftShift([0,i.charCodeAt(P+2)],16));case 2:O=_x64Xor(O,_x64LeftShift([0,i.charCodeAt(P+1)],8));case 1:O=_x64Multiply(O=_x64Xor(O,[0,i.charCodeAt(P)]),N),S=_x64Xor(S,O=_x64Multiply(O=_x64Rotl(O,31),R))}return S=_x64Add(S=_x64Xor(S,[0,i.length]),T=_x64Xor(T,[0,i.length])),T=_x64Add(T,S),S=_x64Add(S=_x64Fmix(S),T=_x64Fmix(T)),T=_x64Add(T,S),("00000000"+(S[0]>>>0).toString(16)).slice(-8)+("00000000"+(S[1]>>>0).toString(16)).slice(-8)+("00000000"+(T[0]>>>0).toString(16)).slice(-8)+("00000000"+(T[1]>>>0).toString(16)).slice(-8)}(UTF16ToUTF8(i),d>>>0)}function hex2dec(i){var d,p,v,S=[0];for(d=0;d<i.length;d+=1){for(v=parseInt(i.charAt(d),16),p=S.length-1;p>=0;p-=1)S[p]=16*S[p]+v,v=S[p]/10|0,S[p]%=10;for(;v>0;)S.unshift(v%10),v=v/10|0}return S.join("")}var Ii=ne("splitio-sync:push-manager");function fallbackWarning(i,d){return"Fetching MySegments due to an error processing "+i+" notification: "+d}function PushManagerFactory(i,d){if(function checkPushRequirements(i){return getEventSource()?"function"==typeof atob&&"function"==typeof btoa||(i.warn('"atob" and "btoa" functions for Base64 encoding are not available. Falling back to polling mode.'),!1):(i.warn("EventSource API is not available. Falling back to polling mode."),!1)}(Ii)){var p=new(mt()),v=i.get(i.constants.READINESS).splits,S=i.get(i.constants.SETTINGS),T=i.get(i.constants.STORAGE),O=si.getInstance(S,!d),I=SSEHandlerFactory(p);O.setEventHandler(I);var N,R,P,k={},L={},M=!1,F=new ri(connectPush,S.scheduler.pushRetryBackoffBase);p.on(di,stopWorkers),p.on(li,(function(){F.reset(),stopWorkers()})),p.on(ci,(function handleNonRetryableError(){disconnectPush(),p.emit(di)})),p.on(ui,(function handleRetryableError(){O.close();var i=F.scheduleCall();Ii.info("Attempting to reconnect in "+i/1e3+" seconds."),p.emit(di)})),p.on(Si,(function handleStreamingReset(){N||(R&&clearTimeout(R),connectPush())}));var j,H=i.get(i.constants.PRODUCER),V=new oi(T.splits,H,v);return p.on(mi,V.killSplit),p.on(gi,V.put),d?(p.on(pi,(function handleMySegmentsUpdate(p,v){var S=v.split("_")[2],T=k[S];if(T&&d[T]){var O=d[T].get(i.constants.MY_SEGMENTS_CHANGE_WORKER,!0);O&&O.put(p.changeNumber,p.includesPayload?p.segmentList?p.segmentList:[]:void 0)}})),p.on(fi,(function handleMySegmentsUpdate(i){switch(i.u){case 1:var d;try{d=function parseBitmap(i,d){return decompress(i,d)}(i.d,i.c)}catch(i){Ii.warn(fallbackWarning("BoundedFetchRequest",i));break}return void forOwn(L,(function(p){var v=p.hash64,S=p.worker;(function isInBitmap(i,d){var p=parseInt(d.slice(8),16)%(8*i.length),v=p%8;return(i[Math.floor(p/8)]&1<<v)>0})(d,v.hex)&&S.put(i.changeNumber)}));case 2:var p,v,S;try{p=parseKeyList(i.d,i.c),v=new fn(p.a),S=new fn(p.r)}catch(i){Ii.warn(fallbackWarning("KeyList",i));break}return void forOwn(L,(function(d){var p=d.hash64,T=d.worker,O=!!v.has(p.dec)||!S.has(p.dec)&&void 0;void 0!==O&&T.put(i.changeNumber,{name:i.segmentName,add:O})}));case 3:if(!i.segmentName){Ii.warn(fallbackWarning("SegmentRemoval","No segment name was provided"));break}return void forOwn(L,(function(d){d.worker.put(i.changeNumber,{name:i.segmentName,add:!1})}))}forOwn(L,(function(d){d.worker.put(i.changeNumber)}))}))):(j=new ii(T.segments,H),p.on(hi,j.put)),U()(Object.create(p),{stop:disconnectPush,start:connectPush,startNewClient:function startNewClient(i,d){var p=hashUserKey(i),v=d.get(d.constants.STORAGE),S=d.get(d.constants.PRODUCER);k[p]||(k[p]=i,M=!0);var T,O,I=new ii(v.segments,S);L[i]={worker:I,hash64:(T=i,O=hash128(T).slice(0,16),{hex:O,dec:hex2dec(O)})},d.put(d.constants.MY_SEGMENTS_CHANGE_WORKER,I),setTimeout((function checkForReconnect(){M&&(M=!1,connectPush())}),0)},removeClient:function removeClient(i){var d=hashUserKey(i);delete k[d],delete L[i]}})}function connectPush(){if(!N){Ii.info((void 0===N?"Connecting":"Re-connecting")+" to push streaming."),N=!1;var i=d?Object.keys(d):void 0;authenticate(S,i).then((function(v){if(!N)return v.pushEnabled?void(i&&i.length<Object.keys(d).length||function scheduleTokenRefreshAndSse(i){R&&clearTimeout(R),P&&clearTimeout(P);var d=i.decodedToken,p=d.exp-d.iat-600,v="number"==typeof i.connDelay&&i.connDelay>=0?i.connDelay:60;Ii.info("Refreshing streaming token in "+p+" seconds, and connecting streaming in "+v+" seconds"),R=setTimeout(connectPush,1e3*p),P=setTimeout((function(){N||O.open(i)}),1e3*v)}(v)):(Ii.info("Streaming is not available. Switching to polling mode."),void p.emit(ci))})).catch((function(i){N||(Ii.error("Failed to authenticate for streaming. Error: "+i.message+"."),i.statusCode>=400&&i.statusCode<500?p.emit(ci):p.emit(ui))}))}}function disconnectPush(){N||(N=!0,O.close(),Ii.info("Disconnecting from push streaming."),R&&clearTimeout(R),P&&clearTimeout(P),F.reset(),stopWorkers())}function stopWorkers(){V.backoff.reset(),j&&j.backoff.reset(),forOwn(L,(function(i){return i.worker.backoff.reset()}))}}var Ci=ne("splitio-producer:task");const wi=function TaskFactory(i,d){var p=function getFnName(i){return i.name?i.name:(i.toString().match(/function (.+?)\(/)||["",""])[1]}(i),v=!1;return{start:function start(){v||(Ci.debug("Starting "+p+" refreshing each "+d),v=Lr((function(d){Ci.debug("Running "+p),i().then((function(){return d()}))}),d))},stop:function stop(){Ci.debug("Stopping "+p),v&&v(),v=!1},isRunning:function isRunning(){return!!v}}};const Ni=function timeout(i,d){return i<1?d:new Promise((function(p,v){var S=setTimeout((function(){v(new Ur("Operation timed out because it exceeded the configured time limit of "+i+"ms."))}),i);d.then((function(i){clearTimeout(S),p(i)}),(function(i){clearTimeout(S),v(i)}))}))},Ri=Fetcher;const Pi=function splitChangesFetcher(i,d,p,v,S,T){void 0===p&&(p=!1);var O=i.sync.__splitFiltersValidation.queryString,I=Ri(function get_GET(i,d,p,v){return Br(i,"/splitChanges?since="+d+(p||""),void 0,v?Vr:void 0)}(i,d,O,T)),N=p||S;return I=en.start(en.TaskNames.SPLITS_FETCH,!!N&&v,I),p&&(I=Ni(i.startup.requestTimeoutBeforeReady,I)),I.then((function(i){return i.json().catch((function(i){throw new Fr(i.message)}))}))};const Di=function parseSegments(i){var d=new fn;return i.forEach((function(i){i.matcherGroup.matchers.forEach((function(i){var p=i.matcherType,v=i.userDefinedSegmentMatcherData;"IN_SEGMENT"===p&&d.add(v.segmentName)}))})),d};var ki=ne("splitio-producer:split-changes");function SplitChangesUpdaterFactory(i,d){void 0===d&&(d=!1);var p=i.getAll(),v=p[i.constants.SETTINGS],S=p[i.constants.READINESS],T=p[i.constants.STORAGE],O=p[i.constants.COLLECTORS],I=S.splits,N=!0,R=!0;return function SplitChangesUpdater(i,p){void 0===i&&(i=0);var S=T.splits.getChangeNumber();return(thenable(S)?S:Promise.resolve(S)).then((function splitChanges(S){ki.debug("Spin up split update using since = "+S);var P=Pi(v,S,N,O,d,p).then((function(i){N=!1;var p=function computeSplitsMutation(i){var d=i.reduce((function(i,d){return"ACTIVE"===d.status?(i.added.push([d.name,JSON.stringify(d)]),Di(d.conditions).forEach((function(d){i.segments.add(d)}))):i.removed.push(d.name),i}),{added:[],removed:[],segments:new fn});return d.segments=setToArray(d.segments),d}(i.splits);return ki.debug("New splits "+p.added.length),ki.debug("Removed splits "+p.removed.length),ki.debug("Segment names collected "+p.segments),Promise.all([T.splits.setChangeNumber(i.till),T.splits.addSplits(p.added),T.splits.removeSplits(p.removed),T.segments.registerSegments(p.segments)]).then((function(){(R||S!==i.till&&(!d||function checkAllSegmentsExist(i){return i.getRegisteredSegments().every((function(d){return-1!==i.getChangeNumber(d)}))}(T.segments)))&&(R=!1,I.emit(I.SDK_SPLITS_ARRIVED))}))})).catch((function(d){return d instanceof Fr||(setTimeout((function(){throw d}),0),N=!1),ki.warn("Error while doing fetch of Splits. "+d),N&&v.startup.retriesOnFailureBeforeReady>i?(i+=1,ki.info("Retrying download of splits #"+i+". Reason: "+d),SplitChangesUpdater(i,p)):(N=!1,!1)}));return N&&T.splits.checkCache()&&setTimeout(I.emit(I.SDK_SPLITS_CACHE_LOADED),0),P}))}}const Li=Fetcher;const xi=function mySegmentsFetcher(i,d,p,v){void 0===d&&(d=!1);var S=Li(function mySegments_get_GET(i,d){return Br(i,"/mySegments/"+encodeURIComponent(lt(i.core.key)),void 0,d?Vr:void 0)}(i,v));return S=en.start(en.TaskNames.MY_SEGMENTS_FETCH,!!d&&p,S),d&&(S=Ni(i.startup.requestTimeoutBeforeReady,S)),S.then((function(i){return i.json().catch((function(i){throw new Fr(i.message)}))})).then((function(i){return i.mySegments.map((function(i){return i.name}))}))};var Mi=ne("splitio-producer:my-segments");var Fi=ne("splitio-producer:mySegmentsHandler");const Ui=function PartialBrowserProducer(i){var d=i.get(i.constants.SETTINGS),p=i.get(i.constants.STORAGE).splits,v=i.get(i.constants.READINESS),S=v.splits,T=v.segments,O=function MySegmentsUpdaterFactory(i){var d=i.getAll(),p=d[i.constants.SETTINGS],v=d[i.constants.READINESS],S=d[i.constants.STORAGE],T=d[i.constants.COLLECTORS],O=v.segments,I=!0,N=!0;function updateSegments(i){var d,p=S.segments;if(Array.isArray(i))d=p.resetSegments(i);else{var v=i.name,T=i.add;p.isInSegment(v)!==T?(d=!0,T?p.addToSegment(v):p.removeFromSegment(v)):d=!1}S.splits.usesSegments()&&(d||I)&&(I=!1,O.emit(O.SDK_SEGMENTS_ARRIVED))}return function MySegmentsUpdater(i,d,v){var S;return void 0===i&&(i=0),S=d?new Promise((function(i){updateSegments(d),i()})):xi(p,N,T,v).then((function(i){N=!1,updateSegments(i)})),S.catch((function(d){return d instanceof Fr||setTimeout((function(){throw d}),0),N&&p.startup.retriesOnFailureBeforeReady>i?(i+=1,Mi.warn("Retrying download of segments #"+i+". Reason: "+d),MySegmentsUpdater(i)):(N=!1,!1)}))}}(i),I=wi(synchronizeMySegments,d.scheduler.segmentsRefreshRate);S.on(S.SDK_SPLITS_ARRIVED,(function smartPausing(){if(!R)return;var i=p.usesSegments();i!==I.isRunning()&&(Fi.info("Turning segments data polling "+(i?"ON":"OFF")+"."),i?I.start():I.stop())})),p.usesSegments()?S.once(S.SDK_SPLITS_ARRIVED,smartReady):setTimeout(smartReady,0);var N=!1;function synchronizeMySegments(i,d){return N=!0,O(0,i,d).then((function(i){return N=!1,i}))}var R=!1;function smartReady(){i.get(i.constants.READY,!0)||p.usesSegments()||T.emit(T.SDK_SEGMENTS_ARRIVED)}return{start:function start(){R=!0,p.usesSegments()&&I.start()},stop:function stop(){R=!1,I.stop()},isRunning:function isRunning(){return R},isSynchronizingMySegments:function isSynchronizingMySegments(){return N},synchronizeMySegments}};var ji=ne("splitio-producer:updater");const Hi=function FullBrowserProducer(i){var d=i.get(i.constants.SETTINGS),p=SplitChangesUpdaterFactory(i),v=wi(synchronizeSplits,d.scheduler.featuresRefreshRate),S=Ui(i),T=!1;function synchronizeSplits(i){return T=!0,p(0,i).then((function(i){return T=!1,i}))}return{start:function start(){ji.info("Starting BROWSER producer"),v.start(),S.start()},stop:function stop(){ji.info("Stopping BROWSER producer"),v.stop(),S.stop()},isRunning:v.isRunning,isSynchronizingSplits:function isSynchronizingSplits(){return T},synchronizeSplits,isSynchronizingMySegments:S.isSynchronizingMySegments,synchronizeMySegments:S.synchronizeMySegments}};var Ki=ne("splitio-sync:sync-manager");var Bi=ne("splitio-client:cleanup"),Vi="unload",zi=function(){function BrowserSignalListener(i,d){this.storage=i.get(i.constants.STORAGE),this.settings=i.get(i.constants.SETTINGS),this.syncManager=d,this.flushData=this.flushData.bind(this),this.settings.sync.impressionsMode===xe&&(this.impressionsCounter=i.get(i.constants.IMPRESSIONS_COUNTER))}var i=BrowserSignalListener.prototype;return i.start=function start(){"undefined"!=typeof window&&window.addEventListener&&(Bi.debug("Registering flush handler when unload page event is triggered."),window.addEventListener(Vi,this.flushData))},i.stop=function stop(){"undefined"!=typeof window&&window.removeEventListener&&(Bi.debug("Deregistering flush handler when unload page event is triggered."),window.removeEventListener(Vi,this.flushData))},i.flushData=function flushData(){this._flushImpressions(),this._flushEvents(),this.impressionsCounter&&this._flushImpressionsCount(),this.syncManager&&this.syncManager.pushManager&&this.syncManager.pushManager.stop()},i._flushImpressions=function _flushImpressions(){var i=this.storage.impressions;if(!i.isEmpty()){var d=this.settings.url("/testImpressions/beacon"),p=fromImpressionsCollector(i,this.settings),v={sim:this.settings.sync.impressionsMode===xe?xe:Le};this._sendBeacon(d,p,v)||zr(BULK(this.settings,{body:JSON.stringify(p)})),i.clear()}},i._flushImpressionsCount=function _flushImpressionsCount(){var i={pf:fromImpressionsCountCollector(this.impressionsCounter)};if(0!==i.pf.length){var d=this.settings.url("/testImpressions/count/beacon");this._sendBeacon(d,i)||zr(COUNT(this.settings,{body:JSON.stringify(i)}))}},i._flushEvents=function _flushEvents(){var i=this.storage.events;if(!i.isEmpty()){var d=this.settings.url("/events/beacon"),p=i.toJSON();this._sendBeacon(d,p)||Jr(bulk_BULK(this.settings,{body:JSON.stringify(p)})),i.clear()}},i._sendBeacon=function _sendBeacon(i,d,p){if("undefined"!=typeof navigator&&navigator.sendBeacon){var v={entries:d,token:this.settings.core.authorizationKey,sdk:this.settings.version};p&&U()(v,p);var S=JSON.stringify(v);return navigator.sendBeacon(i,S)}return!1},BrowserSignalListener}(),Yi={};const Gi=function SplitFactoryOnline(i,d,p){var v,S=!!p,T=i.get(i.constants.SETTINGS),O=i.get(i.constants.READINESS),I=i.get(i.constants.STORAGE),N=i.get(i.constants.STATUS_MANAGER),R=O.gate,P=O.splits,k=O.segments,L=R.SDK_READY,M=S?void 0:Zr(i),F=S?void 0:ei(i);switch(T.mode){case Te:case Se:i.put(i.constants.COLLECTORS,M&&M.collectors),S?v=Yi[T.core.authorizationKey].shared(i):(v=function BrowserSyncManagerFactory(i){var d={},p=i.get(i.constants.SETTINGS),v=createInstance(!1,i),S=p.streamingEnabled?PushManagerFactory(i,d):void 0,T=i.get(i.constants.PRODUCER);function startPolling(){T.isRunning()?Ki.info("Streaming couldn't connect. Continue periodic fetch of data."):(Ki.info("Streaming not available. Starting periodic fetch of data."),forOwn(d,(function(i){i.get(i.constants.PRODUCER).start()})))}function stopPollingAndSyncAll(){T.isRunning()&&(Ki.info("PUSH (re)connected. Syncing and stopping periodic fetch of data."),forOwn(d,(function(i){i.get(i.constants.PRODUCER).stop()}))),syncAll()}function syncAll(){i.get(i.constants.PRODUCER).synchronizeSplits(),forOwn(d,(function(i){i.get(i.constants.PRODUCER).synchronizeMySegments()}))}function createInstance(i,p){var v=i?Ui(p):Hi(p),O=p.get(p.constants.SETTINGS),I=lang_toString(lt(O.core.key));return p.put(p.constants.PRODUCER,v),d[I]&&Ki.warn("A client with the same user key has already been created. Only the new instance will be properly synchronized."),d[I]=p,{start:function start(){S?(i?T.isRunning()?v.start():v.synchronizeMySegments():(syncAll(),S.on(li,stopPollingAndSyncAll),S.on(di,startPolling)),S.startNewClient(I,p)):v.start()},stop:function stop(){d[I]&&(delete d[I],S&&(S.removeClient(I),i||S.stop()),v.isRunning()&&v.stop())}}}return v.shared=createInstance.bind(null,!0),v.pushManager=S,v}(i),Yi[T.core.authorizationKey]=v);break;case Ae:i.put(i.constants.READY_FROM_CACHE,!0)}var j=S?void 0:new zi(i,v);if(d&&v&&!S){var H=d.sdkReadyTracker,V=d.splitsReadyTracker,Y=d.segmentsReadyTracker;H.setCollectorForTask(M.collectors),R.once(L,H),P.once(P.SDK_SPLITS_ARRIVED,V),k.once(k.SDK_SEGMENTS_ARRIVED,Y)}v&&v.start(),M&&M.start(),F&&i.put(i.constants.EVENTS,F)&&F.start(),i.put(i.constants.COLLECTORS,p);var G=U()(Object.create(N),kr(i),{destroy:function destroy(){return v&&v.stop(),M&&M.stop(),F&&F.stop(),Promise.all([M&&M.flush(),F&&F.flush()]).then((function(){O.destroy(),j&&j.stop(),I.destroy&&I.destroy(),i.put(i.constants.DESTROYED,!0),S||(releaseApiKey(T.core.authorizationKey),delete Yi[T.core.authorizationKey])}))}});return!S&&j.start(G.destroy),{api:G,metricCollectors:M&&M.collectors}};function parseCondition(i){var d=i.treatment;return i.keys?{conditionType:"WHITELIST",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"WHITELIST",negate:!1,whitelistMatcherData:{whitelist:isString(i.keys)?[i.keys]:i.keys}}]},partitions:[{treatment:d,size:100}],label:"whitelisted "+d}:{conditionType:"ROLLOUT",matcherGroup:{combiner:"AND",matchers:[{keySelector:null,matcherType:"ALL_KEYS",negate:!1}]},partitions:[{treatment:d,size:100}],label:"default rule"}}function createGetConfigurationFromSettings(){var i={emptyMock:1};return function getConfigurationFromSettings(d){var p=d.features||{};if(!function mockUpdated(d){var p=Object.keys(d);return p.length!==Object.keys(i).length?(i=d,!0):p.some((function(p){var v=!i[p],S=function hasTreatmentChanged(i,d){return typeof i!=typeof d||("string"==typeof i?i!==d:i.treatment!==d.treatment||i.config!==d.config)}(i[p],d[p]),T=v||S;return T&&(i=d),T}))}(p))return!1;var v={};return forOwn(p,(function(i,d){var p=i,S=null;isObject(i)&&(p=i.treatment,S=i.config||S);var T={};null!==S&&(T[p]=S),v[d]={trafficTypeName:"localhost",conditions:[parseCondition({treatment:p})],configurations:T}})),v}}var Wi=ne("splitio-producer:offline");const qi=function FromObjectUpdaterFactory(i,d){var p=d.getAll(),v=p[d.constants.SETTINGS],S=p[d.constants.READINESS],T=p[d.constants.STORAGE],O=!0;return function ObjectUpdater(){var d=[],p=null,I={};try{I=i(v)}catch(i){p=i,Wi.error("There was an issue loading the mock Splits data, no changes will be applied to the current cache. "+i)}return!p&&I?(Wi.debug("Splits data: "),Wi.debug(JSON.stringify(I)),forOwn(I,(function(i,p){d.push([p,JSON.stringify({name:p,status:"ACTIVE",killed:!1,trafficAllocation:100,defaultTreatment:"control",conditions:i.conditions||[],configurations:i.configurations,trafficTypeName:i.trafficTypeName})])})),Promise.all([T.splits.flush(),T.splits.addSplits(d)]).then((function(){S.splits.emit(S.splits.SDK_SPLITS_ARRIVED),O&&(O=!1,v.storage.__originalType===Ie&&S.splits.emit(S.splits.SDK_SPLITS_CACHE_LOADED),S.segments.emit(S.segments.SDK_SEGMENTS_ARRIVED))}))):Promise.resolve()}};const Qi=function OfflineFeatureProducer(i){var d=i.get(i.constants.SETTINGS),p=function createSplitChangesFromObject(i){var d=createGetConfigurationFromSettings();return qi(d,i)}(i);return wi(p,d.scheduler.offlineRefreshRate)};const Xi=function SplitFactoryOffline(i,d){var p=!d,v=i.get(i.constants.READINESS),S=i.get(i.constants.STORAGE),T=i.get(i.constants.STATUS_MANAGER);p&&setTimeout((function(){v.splits.on(v.splits.SDK_SPLITS_ARRIVED,(function(){v.gate.emit(v.gate.SDK_UPDATE)})),v.gate.emit(v.gate.SDK_READY)}),0);var O=p?void 0:Qi(i);return O&&O.start(),{api:U()(Object.create(T),kr(i),{destroy:function destroy(){return O&&O.stop(),v.destroy(),S.destroy&&S.destroy(),i.put(i.constants.DESTROYED,!0),!p&&releaseApiKey(),Promise.resolve()}}),metricCollectors:!1}};function promiseWrapper(i,d){var p=!1,v=!1;var S=function chain(i){var S=new Promise((function(p,S){return i.then(p,(function(i){v?S(i):d(i)}))})),T=S.then;return Object.defineProperty(S,"then",{value:function value(i,d){var O=T.call(S,i,d);return"function"==typeof i&&(p=!0),"function"==typeof d?(v=!0,O):chain(O)}}),S}(i);return S.hasOnFulfilled=function(){return p},S}var Zi=ne("");function defaultOnRejected(i){Zi.error(i)}function callbackHandlerContext(i,d){void 0===d&&(d=0);var p=i.get(i.constants.READINESS).gate,v=0,S=!1,T=!1,O=p.SDK_READY,I=p.SDK_READY_FROM_CACHE,N=p.SDK_UPDATE,R=p.SDK_READY_TIMED_OUT;p.on("removeListener",(function(i){i===O&&v--})),p.on("newListener",(function(i){i!==O&&i!==R||(S?Zi.error("A listener was added for "+(i===O?"SDK_READY":"SDK_READY_TIMED_OUT")+" on the SDK, which has already fired and won't be emitted again. The callback won't be executed."):i===O&&v++)}));var P=function generateReadyPromise(){var I=promiseWrapper(new Promise((function(N,P){p.once(O,(function(){Zi.info("Split SDK is ready."),v!==d||I.hasOnFulfilled()||Zi.warn("No listeners for SDK Readiness detected. Incorrect control treatments could have been logged if you called getTreatment/s while the SDK was not yet ready."),i.put(i.constants.READY,!0),S=!0,N()})),p.once(R,(function(d){i.put(i.constants.HAS_TIMEDOUT,!0),T=!0,P(d)}))})),defaultOnRejected);return I}();return p.once(I,(function(){Zi.info("Split SDK is ready from cache."),i.put(i.constants.READY_FROM_CACHE,!0)})),U()(Object.create(p),{Event:{SDK_READY:O,SDK_READY_FROM_CACHE:I,SDK_UPDATE:N,SDK_READY_TIMED_OUT:R},ready:function ready(){return T?S?Promise.resolve():promiseWrapper(Promise.reject("Split SDK has emitted SDK_READY_TIMED_OUT event."),defaultOnRejected):P},__context:i})}var Ji="splitio-ga-to-split",$i=Ji+":mapper",eo=ne(Ji);var to=function mapperBuilder(i){return function(d){var p=d.get("hitType"),v=d.get(i.eventTypeId[p]||"hitType"),S=d.get(i.eventValue[p]),T={},O=i.eventProperties[p];if(O)for(var I=0;I<O.length;I++)T[O[I]]=d.get(O[I]);return{eventTypeId:v,value:S,properties:T,timestamp:Date.now()}}}({eventTypeId:{event:"eventAction",social:"socialAction"},eventValue:{event:"eventValue",timing:"timingValue"},eventProperties:{pageview:["page"],screenview:["screenName"],event:["eventCategory","eventLabel"],social:["socialNetwork","socialTarget"],timing:["timingCategory","timingVar","timingLabel"],exception:["exDescription","exFatal"]}});function validateIdentities(i){return Array.isArray(i)?function unicAsStrings(i,d){void 0===d&&(d=JSON.stringify);var p={};return i.filter((function(i){var v=d(i);return!Object.prototype.hasOwnProperty.call(p,v)&&(p[v]=!0)}))}(i).filter((function(i){if(!i)return!1;var d=i.key,p=i.trafficType;return!(!isString(d)&&!numberIsFinite(d))&&!!isString(p)})):[]}var no=/^[^a-zA-Z0-9]+/,ro=/[^-_.:a-zA-Z0-9]+/g;const io=function GaToSplit(i,d,p){var v={prefix:"ga",identities:p.key&&p.trafficType?[{key:p.key,trafficType:p.trafficType}]:void 0};!function providePlugin(i,d){var p=window.GoogleAnalyticsObject||"ga";window[p]=window[p]||function(){for(var i=arguments.length,d=new Array(i),v=0;v<i;v++)d[v]=arguments[v];(window[p].q=window[p].q||[]).push(d)},window[p]("provide",i,d)}("splitTracker",(function SplitTracker(p,S){var T=U()({},v,i,S);this.tracker=p;var O=validateIdentities(T.identities);if(0!==O.length){var I=O.length-T.identities.length;I&&eo.warn(I+" identities were discarded because they are invalid or duplicated. Identities must be an array of objects with key and trafficType."),T.identities=O,isString(T.prefix)||(eo.warn("The provided `prefix` was ignored since it is invalid. Please check that you are passing a string object as `prefix`."),T.prefix=void 0);var N=p.get("sendHitTask");p.set("sendHitTask",(function(i){if(N(i),!1!==T.hits&&!i.get("splitHit")){try{if(T.filter&&!T.filter(i))return}catch(i){return void eo.warn("GaToSplit custom filter threw: "+i)}var p=to(i);if(T.mapper){try{p=T.mapper(i,p)}catch(i){return void eo.warn("GaToSplit custom mapper threw: "+i)}if(!p)return}T.prefix&&(p.eventTypeId=T.prefix+"."+p.eventTypeId),p.eventTypeId=function fixEventTypeId(i){if(!isString(i)||0===i.length)return i;var d=i.replace(no,"").replace(ro,"_"),p=d.slice(0,80);return p.length<d.length&&eo.warn("EventTypeId was truncated because it cannot be more than 80 characters long."),p}(p.eventTypeId),function validateEventData(i){return!(!validateEvent(i.eventTypeId,$i)||!1===validateEventValue(i.value,$i)||!1===validateEventProperties(i.properties,$i).properties||i.timestamp&&!numberIsFinite(i.timestamp)||i.key&&!1===validateKey(i.key,$i)||i.trafficTypeName&&!1===validateTrafficType(i.trafficTypeName,$i))}(p)&&(p.key&&p.trafficTypeName?d.events.track(p):T.identities.forEach((function(i){var v=U()({key:i.key,trafficTypeName:i.trafficType},p);d.events.track(v)})))}})),eo.info("Started GA-to-Split integration")}else eo.warn("No valid identities were provided. Please check that you are passing a valid list of identities or providing a traffic type at the SDK configuration.")}))};var oo=ne("splitio-split-to-ga"),ao=function(){function SplitToGa(i){if("function"!=typeof SplitToGa.getGa())return oo.warn("`ga` command queue not found. No hits will be sent."),{};this.trackerNames=SplitToGa.defaultTrackerNames,i&&("function"==typeof i.filter&&(this.filter=i.filter),"function"==typeof i.mapper&&(this.mapper=i.mapper),Array.isArray(i.trackerNames)&&(this.trackerNames=uniq(i.trackerNames)),this.impressions=i.impressions,this.events=i.events),oo.info("Started Split-to-GA integration")}return SplitToGa.defaultMapper=function defaultMapper(i){var d=i.type,p=i.payload;switch(d){case Pe:return{hitType:"event",eventCategory:"split-impression",eventAction:"Evaluate "+p.impression.feature,eventLabel:"Treatment: "+p.impression.treatment+". Targeting rule: "+p.impression.label+".",nonInteraction:!0};case De:return{hitType:"event",eventCategory:"split-event",eventAction:p.eventTypeId,eventValue:p.value,nonInteraction:!0}}return null},SplitToGa.getGa=function getGa(){return"undefined"!=typeof window?window[window.GoogleAnalyticsObject||"ga"]:void 0},SplitToGa.validateFieldsObject=function validateFieldsObject(i){return!(!i||!i.hitType)||(oo.warn("your custom mapper returned an invalid FieldsObject instance. It must be an object with at least a `hitType` field."),!1)},SplitToGa.prototype.queue=function queue(i){var d=SplitToGa.getGa();if(d){if(!1===this.impressions&&i.type===Pe)return;if(!1===this.events&&i.type===De)return;var p;try{if(this.filter&&!this.filter(i))return;if(p=SplitToGa.defaultMapper(i),this.mapper&&(!(p=this.mapper(i,p))||!SplitToGa.validateFieldsObject(p)))return}catch(i){return void oo.warn("SplitToGa queue method threw: "+i+". No hit was sent.")}this.trackerNames.forEach((function(i){var v=i?i+".send":"send";p.splitHit=!0,d(v,p)}))}},SplitToGa}();ao.defaultTrackerNames=[""];const so=ao;const co=function integrationsManagerFactory(i){var d=i.get(i.constants.SETTINGS),p=[];if(d.integrations.forEach((function(v){var S;switch(v.type){case Ne:var T=i.get(i.constants.STORAGE),O=d.core;S=io(v,T,O);break;case Re:S=new so(v)}S&&S.queue&&p.push(S)})),0!==p.length)return{handleImpression:function handleImpression(i){p.forEach((function(d){return d.queue({type:Pe,payload:i})}))},handleEvent:function handleEvent(i){p.forEach((function(d){return d.queue({type:De,payload:i})}))}}};const uo=function(){function ImpressionCounter(){this.cache={}}var i=ImpressionCounter.prototype;return i._makeKey=function _makeKey(i,d){return i+"::"+truncateTimeFrame(d)},i.inc=function inc(i,d,p){var v=this._makeKey(i,d),S=this.cache[v];this.cache[v]=S?S+p:p},i.popAll=function popAll(){var i={};return U()(i,this.cache),this.cache={},i},i.size=function size(){return Object.keys(this.cache).length},ImpressionCounter}();var lo=ne("splitio"),po=function buildInstanceId(i,d){return(i.matchingKey?i.matchingKey:i)+"-"+(i.bucketingKey?i.bucketingKey:i)+"-"+(void 0!==d?d:"")};function SplitFactory(i){var d={},p={splitsReadyTracker:en.start(en.TaskNames.SPLITS_READY),segmentsReadyTracker:en.start(en.TaskNames.SEGMENTS_READY),sdkReadyTracker:en.start(en.TaskNames.SDK_READY)},v=new Bt,S=Ht(i);v.put(v.constants.SETTINGS,S),function validateApiKey(i){var d=!1;return null==i?re.error("Factory instantiation: you passed a null or undefined api_key, api_key must be a non-empty string."):isString(i)?i.length>0?d=i:re.error("Factory instantiation: you passed an empty api_key, api_key must be a non-empty string."):re.error("Factory instantiation: you passed an invalid api_key, api_key must be a non-empty string."),d&&(ie[d]?(re.warn("Factory instantiation: You already have "+ie[d]+" "+(1===ie[d]?"factory":"factories")+" with this API Key. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application."),ie[d]++):(ie[d]=1,Object.keys(ie).length>1&&re.warn("Factory instantiation: You already have an instance of the Split factory. Make sure you definitely want this additional instance. We recommend keeping only one instance of the factory at all times (Singleton pattern) and reusing it throughout your application."))),d}(S.core.authorizationKey);var T=At(),O=T(S.startup.readyTimeout);v.put(v.constants.READINESS,O);var I=callbackHandlerContext(v);v.put(v.constants.STATUS_MANAGER,I);var N=ft(v);v.put(v.constants.STORAGE,N);var R=new uo;v.put(v.constants.IMPRESSIONS_COUNTER,R);var P=co(v);v.put(v.constants.INTEGRATIONS_MANAGER,P);var k=S.mode===be?Xi:Gi,L=k(v,p),M=L.api,F=L.metricCollectors,U=Be(N.splits,v),j=parser(S.core.key),H=po(j,S.core.trafficType);return d[H]=M,lo.info("New Split SDK instance created."),{client:function client(i,p){if(void 0===i)return lo.debug("Retrieving default SDK client."),M;if("function"!=typeof N.shared)throw new Error("Shared Client not supported by the storage mechanism. Create isolated instances instead.");var O,I=validateKey(i,"Shared Client instantiation");if(!1===I)throw new Error("Shared Client needs a valid key.");if(void 0!==p&&!1===(O=validateTrafficType(p,"Shared Client instantiation")))throw new Error("Shared Client needs a valid traffic type or no traffic type at all.");var P=po(I,O);if(d[P])lo.debug("Retrieving existing SDK client.");else{var L=S.overrideKeyAndTT(I,O),U=new Bt,j=T(L.startup.readyTimeout);U.put(v.constants.READY_FROM_CACHE,v.get(v.constants.READY_FROM_CACHE,!0)),U.put(v.constants.READINESS,j),U.put(v.constants.STATUS_MANAGER,callbackHandlerContext(U,-1)),U.put(v.constants.SETTINGS,L),U.put(v.constants.STORAGE,N.shared(L)),U.put(v.constants.IMPRESSIONS_COUNTER,R),d[P]=k(U,!1,F).api,lo.info("New shared client instance created.")}return d[P]},manager:function manager(){return lo.info("Manager instance retrieved."),U},Logger:te,settings:S}}function utils_matching(i){return function utils_isObject(i){return i&&"object"==typeof i&&i.constructor===Object}(i)?i.matchingKey:i}function getIsReady(i){return!!i.__context.get(i.__context.constants.READY,!0)}function getIsReadyFromCache(i){return!!i.__context.get(i.__context.constants.READY_FROM_CACHE,!0)}function splitReady(){return{type:S,payload:{timestamp:Date.now()}}}function splitReadyFromCache(){return{type:O,payload:{timestamp:Date.now()}}}function splitTimedout(){return{type:P,payload:{timestamp:Date.now()}}}function addTreatments(i,d){return{type:L,payload:{key:utils_matching(i),treatments:d}}}var asyncActions_assign=function(){return asyncActions_assign=Object.assign||function(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},asyncActions_assign.apply(this,arguments)},fo={config:null,splitio:null,factory:null,sharedClients:{},isDetached:!1,dispatch:null};function initSplitSdk(i){fo.config=i.config,fo.splitio=i.splitio||SplitFactory,fo.factory=fo.splitio(fo.config),fo.isDetached=function isDetached(i){return i.settings.version.includes("nodejs")}(fo.factory),fo.factory.settings.version="redux-1.4.0";var d=fo.isDetached?fo.factory.client():asyncActions_getClient(fo);return i.onReady&&d.once(d.Event.SDK_READY,i.onReady),i.onReadyFromCache&&d.once(d.Event.SDK_READY_FROM_CACHE,i.onReadyFromCache),i.onTimedout&&d.once(d.Event.SDK_READY_TIMED_OUT,i.onTimedout),i.onUpdate&&d.on(d.Event.SDK_UPDATE,i.onUpdate),function(i){return function getHasTimedout(i){return!!i.__context.get(i.__context.constants.HAS_TIMEDOUT,!0)}(d)&&i(splitTimedout()),getIsReady(d)&&i(splitReady()),function getIsDestroyed(i){return!!i.__context.get(i.__context.constants.DESTROYED,!0)}(d)&&i(function actions_splitDestroy(){return{type:k,payload:{timestamp:Date.now()}}}()),fo.isDetached||(fo.dispatch=i,getIsReadyFromCache(d)&&i(splitReadyFromCache())),d.ready()}}function __getTreatments(i,d){return d.reduce((function(d,p){return asyncActions_assign(asyncActions_assign({},d),i.getTreatmentsWithConfig(p.splitNames,p.attributes))}),{})}function asyncActions_getTreatments(i){if(!fo.factory)return console.error('[Error] To use "getTreatments" the SDK must be first initialized with a "initSplitSdk" action'),function(){};if("string"==typeof i.splitNames&&(i.splitNames=[i.splitNames]),fo.isDetached){p=fo.factory.client().getTreatmentsWithConfig(i.key,i.splitNames,i.attributes);return addTreatments(i.key,p)}var d=asyncActions_getClient(fo,i.key);if(i.evalOnUpdate?i.splitNames.forEach((function(p){d.evalOnUpdate[p]=asyncActions_assign(asyncActions_assign({},i),{splitNames:[p]})})):i.splitNames.forEach((function(i){delete d.evalOnUpdate[i]})),getIsReady(d)||d.evalOnReady.push(i),!getIsReadyFromCache(d)&&i.evalOnReadyFromCache&&d.evalOnReadyFromCache.push(i),function getIsOperational(i){return getIsReady(i)||getIsReadyFromCache(i)}(d)){var p=__getTreatments(d,[i]);return addTreatments(i.key||fo.config.core.key,p)}return addTreatments(i.key||fo.config.core.key,i.splitNames.reduce((function(i,d){return i[d]=v,i}),{}))}function asyncActions_getClient(i,d){var p=utils_matching(d),v=!p||p===utils_matching(i.config.core.key),S=v?i.factory.client():i.factory.client(p);return S._trackingStatus||(v||(i.sharedClients[p]=S),S._trackingStatus=!0,S.evalOnUpdate={},S.evalOnReady=[],S.evalOnReadyFromCache=[],S.once(S.Event.SDK_READY,(function onReady(){if(i.dispatch)if(S.evalOnReady.length){var p=__getTreatments(S,S.evalOnReady);d?i.dispatch(addTreatments(d,p)):i.dispatch(function splitReadyWithEvaluations(i,d){return{type:T,payload:{timestamp:Date.now(),key:utils_matching(i),treatments:d}}}(i.config.core.key,p))}else d||i.dispatch(splitReady())})),S.once(S.Event.SDK_READY_TIMED_OUT,(function onTimedout(){i.dispatch&&!d&&i.dispatch(splitTimedout())})),S.once(S.Event.SDK_READY_FROM_CACHE,(function onReadyFromCache(){if(i.dispatch)if(S.evalOnReadyFromCache.length){var p=__getTreatments(S,S.evalOnReadyFromCache);d?i.dispatch(addTreatments(d,p)):i.dispatch(function splitReadyFromCacheWithEvaluations(i,d){return{type:I,payload:{timestamp:Date.now(),key:utils_matching(i),treatments:d}}}(i.config.core.key,p))}else d||i.dispatch(splitReadyFromCache())})),S.on(S.Event.SDK_UPDATE,(function onUpdate(){if(i.dispatch){var p=Object.values(S.evalOnUpdate);if(p.length){var v=__getTreatments(S,p);d?i.dispatch(addTreatments(d,v)):i.dispatch(function splitUpdateWithEvaluations(i,d){return{type:R,payload:{timestamp:Date.now(),key:utils_matching(i),treatments:d}}}(i.config.core.key,v))}else d||i.dispatch(function splitUpdate(){return{type:N,payload:{timestamp:Date.now()}}}())}}))),S}function getSplitNames(){return fo.factory?fo.factory.manager().names():(console.error('[Error] To use the manager, the SDK must be first initialized with an "initSplitSdk" action'),[])}var ho;ho="splitio";p(78027);p(85351)},8855:i=>{"use strict";var d,p="object"==typeof Reflect?Reflect:null,v=p&&"function"==typeof p.apply?p.apply:function ReflectApply(i,d,p){return Function.prototype.apply.call(i,d,p)};d=p&&"function"==typeof p.ownKeys?p.ownKeys:Object.getOwnPropertySymbols?function ReflectOwnKeys(i){return Object.getOwnPropertyNames(i).concat(Object.getOwnPropertySymbols(i))}:function ReflectOwnKeys(i){return Object.getOwnPropertyNames(i)};var S=Number.isNaN||function NumberIsNaN(i){return i!=i};function EventEmitter(){EventEmitter.init.call(this)}i.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var T=10;function checkListener(i){if("function"!=typeof i)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof i)}function _getMaxListeners(i){return void 0===i._maxListeners?EventEmitter.defaultMaxListeners:i._maxListeners}function _addListener(i,d,p,v){var S,T,O;if(checkListener(p),void 0===(T=i._events)?(T=i._events=Object.create(null),i._eventsCount=0):(void 0!==T.newListener&&(i.emit("newListener",d,p.listener?p.listener:p),T=i._events),O=T[d]),void 0===O)O=T[d]=p,++i._eventsCount;else if("function"==typeof O?O=T[d]=v?[p,O]:[O,p]:v?O.unshift(p):O.push(p),(S=_getMaxListeners(i))>0&&O.length>S&&!O.warned){O.warned=!0;var I=new Error("Possible EventEmitter memory leak detected. "+O.length+" "+String(d)+" listeners added. Use emitter.setMaxListeners() to increase limit");I.name="MaxListenersExceededWarning",I.emitter=i,I.type=d,I.count=O.length,function ProcessEmitWarning(i){console&&console.warn&&console.warn(i)}(I)}return i}function onceWrapper(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _onceWrap(i,d,p){var v={fired:!1,wrapFn:void 0,target:i,type:d,listener:p},S=onceWrapper.bind(v);return S.listener=p,v.wrapFn=S,S}function _listeners(i,d,p){var v=i._events;if(void 0===v)return[];var S=v[d];return void 0===S?[]:"function"==typeof S?p?[S.listener||S]:[S]:p?function unwrapListeners(i){for(var d=new Array(i.length),p=0;p<d.length;++p)d[p]=i[p].listener||i[p];return d}(S):arrayClone(S,S.length)}function listenerCount(i){var d=this._events;if(void 0!==d){var p=d[i];if("function"==typeof p)return 1;if(void 0!==p)return p.length}return 0}function arrayClone(i,d){for(var p=new Array(d),v=0;v<d;++v)p[v]=i[v];return p}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return T},set:function(i){if("number"!=typeof i||i<0||S(i))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+i+".");T=i}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function setMaxListeners(i){if("number"!=typeof i||i<0||S(i))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+i+".");return this._maxListeners=i,this},EventEmitter.prototype.getMaxListeners=function getMaxListeners(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function emit(i){for(var d=[],p=1;p<arguments.length;p++)d.push(arguments[p]);var S="error"===i,T=this._events;if(void 0!==T)S=S&&void 0===T.error;else if(!S)return!1;if(S){var O;if(d.length>0&&(O=d[0]),O instanceof Error)throw O;var I=new Error("Unhandled error."+(O?" ("+O.message+")":""));throw I.context=O,I}var N=T[i];if(void 0===N)return!1;if("function"==typeof N)v(N,this,d);else{var R=N.length,P=arrayClone(N,R);for(p=0;p<R;++p)v(P[p],this,d)}return!0},EventEmitter.prototype.addListener=function addListener(i,d){return _addListener(this,i,d,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function prependListener(i,d){return _addListener(this,i,d,!0)},EventEmitter.prototype.once=function once(i,d){return checkListener(d),this.on(i,_onceWrap(this,i,d)),this},EventEmitter.prototype.prependOnceListener=function prependOnceListener(i,d){return checkListener(d),this.prependListener(i,_onceWrap(this,i,d)),this},EventEmitter.prototype.removeListener=function removeListener(i,d){var p,v,S,T,O;if(checkListener(d),void 0===(v=this._events))return this;if(void 0===(p=v[i]))return this;if(p===d||p.listener===d)0==--this._eventsCount?this._events=Object.create(null):(delete v[i],v.removeListener&&this.emit("removeListener",i,p.listener||d));else if("function"!=typeof p){for(S=-1,T=p.length-1;T>=0;T--)if(p[T]===d||p[T].listener===d){O=p[T].listener,S=T;break}if(S<0)return this;0===S?p.shift():function spliceOne(i,d){for(;d+1<i.length;d++)i[d]=i[d+1];i.pop()}(p,S),1===p.length&&(v[i]=p[0]),void 0!==v.removeListener&&this.emit("removeListener",i,O||d)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function removeAllListeners(i){var d,p,v;if(void 0===(p=this._events))return this;if(void 0===p.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==p[i]&&(0==--this._eventsCount?this._events=Object.create(null):delete p[i]),this;if(0===arguments.length){var S,T=Object.keys(p);for(v=0;v<T.length;++v)"removeListener"!==(S=T[v])&&this.removeAllListeners(S);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(d=p[i]))this.removeListener(i,d);else if(void 0!==d)for(v=d.length-1;v>=0;v--)this.removeListener(i,d[v]);return this},EventEmitter.prototype.listeners=function listeners(i){return _listeners(this,i,!0)},EventEmitter.prototype.rawListeners=function rawListeners(i){return _listeners(this,i,!1)},EventEmitter.listenerCount=function(i,d){return"function"==typeof i.listenerCount?i.listenerCount(d):listenerCount.call(i,d)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function eventNames(){return this._eventsCount>0?d(this._events):[]}},42792:i=>{var d;i.exports=function(){function r(i,d,p){function o(S,T){if(!d[S]){if(!i[S]){if(v)return v(S,!0);var O=new Error("Cannot find module '"+S+"'");throw O.code="MODULE_NOT_FOUND",O}var I=d[S]={exports:{}};i[S][0].call(I.exports,(function(d){return o(i[S][1][d]||d)}),I,I.exports,r,i,d,p)}return d[S].exports}for(var v=void 0,S=0;S<p.length;S++)o(p[S]);return o}return r}()({1:[function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(p,"__esModule",{value:!0}),p.PromiseGlobal=void 0;var S=v(i("promise-polyfill")),T="undefined"!=typeof Promise?Promise:S.default;p.PromiseGlobal=T},{"promise-polyfill":70}],2:[function(i,d,p){"use strict";var v=i("./lib/promise"),S={};function loadScript(i){var d,p=JSON.stringify(i);if(!i.forceScriptReload&&(d=S[p]))return d;var T=document.createElement("script"),O=i.dataAttributes||{},I=i.container||document.head;return T.src=i.src,T.id=i.id||"",T.async=!0,i.crossorigin&&T.setAttribute("crossorigin",""+i.crossorigin),Object.keys(O).forEach((function(i){T.setAttribute("data-"+i,""+O[i])})),d=new v.PromiseGlobal((function(d,p){T.addEventListener("load",(function(){d(T)})),T.addEventListener("error",(function(){p(new Error(i.src+" failed to load."))})),T.addEventListener("abort",(function(){p(new Error(i.src+" has aborted."))})),I.appendChild(T)})),S[p]=d,d}loadScript.clearCache=function(){S={}},d.exports=loadScript},{"./lib/promise":1}],3:[function(i,d,p){d.exports=i("./dist/load-script")},{"./dist/load-script":2}],4:[function(i,d,p){"use strict";d.exports=function isAndroid(i){return i=i||window.navigator.userAgent,/Android/.test(i)}},{}],5:[function(i,d,p){"use strict";d.exports=function isChromeOS(i){return i=i||window.navigator.userAgent,/CrOS/i.test(i)}},{}],6:[function(i,d,p){"use strict";var v=i("./is-edge"),S=i("./is-samsung"),T=i("./is-duckduckgo"),O=i("./is-opera"),I=i("./is-silk");d.exports=function isChrome(i){return!(-1===(i=i||window.navigator.userAgent).indexOf("Chrome")&&-1===i.indexOf("CriOS")||v(i)||S(i)||T(i)||O(i)||I(i))}},{"./is-duckduckgo":7,"./is-edge":8,"./is-opera":20,"./is-samsung":21,"./is-silk":22}],7:[function(i,d,p){"use strict";d.exports=function isDuckDuckGo(i){return-1!==(i=i||window.navigator.userAgent).indexOf("DuckDuckGo/")}},{}],8:[function(i,d,p){"use strict";d.exports=function isEdge(i){return-1!==(i=i||window.navigator.userAgent).indexOf("Edge/")}},{}],9:[function(i,d,p){"use strict";d.exports=function isFirefox(i){return i=i||window.navigator.userAgent,/Firefox/i.test(i)}},{}],10:[function(i,d,p){"use strict";var v=i("./is-ie11");d.exports=function isIE(i){return-1!==(i=i||window.navigator.userAgent).indexOf("MSIE")||v(i)}},{"./is-ie11":12}],11:[function(i,d,p){"use strict";d.exports=function isIe10(i){return-1!==(i=i||window.navigator.userAgent).indexOf("MSIE 10")}},{}],12:[function(i,d,p){"use strict";d.exports=function isIe11(i){return-1!==(i=i||window.navigator.userAgent).indexOf("Trident/7")}},{}],13:[function(i,d,p){"use strict";d.exports=function isIe9(i){return-1!==(i=i||window.navigator.userAgent).indexOf("MSIE 9")}},{}],14:[function(i,d,p){"use strict";d.exports=function isIosFirefox(i){return i=i||window.navigator.userAgent,/FxiOS/i.test(i)}},{}],15:[function(i,d,p){"use strict";var v=i("./is-ios");function isGoogleSearchApp(i){return/\bGSA\b/.test(i)}d.exports=function isIosGoogleSearchApp(i){return i=i||window.navigator.userAgent,v(i)&&isGoogleSearchApp(i)}},{"./is-ios":19}],16:[function(i,d,p){"use strict";var v=i("./is-ios"),S=i("./is-ios-firefox"),T=/webkit/i;function isWebkit(i){return T.test(i)}d.exports=function isIosSafari(i){return i=i||window.navigator.userAgent,v(i)&&isWebkit(i)&&-1===i.indexOf("CriOS")&&!S(i)}},{"./is-ios":19,"./is-ios-firefox":14}],17:[function(i,d,p){"use strict";var v=i("./is-ios"),S=i("./is-ios-google-search-app");d.exports=function isIosWebview(i){return i=i||window.navigator.userAgent,!!v(i)&&(!!S(i)||/.+AppleWebKit(?!.*Safari)/.test(i))}},{"./is-ios":19,"./is-ios-google-search-app":15}],18:[function(i,d,p){"use strict";var v=i("./is-ios-webview");d.exports=function isIosWKWebview(i,d){return d=void 0!==d?d:window.statusbar.visible,v(i)&&d}},{"./is-ios-webview":17}],19:[function(i,d,p){"use strict";d.exports=function isIos(i){return i=i||window.navigator.userAgent,/iPhone|iPod|iPad/i.test(i)}},{}],20:[function(i,d,p){"use strict";d.exports=function isOpera(i){return-1!==(i=i||window.navigator.userAgent).indexOf("OPR/")||-1!==i.indexOf("Opera/")||-1!==i.indexOf("OPT/")}},{}],21:[function(i,d,p){"use strict";d.exports=function isSamsungBrowser(i){return i=i||window.navigator.userAgent,/SamsungBrowser/i.test(i)}},{}],22:[function(i,d,p){"use strict";d.exports=function isSilk(i){return-1!==(i=i||window.navigator.userAgent).indexOf("Silk/")}},{}],23:[function(i,d,p){"use strict";var v=48,S=i("./is-android"),T=i("./is-ios-firefox"),O=i("./is-ios-webview"),I=i("./is-chrome"),N=i("./is-samsung"),R=i("./is-duckduckgo");function isUnsupportedIosChrome(i){var d=(i=i||window.navigator.userAgent).match(/CriOS\/(\d+)\./);return!!d&&parseInt(d[1],10)<v}function isOperaMini(i){return(i=i||window.navigator.userAgent).indexOf("Opera Mini")>-1}function isAndroidWebview(i){var d=/Version\/[\d.]+/;return i=i||window.navigator.userAgent,!!S(i)&&d.test(i)&&!isOperaMini(i)&&!R(i)}function isOldSamsungBrowserOrSamsungWebview(i){return!I(i)&&!N(i)&&/samsung/i.test(i)}d.exports=function supportsPopups(i){return i=i||window.navigator.userAgent,!(O(i)||T(i)||isAndroidWebview(i)||isOperaMini(i)||isUnsupportedIosChrome(i)||isOldSamsungBrowserOrSamsungWebview(i))}},{"./is-android":4,"./is-chrome":6,"./is-duckduckgo":7,"./is-ios-firefox":14,"./is-ios-webview":17,"./is-samsung":21}],24:[function(i,d,p){d.exports=i("./dist/is-android")},{"./dist/is-android":4}],25:[function(i,d,p){d.exports=i("./dist/is-chrome-os")},{"./dist/is-chrome-os":5}],26:[function(i,d,p){d.exports=i("./dist/is-chrome")},{"./dist/is-chrome":6}],27:[function(i,d,p){d.exports=i("./dist/is-edge")},{"./dist/is-edge":8}],28:[function(i,d,p){d.exports=i("./dist/is-firefox")},{"./dist/is-firefox":9}],29:[function(i,d,p){d.exports=i("./dist/is-ie")},{"./dist/is-ie":10}],30:[function(i,d,p){d.exports=i("./dist/is-ie10")},{"./dist/is-ie10":11}],31:[function(i,d,p){d.exports=i("./dist/is-ie9")},{"./dist/is-ie9":13}],32:[function(i,d,p){d.exports=i("./dist/is-ios-safari")},{"./dist/is-ios-safari":16}],33:[function(i,d,p){d.exports=i("./dist/is-ios-webview")},{"./dist/is-ios-webview":17}],34:[function(i,d,p){d.exports=i("./dist/is-ios-wkwebview")},{"./dist/is-ios-wkwebview":18}],35:[function(i,d,p){d.exports=i("./dist/is-ios")},{"./dist/is-ios":19}],36:[function(i,d,p){d.exports=i("./dist/supports-popups")},{"./dist/supports-popups":23}],37:[function(i,d,p){"use strict";function _classesOf(i){return i.className.trim().split(/\s+/)}function add(i){for(var d=[],p=1;p<arguments.length;p++)d[p-1]=arguments[p];i.className=_classesOf(i).filter((function(i){return-1===d.indexOf(i)})).concat(d).join(" ")}function remove(i){for(var d=[],p=1;p<arguments.length;p++)d[p-1]=arguments[p];i.className=_classesOf(i).filter((function(i){return-1===d.indexOf(i)})).join(" ")}function toggle(i,d,p){p?add(i,d):remove(i,d)}Object.defineProperty(p,"__esModule",{value:!0}),p.toggle=p.remove=p.add=void 0,p.add=add,p.remove=remove,p.toggle=toggle},{}],38:[function(i,d,p){"use strict";var v=function(){function EventEmitter(){this._events={}}return EventEmitter.prototype.on=function(i,d){this._events[i]?this._events[i].push(d):this._events[i]=[d]},EventEmitter.prototype.off=function(i,d){var p=this._events[i];if(p){var v=p.indexOf(d);p.splice(v,1)}},EventEmitter.prototype._emit=function(i){for(var d=[],p=1;p<arguments.length;p++)d[p-1]=arguments[p];var v=this._events[i];v&&v.forEach((function(i){i.apply(void 0,d)}))},EventEmitter.prototype.hasListener=function(i){var d=this._events[i];return!!d&&d.length>0},EventEmitter.createChild=function(i){i.prototype=Object.create(EventEmitter.prototype,{constructor:i})},EventEmitter}();d.exports=v},{}],39:[function(i,d,p){"use strict";var v="undefined"!=typeof Promise?Promise:null,S=function(){function ExtendedPromise(i){var d=this;"function"!=typeof i?(this._promise=new ExtendedPromise.Promise((function(i,p){d._resolveFunction=i,d._rejectFunction=p})),i=i||{},this._onResolve=i.onResolve||ExtendedPromise.defaultOnResolve,this._onReject=i.onReject||ExtendedPromise.defaultOnReject,ExtendedPromise.shouldCatchExceptions(i)&&this._promise.catch((function(){})),this._resetState()):this._promise=new ExtendedPromise.Promise(i)}return ExtendedPromise.defaultOnResolve=function(i){return ExtendedPromise.Promise.resolve(i)},ExtendedPromise.defaultOnReject=function(i){return ExtendedPromise.Promise.reject(i)},ExtendedPromise.setPromise=function(i){ExtendedPromise.Promise=i},ExtendedPromise.shouldCatchExceptions=function(i){return i.hasOwnProperty("suppressUnhandledPromiseMessage")?Boolean(i.suppressUnhandledPromiseMessage):Boolean(ExtendedPromise.suppressUnhandledPromiseMessage)},ExtendedPromise.all=function(i){return ExtendedPromise.Promise.all(i)},ExtendedPromise.allSettled=function(i){return ExtendedPromise.Promise.allSettled(i)},ExtendedPromise.race=function(i){return ExtendedPromise.Promise.race(i)},ExtendedPromise.reject=function(i){return ExtendedPromise.Promise.reject(i)},ExtendedPromise.resolve=function(i){return ExtendedPromise.Promise.resolve(i)},ExtendedPromise.prototype.then=function(){for(var i,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return(i=this._promise).then.apply(i,d)},ExtendedPromise.prototype.catch=function(){for(var i,d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];return(i=this._promise).catch.apply(i,d)},ExtendedPromise.prototype.resolve=function(i){var d=this;return this.isFulfilled||(this._setResolved(),ExtendedPromise.Promise.resolve().then((function(){return d._onResolve(i)})).then((function(i){d._resolveFunction(i)})).catch((function(i){d._resetState(),d.reject(i)}))),this},ExtendedPromise.prototype.reject=function(i){var d=this;return this.isFulfilled||(this._setRejected(),ExtendedPromise.Promise.resolve().then((function(){return d._onReject(i)})).then((function(i){d._setResolved(),d._resolveFunction(i)})).catch((function(i){return d._rejectFunction(i)}))),this},ExtendedPromise.prototype._resetState=function(){this.isFulfilled=!1,this.isResolved=!1,this.isRejected=!1},ExtendedPromise.prototype._setResolved=function(){this.isFulfilled=!0,this.isResolved=!0,this.isRejected=!1},ExtendedPromise.prototype._setRejected=function(){this.isFulfilled=!0,this.isResolved=!1,this.isRejected=!0},ExtendedPromise.Promise=v,ExtendedPromise}();d.exports=S},{}],40:[function(i,d,p){"use strict";var v=i("./lib/set-attributes"),S=i("./lib/default-attributes"),T=i("./lib/assign");d.exports=function createFrame(i){void 0===i&&(i={});var d=document.createElement("iframe"),p=T.assign({},S.defaultAttributes,i);return p.style&&"string"!=typeof p.style&&(T.assign(d.style,p.style),delete p.style),v.setAttributes(d,p),d.getAttribute("id")||(d.id=d.name),d}},{"./lib/assign":41,"./lib/default-attributes":42,"./lib/set-attributes":43}],41:[function(i,d,p){"use strict";function assign(i){for(var d=[],p=1;p<arguments.length;p++)d[p-1]=arguments[p];return d.forEach((function(d){"object"==typeof d&&Object.keys(d).forEach((function(p){i[p]=d[p]}))})),i}Object.defineProperty(p,"__esModule",{value:!0}),p.assign=void 0,p.assign=assign},{}],42:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.defaultAttributes=void 0,p.defaultAttributes={src:"about:blank",frameBorder:0,allowtransparency:!0,scrolling:"no"}},{}],43:[function(i,d,p){"use strict";function setAttributes(i,d){for(var p in d)if(d.hasOwnProperty(p)){var v=d[p];null==v?i.removeAttribute(p):i.setAttribute(p,v)}}Object.defineProperty(p,"__esModule",{value:!0}),p.setAttributes=void 0,p.setAttributes=setAttributes},{}],44:[function(i,d,p){"use strict";function uuid(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(i){var d=16*Math.random()|0;return("x"===i?d:3&d|8).toString(16)}))}d.exports=uuid},{}],45:[function(i,d,p){"use strict";function deferred(i){return function(){for(var d=[],p=0;p<arguments.length;p++)d[p]=arguments[p];setTimeout((function(){try{i.apply(void 0,d)}catch(i){console.log("Error in callback function"),console.log(i)}}),1)}}Object.defineProperty(p,"__esModule",{value:!0}),p.deferred=deferred},{}],46:[function(i,d,p){"use strict";function once(i){var d=!1;return function(){for(var p=[],v=0;v<arguments.length;v++)p[v]=arguments[v];d||(d=!0,i.apply(void 0,p))}}Object.defineProperty(p,"__esModule",{value:!0}),p.once=once},{}],47:[function(i,d,p){"use strict";function promiseOrCallback(i,d){if(!d)return i;i.then((function(i){return d(null,i)})).catch((function(i){return d(i)}))}Object.defineProperty(p,"__esModule",{value:!0}),p.promiseOrCallback=promiseOrCallback},{}],48:[function(i,d,p){"use strict";var v=i("./lib/deferred"),S=i("./lib/once"),T=i("./lib/promise-or-callback");function wrapPromise(i){return function(){for(var d,p=[],O=0;O<arguments.length;O++)p[O]=arguments[O];return"function"==typeof p[p.length-1]&&(d=p.pop(),d=S.once(v.deferred(d))),T.promiseOrCallback(i.apply(this,p),d)}}wrapPromise.wrapPrototype=function(i,d){void 0===d&&(d={});var p=d.ignoreMethods||[],v=!0===d.transformPrivateMethods;return Object.getOwnPropertyNames(i.prototype).filter((function(d){var S,T="constructor"!==d&&"function"==typeof i.prototype[d],O=-1===p.indexOf(d);return S=!!v||"_"!==d.charAt(0),T&&S&&O})).forEach((function(d){var p=i.prototype[d];i.prototype[d]=wrapPromise(p)})),i},d.exports=wrapPromise},{"./lib/deferred":45,"./lib/once":46,"./lib/promise-or-callback":47}],49:[function(i,d,p){"use strict";var v=this&&this.__assign||function(){return v=Object.assign||function(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},v.apply(this,arguments)},S=i("./lib/card-types"),T=i("./lib/add-matching-cards-to-results"),O=i("./lib/is-valid-input-type"),I=i("./lib/find-best-match"),N=i("./lib/clone"),R={},P={VISA:"visa",MASTERCARD:"mastercard",AMERICAN_EXPRESS:"american-express",DINERS_CLUB:"diners-club",DISCOVER:"discover",JCB:"jcb",UNIONPAY:"unionpay",MAESTRO:"maestro",ELO:"elo",MIR:"mir",HIPER:"hiper",HIPERCARD:"hipercard"},k=[P.VISA,P.MASTERCARD,P.AMERICAN_EXPRESS,P.DINERS_CLUB,P.DISCOVER,P.JCB,P.UNIONPAY,P.MAESTRO,P.ELO,P.MIR,P.HIPER,P.HIPERCARD],L=N.clone(k);function findType(i){return R[i]||S[i]}function getAllCardTypes(){return L.map((function(i){return N.clone(findType(i))}))}function getCardPosition(i,d){void 0===d&&(d=!1);var p=L.indexOf(i);if(!d&&-1===p)throw new Error('"'+i+'" is not a supported card type.');return p}function creditCardType(i){var d=[];if(!O.isValidInputType(i))return d;if(0===i.length)return getAllCardTypes();L.forEach((function(p){var v=findType(p);T.addMatchingCardsToResults(i,v,d)}));var p=I.findBestMatch(d);return p?[p]:d}creditCardType.getTypeInfo=function(i){return N.clone(findType(i))},creditCardType.removeCard=function(i){var d=getCardPosition(i);L.splice(d,1)},creditCardType.addCard=function(i){var d=getCardPosition(i.type,!0);R[i.type]=i,-1===d&&L.push(i.type)},creditCardType.updateCard=function(i,d){var p=R[i]||S[i];if(!p)throw new Error('"'+i+"\" is not a recognized type. Use `addCard` instead.'");if(d.type&&p.type!==d.type)throw new Error("Cannot overwrite type parameter.");var T=N.clone(p);T=v(v({},T),d),R[T.type]=T},creditCardType.changeOrder=function(i,d){var p=getCardPosition(i);L.splice(p,1),L.splice(d,0,i)},creditCardType.resetModifications=function(){L=N.clone(k),R={}},creditCardType.types=P,d.exports=creditCardType},{"./lib/add-matching-cards-to-results":50,"./lib/card-types":51,"./lib/clone":52,"./lib/find-best-match":53,"./lib/is-valid-input-type":54}],50:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.addMatchingCardsToResults=void 0;var v=i("./clone"),S=i("./matches");function addMatchingCardsToResults(i,d,p){var T,O;for(T=0;T<d.patterns.length;T++){var I=d.patterns[T];if(S.matches(i,I)){var N=v.clone(d);O=Array.isArray(I)?String(I[0]).length:String(I).length,i.length>=O&&(N.matchStrength=O),p.push(N);break}}}p.addMatchingCardsToResults=addMatchingCardsToResults},{"./clone":52,"./matches":55}],51:[function(i,d,p){"use strict";var v={visa:{niceType:"Visa",type:"visa",patterns:[4],gaps:[4,8,12],lengths:[16,18,19],code:{name:"CVV",size:3}},mastercard:{niceType:"Mastercard",type:"mastercard",patterns:[[51,55],[2221,2229],[223,229],[23,26],[270,271],2720],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},"american-express":{niceType:"American Express",type:"american-express",patterns:[34,37],gaps:[4,10],lengths:[15],code:{name:"CID",size:4}},"diners-club":{niceType:"Diners Club",type:"diners-club",patterns:[[300,305],36,38,39],gaps:[4,10],lengths:[14,16,19],code:{name:"CVV",size:3}},discover:{niceType:"Discover",type:"discover",patterns:[6011,[644,649],65],gaps:[4,8,12],lengths:[16,19],code:{name:"CID",size:3}},jcb:{niceType:"JCB",type:"jcb",patterns:[2131,1800,[3528,3589]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVV",size:3}},unionpay:{niceType:"UnionPay",type:"unionpay",patterns:[620,[624,626],[62100,62182],[62184,62187],[62185,62197],[62200,62205],[622010,622999],622018,[622019,622999],[62207,62209],[622126,622925],[623,626],6270,6272,6276,[627700,627779],[627781,627799],[6282,6289],6291,6292,810,[8110,8131],[8132,8151],[8152,8163],[8164,8171]],gaps:[4,8,12],lengths:[14,15,16,17,18,19],code:{name:"CVN",size:3}},maestro:{niceType:"Maestro",type:"maestro",patterns:[493698,[5e5,504174],[504176,506698],[506779,508999],[56,59],63,67,6],gaps:[4,8,12],lengths:[12,13,14,15,16,17,18,19],code:{name:"CVC",size:3}},elo:{niceType:"Elo",type:"elo",patterns:[401178,401179,438935,457631,457632,431274,451416,457393,504175,[506699,506778],[509e3,509999],627780,636297,636368,[650031,650033],[650035,650051],[650405,650439],[650485,650538],[650541,650598],[650700,650718],[650720,650727],[650901,650978],[651652,651679],[655e3,655019],[655021,655058]],gaps:[4,8,12],lengths:[16],code:{name:"CVE",size:3}},mir:{niceType:"Mir",type:"mir",patterns:[[2200,2204]],gaps:[4,8,12],lengths:[16,17,18,19],code:{name:"CVP2",size:3}},hiper:{niceType:"Hiper",type:"hiper",patterns:[637095,63737423,63743358,637568,637599,637609,637612],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}},hipercard:{niceType:"Hipercard",type:"hipercard",patterns:[606282],gaps:[4,8,12],lengths:[16],code:{name:"CVC",size:3}}};d.exports=v},{}],52:[function(i,d,p){"use strict";function clone(i){return i?JSON.parse(JSON.stringify(i)):null}Object.defineProperty(p,"__esModule",{value:!0}),p.clone=void 0,p.clone=clone},{}],53:[function(i,d,p){"use strict";function hasEnoughResultsToDetermineBestMatch(i){var d=i.filter((function(i){return i.matchStrength})).length;return d>0&&d===i.length}function findBestMatch(i){return hasEnoughResultsToDetermineBestMatch(i)?i.reduce((function(i,d){return i?Number(i.matchStrength)<Number(d.matchStrength)?d:i:d})):null}Object.defineProperty(p,"__esModule",{value:!0}),p.findBestMatch=void 0,p.findBestMatch=findBestMatch},{}],54:[function(i,d,p){"use strict";function isValidInputType(i){return"string"==typeof i||i instanceof String}Object.defineProperty(p,"__esModule",{value:!0}),p.isValidInputType=void 0,p.isValidInputType=isValidInputType},{}],55:[function(i,d,p){"use strict";function matchesRange(i,d,p){var v=String(d).length,S=i.substr(0,v),T=parseInt(S,10);return d=parseInt(String(d).substr(0,S.length),10),p=parseInt(String(p).substr(0,S.length),10),T>=d&&T<=p}function matchesPattern(i,d){return(d=String(d)).substring(0,i.length)===i.substring(0,d.length)}function matches(i,d){return Array.isArray(d)?matchesRange(i,d[0],d[1]):matchesPattern(i,d)}Object.defineProperty(p,"__esModule",{value:!0}),p.matches=void 0,p.matches=matches},{}],56:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.Framebus=void 0;var v=i("./lib/is-not-string"),S=i("./lib/subscription-args-invalid"),T=i("./lib/broadcast"),O=i("./lib/package-payload"),I=i("./lib/constants"),N="undefined"!=typeof window&&window.Promise,R=function(){function Framebus(i){void 0===i&&(i={}),this.origin=i.origin||"*",this.channel=i.channel||"",this.verifyDomain=i.verifyDomain,this.isDestroyed=!1,this.listeners=[]}return Framebus.setPromise=function(i){Framebus.Promise=i},Framebus.target=function(i){return new Framebus(i)},Framebus.prototype.include=function(i){return null!=i&&null!=i.Window&&i.constructor===i.Window&&(I.childWindows.push(i),!0)},Framebus.prototype.target=function(i){return Framebus.target(i)},Framebus.prototype.emit=function(i,d,p){if(this.isDestroyed)return!1;var S=this.origin;if(i=this.namespaceEvent(i),v.isntString(i))return!1;if(v.isntString(S))return!1;"function"==typeof d&&(p=d,d=void 0);var I=O.packagePayload(i,S,d,p);return!!I&&(T.broadcast(window.top||window.self,I,S),!0)},Framebus.prototype.emitAsPromise=function(i,d){var p=this;return new Framebus.Promise((function(v,S){p.emit(i,d,(function(i){v(i)}))||S(new Error('Listener not added for "'+i+'"'))}))},Framebus.prototype.on=function(i,d){if(this.isDestroyed)return!1;var p=this,v=this.origin,T=d;return i=this.namespaceEvent(i),!S.subscriptionArgsInvalid(i,T,v)&&(this.verifyDomain&&(T=function(){for(var i=[],v=0;v<arguments.length;v++)i[v]=arguments[v];p.checkOrigin(this&&this.origin)&&d.apply(void 0,i)}),this.listeners.push({eventName:i,handler:T,originalHandler:d}),I.subscribers[v]=I.subscribers[v]||{},I.subscribers[v][i]=I.subscribers[v][i]||[],I.subscribers[v][i].push(T),!0)},Framebus.prototype.off=function(i,d){var p=d;if(this.isDestroyed)return!1;if(this.verifyDomain)for(var v=0;v<this.listeners.length;v++){var T=this.listeners[v];T.originalHandler===d&&(p=T.handler)}i=this.namespaceEvent(i);var O=this.origin;if(S.subscriptionArgsInvalid(i,p,O))return!1;var N=I.subscribers[O]&&I.subscribers[O][i];if(!N)return!1;for(v=0;v<N.length;v++)if(N[v]===p)return N.splice(v,1),!0;return!1},Framebus.prototype.teardown=function(){if(!this.isDestroyed){this.isDestroyed=!0;for(var i=0;i<this.listeners.length;i++){var d=this.listeners[i];this.off(d.eventName,d.handler)}this.listeners.length=0}},Framebus.prototype.checkOrigin=function(i){var d,p=document.createElement("a");return p.href=location.href,d="https:"===p.protocol?p.host.replace(/:443$/,""):"http:"===p.protocol?p.host.replace(/:80$/,""):p.host,p.protocol+"//"+d===i||!this.verifyDomain||this.verifyDomain(i)},Framebus.prototype.namespaceEvent=function(i){return this.channel?this.channel+":"+i:i},Framebus.Promise=N,Framebus}();p.Framebus=R},{"./lib/broadcast":60,"./lib/constants":61,"./lib/is-not-string":64,"./lib/package-payload":66,"./lib/subscription-args-invalid":68}],57:[function(i,d,p){"use strict";var v=i("./lib/attach"),S=i("./framebus");v.attach(),d.exports=S.Framebus},{"./framebus":56,"./lib/attach":58}],58:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.detach=p.attach=void 0;var v=i("./message"),S=!1;function attach(){S||"undefined"==typeof window||(S=!0,window.addEventListener("message",v.onmessage,!1))}function detach(){S=!1,window.removeEventListener("message",v.onmessage,!1)}p.attach=attach,p.detach=detach},{"./message":65}],59:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.broadcastToChildWindows=void 0;var v=i("./broadcast"),S=i("./constants");function broadcastToChildWindows(i,d,p){for(var T=S.childWindows.length-1;T>=0;T--){var O=S.childWindows[T];O.closed?S.childWindows.splice(T,1):p!==O&&v.broadcast(O.top,i,d)}}p.broadcastToChildWindows=broadcastToChildWindows},{"./broadcast":60,"./constants":61}],60:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.broadcast=void 0;var v=i("./has-opener");function broadcast(i,d,p){var S,T=0;try{for(i.postMessage(d,p),v.hasOpener(i)&&i.opener.top!==window.top&&broadcast(i.opener.top,d,p);S=i.frames[T];)broadcast(S,d,p),T++}catch(i){}}p.broadcast=broadcast},{"./has-opener":63}],61:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.subscribers=p.childWindows=p.prefix=void 0,p.prefix="/*framebus*/",p.childWindows=[],p.subscribers={}},{}],62:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.dispatch=void 0;var v=i("./constants");function dispatch(i,d,p,S,T){if(v.subscribers[i]&&v.subscribers[i][d]){var O=[];p&&O.push(p),S&&O.push(S);for(var I=0;I<v.subscribers[i][d].length;I++)v.subscribers[i][d][I].apply(T,O)}}p.dispatch=dispatch},{"./constants":61}],63:[function(i,d,p){"use strict";function hasOpener(i){return i.top===i&&null!=i.opener&&i.opener!==i&&!0!==i.opener.closed}Object.defineProperty(p,"__esModule",{value:!0}),p.hasOpener=void 0,p.hasOpener=hasOpener},{}],64:[function(i,d,p){"use strict";function isntString(i){return"string"!=typeof i}Object.defineProperty(p,"__esModule",{value:!0}),p.isntString=void 0,p.isntString=isntString},{}],65:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.onmessage=void 0;var v=i("./is-not-string"),S=i("./unpack-payload"),T=i("./dispatch"),O=i("./broadcast-to-child-windows");function onmessage(i){if(!v.isntString(i.data)){var d=S.unpackPayload(i);if(d){var p=d.eventData,I=d.reply;T.dispatch("*",d.event,p,I,i),T.dispatch(i.origin,d.event,p,I,i),O.broadcastToChildWindows(i.data,d.origin,i.source)}}}p.onmessage=onmessage},{"./broadcast-to-child-windows":59,"./dispatch":62,"./is-not-string":64,"./unpack-payload":69}],66:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.packagePayload=void 0;var v=i("./subscribe-replier"),S=i("./constants");function packagePayload(i,d,p,T){var O,I={event:i,origin:d};"function"==typeof T&&(I.reply=v.subscribeReplier(T,d)),I.eventData=p;try{O=S.prefix+JSON.stringify(I)}catch(i){throw new Error("Could not stringify event: "+i.message)}return O}p.packagePayload=packagePayload},{"./constants":61,"./subscribe-replier":67}],67:[function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(p,"__esModule",{value:!0}),p.subscribeReplier=void 0;var S=i("../framebus"),T=v(i("@braintree/uuid"));function subscribeReplier(i,d){var p=T.default();function replier(v,T){i(v,T),S.Framebus.target({origin:d}).off(p,replier)}return S.Framebus.target({origin:d}).on(p,replier),p}p.subscribeReplier=subscribeReplier},{"../framebus":56,"@braintree/uuid":44}],68:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.subscriptionArgsInvalid=void 0;var v=i("./is-not-string");function subscriptionArgsInvalid(i,d,p){return!!v.isntString(i)||"function"!=typeof d||v.isntString(p)}p.subscriptionArgsInvalid=subscriptionArgsInvalid},{"./is-not-string":64}],69:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.unpackPayload=void 0;var v=i("./constants"),S=i("./package-payload");function unpackPayload(i){var d;if(i.data.slice(0,v.prefix.length)!==v.prefix)return!1;try{d=JSON.parse(i.data.slice(v.prefix.length))}catch(i){return!1}if(d.reply){var p=i.origin,T=i.source,O=d.reply;d.reply=function reply(i){if(T){var d=S.packagePayload(O,p,i);d&&T.postMessage(d,p)}}}return d}p.unpackPayload=unpackPayload},{"./constants":61,"./package-payload":66}],70:[function(i,d,p){"use strict";function finallyConstructor(i){var d=this.constructor;return this.then((function(p){return d.resolve(i()).then((function(){return p}))}),(function(p){return d.resolve(i()).then((function(){return d.reject(p)}))}))}function allSettled(i){return new this((function(d,p){if(!i||void 0===i.length)return p(new TypeError(typeof i+" "+i+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var v=Array.prototype.slice.call(i);if(0===v.length)return d([]);var S=v.length;function res(i,p){if(p&&("object"==typeof p||"function"==typeof p)){var T=p.then;if("function"==typeof T)return void T.call(p,(function(d){res(i,d)}),(function(p){v[i]={status:"rejected",reason:p},0==--S&&d(v)}))}v[i]={status:"fulfilled",value:p},0==--S&&d(v)}for(var T=0;T<v.length;T++)res(T,v[T])}))}var v=setTimeout;function isArray(i){return Boolean(i&&void 0!==i.length)}function noop(){}function bind(i,d){return function(){i.apply(d,arguments)}}function Promise(i){if(!(this instanceof Promise))throw new TypeError("Promises must be constructed via new");if("function"!=typeof i)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(i,this)}function handle(i,d){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,Promise._immediateFn((function(){var p=1===i._state?d.onFulfilled:d.onRejected;if(null!==p){var v;try{v=p(i._value)}catch(i){return void reject(d.promise,i)}resolve(d.promise,v)}else(1===i._state?resolve:reject)(d.promise,i._value)}))):i._deferreds.push(d)}function resolve(i,d){try{if(d===i)throw new TypeError("A promise cannot be resolved with itself.");if(d&&("object"==typeof d||"function"==typeof d)){var p=d.then;if(d instanceof Promise)return i._state=3,i._value=d,void finale(i);if("function"==typeof p)return void doResolve(bind(p,d),i)}i._state=1,i._value=d,finale(i)}catch(d){reject(i,d)}}function reject(i,d){i._state=2,i._value=d,finale(i)}function finale(i){2===i._state&&0===i._deferreds.length&&Promise._immediateFn((function(){i._handled||Promise._unhandledRejectionFn(i._value)}));for(var d=0,p=i._deferreds.length;d<p;d++)handle(i,i._deferreds[d]);i._deferreds=null}function Handler(i,d,p){this.onFulfilled="function"==typeof i?i:null,this.onRejected="function"==typeof d?d:null,this.promise=p}function doResolve(i,d){var p=!1;try{i((function(i){p||(p=!0,resolve(d,i))}),(function(i){p||(p=!0,reject(d,i))}))}catch(i){if(p)return;p=!0,reject(d,i)}}Promise.prototype.catch=function(i){return this.then(null,i)},Promise.prototype.then=function(i,d){var p=new this.constructor(noop);return handle(this,new Handler(i,d,p)),p},Promise.prototype.finally=finallyConstructor,Promise.all=function(i){return new Promise((function(d,p){if(!isArray(i))return p(new TypeError("Promise.all accepts an array"));var v=Array.prototype.slice.call(i);if(0===v.length)return d([]);var S=v.length;function res(i,T){try{if(T&&("object"==typeof T||"function"==typeof T)){var O=T.then;if("function"==typeof O)return void O.call(T,(function(d){res(i,d)}),p)}v[i]=T,0==--S&&d(v)}catch(i){p(i)}}for(var T=0;T<v.length;T++)res(T,v[T])}))},Promise.allSettled=allSettled,Promise.resolve=function(i){return i&&"object"==typeof i&&i.constructor===Promise?i:new Promise((function(d){d(i)}))},Promise.reject=function(i){return new Promise((function(d,p){p(i)}))},Promise.race=function(i){return new Promise((function(d,p){if(!isArray(i))return p(new TypeError("Promise.race accepts an array"));for(var v=0,S=i.length;v<S;v++)Promise.resolve(i[v]).then(d,p)}))},Promise._immediateFn="function"==typeof setImmediate&&function(i){setImmediate(i)}||function(i){v(i,0)},Promise._unhandledRejectionFn=function _unhandledRejectionFn(i){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",i)},d.exports=Promise},{}],71:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.isIos=p.isIE9=p.isSamsungBrowser=p.isAndroidChrome=p.isKitKatWebview=void 0;var v="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent,S=i("@braintree/browser-detection/is-android"),T=i("@braintree/browser-detection/is-chrome-os"),O=i("@braintree/browser-detection/is-chrome"),I=i("@braintree/browser-detection/is-ios");p.isIos=I;var N=i("@braintree/browser-detection/is-ie9");p.isIE9=N;var R=/Version\/\d\.\d* Chrome\/\d*\.0\.0\.0/;function isOldSamsungBrowserOrSamsungWebview(i){return!O(i)&&i.indexOf("Samsung")>-1}function isKitKatWebview(i){return void 0===i&&(i=v),S(i)&&R.test(i)}function isAndroidChrome(i){return void 0===i&&(i=v),(S(i)||T(i))&&O(i)}function isSamsungBrowser(i){return void 0===i&&(i=v),/SamsungBrowser/.test(i)||isOldSamsungBrowserOrSamsungWebview(i)}p.isKitKatWebview=isKitKatWebview,p.isAndroidChrome=isAndroidChrome,p.isSamsungBrowser=isSamsungBrowser},{"@braintree/browser-detection/is-android":24,"@braintree/browser-detection/is-chrome":26,"@braintree/browser-detection/is-chrome-os":25,"@braintree/browser-detection/is-ie9":31,"@braintree/browser-detection/is-ios":35}],72:[function(i,d,p){"use strict";var v=i("./lib/device");d.exports=function supportsInputFormatting(){return!v.isSamsungBrowser()}},{"./lib/device":71}],73:[function(i,d,p){d.exports=i("./dist/supports-input-formatting")},{"./dist/supports-input-formatting":72}],74:[function(i,d,p){"use strict";var v=i("../lib/braintree-error"),S=i("./errors"),T=i("../lib/assign").assign,O=i("../lib/promise"),I=i("../lib/methods"),N=i("../lib/convert-methods-to-error"),R=i("@braintree/wrap-promise");function AmericanExpress(i){this._client=i.client}AmericanExpress.prototype.getRewardsBalance=function(i){var d,p=i.nonce;return p?(delete(d=T({_meta:{source:"american-express"},paymentMethodNonce:p},i)).nonce,this._client.request({method:"get",endpoint:"payment_methods/amex_rewards_balance",data:d}).catch((function(i){return O.reject(new v({type:S.AMEX_NETWORK_ERROR.type,code:S.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express rewards balance.",details:{originalError:i}}))}))):O.reject(new v({type:S.AMEX_NONCE_REQUIRED.type,code:S.AMEX_NONCE_REQUIRED.code,message:"getRewardsBalance must be called with a nonce."}))},AmericanExpress.prototype.getExpressCheckoutProfile=function(i){return i.nonce?this._client.request({method:"get",endpoint:"payment_methods/amex_express_checkout_cards/"+i.nonce,data:{_meta:{source:"american-express"},paymentMethodNonce:i.nonce}}).catch((function(i){return O.reject(new v({type:S.AMEX_NETWORK_ERROR.type,code:S.AMEX_NETWORK_ERROR.code,message:"A network error occurred when getting the American Express Checkout nonce profile.",details:{originalError:i}}))})):O.reject(new v({type:S.AMEX_NONCE_REQUIRED.type,code:S.AMEX_NONCE_REQUIRED.code,message:"getExpressCheckoutProfile must be called with a nonce."}))},AmericanExpress.prototype.teardown=function(){return N(this,I(AmericanExpress.prototype)),O.resolve()},d.exports=R.wrapPrototype(AmericanExpress)},{"../lib/assign":127,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/methods":161,"../lib/promise":163,"./errors":75,"@braintree/wrap-promise":48}],75:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={AMEX_NONCE_REQUIRED:{type:v.types.MERCHANT,code:"AMEX_NONCE_REQUIRED"},AMEX_NETWORK_ERROR:{type:v.types.NETWORK,code:"AMEX_NETWORK_ERROR"}}},{"../lib/braintree-error":130}],76:[function(i,d,p){"use strict";var v=i("./american-express"),S=i("../lib/basic-component-verification"),T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I="3.79.1",N=i("@braintree/wrap-promise");function create(i){var d="American Express";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d})})).then((function(d){return i.client=d,new v(i)}))}d.exports={create:N(create),VERSION:I}},{"../lib/basic-component-verification":128,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"./american-express":74,"@braintree/wrap-promise":48}],77:[function(i,d,p){"use strict";var v=i("../lib/braintree-error"),S=i("../lib/analytics"),T=i("./errors"),O=i("../lib/promise"),I=i("../lib/methods"),N=i("../lib/convert-methods-to-error"),R=i("@braintree/wrap-promise");function ApplePay(i){this._instantiatedWithClient=Boolean(!i.useDeferredClient),this._client=i.client,this._createPromise=i.createPromise,this._client&&this._setMerchantIdentifier()}ApplePay.prototype._waitForClient=function(){return this._client?O.resolve():this._createPromise.then(function(i){this._client=i,this._setMerchantIdentifier()}.bind(this))},ApplePay.prototype._setMerchantIdentifier=function(){var i=this._client.getConfiguration().gatewayConfiguration.applePayWeb;i&&Object.defineProperty(this,"merchantIdentifier",{value:i.merchantIdentifier,configurable:!1,writable:!1})},ApplePay.prototype.createPaymentRequest=function(i){return this._instantiatedWithClient?this._createPaymentRequestSynchronously(i):this._waitForClient().then(function(){return this._createPaymentRequestSynchronously(i)}.bind(this))},ApplePay.prototype._createPaymentRequestSynchronously=function(i){var d=this._client.getConfiguration().gatewayConfiguration.applePayWeb,p={countryCode:d.countryCode,currencyCode:d.currencyCode,merchantCapabilities:d.merchantCapabilities||["supports3DS"],supportedNetworks:d.supportedNetworks.map((function(i){return"mastercard"===i?"masterCard":i}))};return Object.assign({},p,i)},ApplePay.prototype.performValidation=function(i){var d=this;return i&&i.validationURL?this._waitForClient().then((function(){var p={validationUrl:i.validationURL,domainName:i.domainName||window.location.hostname,merchantIdentifier:i.merchantIdentifier||d.merchantIdentifier};return null!=i.displayName&&(p.displayName=i.displayName),d._client.request({method:"post",endpoint:"apple_pay_web/sessions",data:{_meta:{source:"apple-pay"},applePayWebSession:p}})})).then((function(i){return S.sendEvent(d._client,"applepay.performValidation.succeeded"),O.resolve(i)})).catch((function(i){return S.sendEvent(d._client,"applepay.performValidation.failed"),"CLIENT_REQUEST_ERROR"===i.code?O.reject(new v({type:T.APPLE_PAY_MERCHANT_VALIDATION_FAILED.type,code:T.APPLE_PAY_MERCHANT_VALIDATION_FAILED.code,message:T.APPLE_PAY_MERCHANT_VALIDATION_FAILED.message,details:{originalError:i.details.originalError}})):O.reject(new v({type:T.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.type,code:T.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.code,message:T.APPLE_PAY_MERCHANT_VALIDATION_NETWORK.message,details:{originalError:i}}))})):O.reject(new v(T.APPLE_PAY_VALIDATION_URL_REQUIRED))},ApplePay.prototype.tokenize=function(i){var d=this;return i.token?this._waitForClient().then((function(){return d._client.request({method:"post",endpoint:"payment_methods/apple_payment_tokens",data:{_meta:{source:"apple-pay"},applePaymentToken:Object.assign({},i.token,{paymentData:btoa(JSON.stringify(i.token.paymentData))})}})})).then((function(i){return S.sendEvent(d._client,"applepay.tokenize.succeeded"),O.resolve(i.applePayCards[0])})).catch((function(i){return S.sendEvent(d._client,"applepay.tokenize.failed"),O.reject(new v({type:T.APPLE_PAY_TOKENIZATION.type,code:T.APPLE_PAY_TOKENIZATION.code,message:T.APPLE_PAY_TOKENIZATION.message,details:{originalError:i}}))})):O.reject(new v(T.APPLE_PAY_PAYMENT_TOKEN_REQUIRED))},ApplePay.prototype.teardown=function(){return N(this,I(ApplePay.prototype)),O.resolve()},d.exports=R.wrapPrototype(ApplePay)},{"../lib/analytics":125,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/methods":161,"../lib/promise":163,"./errors":78,"@braintree/wrap-promise":48}],78:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={APPLE_PAY_NOT_ENABLED:{type:v.types.MERCHANT,code:"APPLE_PAY_NOT_ENABLED",message:"Apple Pay is not enabled for this merchant."},APPLE_PAY_VALIDATION_URL_REQUIRED:{type:v.types.MERCHANT,code:"APPLE_PAY_VALIDATION_URL_REQUIRED",message:"performValidation must be called with a validationURL."},APPLE_PAY_MERCHANT_VALIDATION_NETWORK:{type:v.types.NETWORK,code:"APPLE_PAY_MERCHANT_VALIDATION_NETWORK",message:"A network error occurred when validating the Apple Pay merchant."},APPLE_PAY_MERCHANT_VALIDATION_FAILED:{type:v.types.MERCHANT,code:"APPLE_PAY_MERCHANT_VALIDATION_FAILED",message:"Make sure you have registered your domain name in the Braintree Control Panel."},APPLE_PAY_PAYMENT_TOKEN_REQUIRED:{type:v.types.MERCHANT,code:"APPLE_PAY_PAYMENT_TOKEN_REQUIRED",message:"tokenize must be called with a payment token."},APPLE_PAY_TOKENIZATION:{type:v.types.NETWORK,code:"APPLE_PAY_TOKENIZATION",message:"A network error occurred when processing the Apple Pay payment."}}},{"../lib/braintree-error":130}],79:[function(i,d,p){"use strict";var v=i("./apple-pay"),S=i("../lib/analytics"),T=i("../lib/braintree-error"),O=i("../lib/basic-component-verification"),I=i("../lib/create-assets-url"),N=i("../lib/create-deferred-client"),R=i("../lib/promise"),P=i("./errors"),k="3.79.1",L=i("@braintree/wrap-promise");function create(i){var d="Apple Pay";return O.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){var p,O=N.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:I.create(i.authorization),name:d}).then((function(i){return i.getConfiguration().gatewayConfiguration.applePayWeb?(S.sendEvent(i,"applepay.initialized"),i):R.reject(new T(P.APPLE_PAY_NOT_ENABLED))}));return i.createPromise=O,p=new v(i),i.useDeferredClient?p:O.then((function(i){return p._client=i,p}))}))}d.exports={create:L(create),VERSION:k}},{"../lib/analytics":125,"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./apple-pay":77,"./errors":78,"@braintree/wrap-promise":48}],80:[function(i,d,p){"use strict";var v=i("@braintree/browser-detection/is-ie"),S=i("@braintree/browser-detection/is-ie9");d.exports={isIe:v,isIe9:S}},{"@braintree/browser-detection/is-ie":29,"@braintree/browser-detection/is-ie9":31}],81:[function(i,d,p){"use strict";var v=i("./constants").BRAINTREE_VERSION,S=i("./request/graphql"),T=i("./request"),O=i("../lib/is-verified-domain"),I=i("../lib/braintree-error"),N=i("../lib/convert-to-braintree-error"),R=i("./get-configuration").getConfiguration,P=i("../lib/create-authorization-data"),k=i("../lib/add-metadata"),L=i("../lib/promise"),M=i("@braintree/wrap-promise"),F=i("../lib/once"),U=i("../lib/deferred"),j=i("../lib/assign").assign,H=i("../lib/analytics"),V=i("./errors"),Y=i("../lib/constants").VERSION,G=i("../lib/constants").GRAPHQL_URLS,W=i("../lib/methods"),q=i("../lib/convert-methods-to-error"),Q=i("../lib/assets"),X=i("../lib/constants").FRAUDNET_FNCLS,Z=i("../lib/constants").FRAUDNET_SOURCE,J=i("../lib/constants").FRAUDNET_URL,$={};function Client(i){var d,p;if(i=i||{},d=JSON.stringify(i),!(p=i.gatewayConfiguration))throw new I(V.CLIENT_MISSING_GATEWAY_CONFIGURATION);["assetsUrl","clientApiUrl","configUrl"].forEach((function(i){if(i in p&&!O(p[i]))throw new I({type:V.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.type,code:V.CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN.code,message:i+" property is on an invalid domain."})})),this.getConfiguration=function(){return JSON.parse(d)},this._request=T,this._configuration=this.getConfiguration(),this._clientApiBaseUrl=p.clientApiUrl+"/v1/",p.graphQL&&(this._graphQL=new S({graphQL:p.graphQL}))}function formatRequestError(i,d){var p;if(-1===i?p=new I(V.CLIENT_REQUEST_TIMEOUT):401===i?p=new I(V.CLIENT_AUTHORIZATION_INVALID):403===i?p=new I(V.CLIENT_AUTHORIZATION_INSUFFICIENT):429===i?p=new I(V.CLIENT_RATE_LIMITED):i>=500?p=new I(V.CLIENT_GATEWAY_NETWORK):(i<200||i>=400)&&(p=N(d,{type:V.CLIENT_REQUEST_ERROR.type,code:V.CLIENT_REQUEST_ERROR.code,message:V.CLIENT_REQUEST_ERROR.message})),p)return p.details=p.details||{},p.details.httpStatus=i,p}function getAuthorizationHeadersForGraphQL(i){return{Authorization:"Bearer "+(i.authorizationFingerprint||i.authorization),"Braintree-Version":v}}Client.initialize=function(i){var d,p,v=$[i.authorization];if(v)return H.sendEvent(v,"custom.client.load.cached"),v;try{p=P(i.authorization)}catch(i){return L.reject(new I(V.CLIENT_INVALID_AUTHORIZATION))}return v=R(p).then((function(p){return i.debug&&(p.isDebug=!0),p.authorization=i.authorization,d=new Client(p)})),$[i.authorization]=v,H.sendEvent(v,"custom.client.load.initialized"),v.then((function(i){return H.sendEvent(d,"custom.client.load.succeeded"),i})).catch((function(d){return delete $[i.authorization],L.reject(d)}))},Client.clearCache=function(){$={}},Client.prototype._findOrCreateFraudnetJSON=function(i){var d,p,v,S,T=document.querySelector('script[fncls="'+X+'"]');T||((T=document.body.appendChild(document.createElement("script"))).type="application/json",T.setAttribute("fncls",X)),d=this.getConfiguration(),p={rda_tenant:"bt_card",mid:d.gatewayConfiguration.merchantId},(v=d.authorizationFingerprint)&&v.split("&").forEach((function(i){var d=i.split("=");"customer_id"===d[0]&&d.length>1&&(p.cid=d[1])})),S={f:i.substr(0,32),fp:p,bu:!1,s:Z},T.text=JSON.stringify(S)},Client.prototype.request=function(i,d){var p=this,v=new L((function(d,v){var S,T,O,R,P=Boolean("payment_methods/credit_cards"===i.endpoint&&p.getConfiguration().gatewayConfiguration.creditCards.collectDeviceData);if("graphQLApi"!==i.api&&(i.method?i.endpoint||(S="options.endpoint"):S="options.method"),S)throw new I({type:V.CLIENT_OPTION_REQUIRED.type,code:V.CLIENT_OPTION_REQUIRED.code,message:S+" is required when making a request."});if(T="api"in i?i.api:"clientApi",R={method:i.method,graphQL:p._graphQL,timeout:i.timeout,metadata:p._configuration.analyticsMetadata},"clientApi"===T)O=p._clientApiBaseUrl,R.data=k(p._configuration,i.data);else{if("graphQLApi"!==T)throw new I({type:V.CLIENT_OPTION_INVALID.type,code:V.CLIENT_OPTION_INVALID.code,message:"options.api is invalid."});O=G[p._configuration.gatewayConfiguration.environment],i.endpoint="",R.method="post",R.data=j({clientSdkMetadata:{platform:p._configuration.analyticsMetadata.platform,source:p._configuration.analyticsMetadata.source,integration:p._configuration.analyticsMetadata.integration,sessionId:p._configuration.analyticsMetadata.sessionId,version:Y}},i.data),R.headers=getAuthorizationHeadersForGraphQL(p._configuration)}R.url=O+i.endpoint,R.sendAnalyticsEvent=function(i){H.sendEvent(p,i)},p._request(R,(function(i,S,O){var I,R;(R=formatRequestError(O,i))?v(R):"graphQLApi"===T&&S.errors?v(N(S.errors,{type:V.CLIENT_GRAPHQL_REQUEST_ERROR.type,code:V.CLIENT_GRAPHQL_REQUEST_ERROR.code,message:V.CLIENT_GRAPHQL_REQUEST_ERROR.message})):(I=j({_httpStatus:O},S),P&&I.creditCards&&I.creditCards.length>0&&(p._findOrCreateFraudnetJSON(I.creditCards[0].nonce),Q.loadScript({src:J,forceScriptReload:!0})),d(I))}))}));return"function"==typeof d?(d=F(U(d)),void v.then((function(i){d(null,i,i._httpStatus)})).catch((function(i){var p=i&&i.details&&i.details.httpStatus;d(i,null,p)}))):v},Client.prototype.toJSON=function(){return this.getConfiguration()},Client.prototype.getVersion=function(){return Y},Client.prototype.teardown=M((function(){var i=this;return delete $[i.getConfiguration().authorization],q(i,W(Client.prototype)),L.resolve()})),d.exports=Client},{"../lib/add-metadata":124,"../lib/analytics":125,"../lib/assets":126,"../lib/assign":127,"../lib/braintree-error":130,"../lib/constants":132,"../lib/convert-methods-to-error":133,"../lib/convert-to-braintree-error":134,"../lib/create-authorization-data":136,"../lib/deferred":138,"../lib/is-verified-domain":159,"../lib/methods":161,"../lib/once":162,"../lib/promise":163,"./constants":82,"./errors":83,"./get-configuration":84,"./request":96,"./request/graphql":94,"@braintree/wrap-promise":48}],82:[function(i,d,p){"use strict";d.exports={BRAINTREE_VERSION:"2018-05-10"}},{}],83:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN:{type:v.types.MERCHANT,code:"CLIENT_GATEWAY_CONFIGURATION_INVALID_DOMAIN"},CLIENT_OPTION_REQUIRED:{type:v.types.MERCHANT,code:"CLIENT_OPTION_REQUIRED"},CLIENT_OPTION_INVALID:{type:v.types.MERCHANT,code:"CLIENT_OPTION_INVALID"},CLIENT_MISSING_GATEWAY_CONFIGURATION:{type:v.types.INTERNAL,code:"CLIENT_MISSING_GATEWAY_CONFIGURATION",message:"Missing gatewayConfiguration."},CLIENT_INVALID_AUTHORIZATION:{type:v.types.MERCHANT,code:"CLIENT_INVALID_AUTHORIZATION",message:"Authorization is invalid. Make sure your client token or tokenization key is valid."},CLIENT_GATEWAY_NETWORK:{type:v.types.NETWORK,code:"CLIENT_GATEWAY_NETWORK",message:"Cannot contact the gateway at this time."},CLIENT_REQUEST_TIMEOUT:{type:v.types.NETWORK,code:"CLIENT_REQUEST_TIMEOUT",message:"Request timed out waiting for a reply."},CLIENT_REQUEST_ERROR:{type:v.types.NETWORK,code:"CLIENT_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_GRAPHQL_REQUEST_ERROR:{type:v.types.NETWORK,code:"CLIENT_GRAPHQL_REQUEST_ERROR",message:"There was a problem with your request."},CLIENT_RATE_LIMITED:{type:v.types.MERCHANT,code:"CLIENT_RATE_LIMITED",message:"You are being rate-limited; please try again in a few minutes."},CLIENT_AUTHORIZATION_INSUFFICIENT:{type:v.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INSUFFICIENT",message:"The authorization used has insufficient privileges."},CLIENT_AUTHORIZATION_INVALID:{type:v.types.MERCHANT,code:"CLIENT_AUTHORIZATION_INVALID",message:"Either the client token has expired and a new one should be generated or the tokenization key has been deactivated or deleted."}}},{"../lib/braintree-error":130}],84:[function(i,d,p){"use strict";var v=i("../lib/braintree-error"),S=i("../lib/promise"),T=i("@braintree/wrap-promise"),O=i("./request"),I=i("@braintree/uuid"),N=i("../lib/constants"),R=i("./errors"),P=i("./request/graphql"),k=i("../lib/constants").GRAPHQL_URLS,L=i("../lib/is-date-string-before-or-on"),M=i("./constants").BRAINTREE_VERSION;function getConfiguration(i){return new S((function(d,p){var S,T,F,U,j=I(),H={merchantAppId:window.location.host,platform:N.PLATFORM,sdkVersion:N.VERSION,source:N.SOURCE,integration:N.INTEGRATION,integrationType:N.INTEGRATION,sessionId:j};T=i.attrs,F=i.configUrl,T._meta=H,T.braintreeLibraryVersion=N.BRAINTREE_LIBRARY_VERSION,T.configVersion="3",U={url:F,method:"GET",data:T},T.authorizationFingerprint&&i.graphQL?(L(i.graphQL.date,M)&&(U.graphQL=new P({graphQL:{url:i.graphQL.url,features:["configuration"]}})),U.metadata=H):T.tokenizationKey&&(U.graphQL=new P({graphQL:{url:k[i.environment],features:["configuration"]}}),U.metadata=H),O(U,(function(i,O,I){var N;if(i)return N=403===I?R.CLIENT_AUTHORIZATION_INSUFFICIENT:401===I?R.CLIENT_AUTHORIZATION_INVALID:R.CLIENT_GATEWAY_NETWORK,void p(new v({type:N.type,code:N.code,message:N.message,details:{originalError:i}}));S={authorizationType:T.tokenizationKey?"TOKENIZATION_KEY":"CLIENT_TOKEN",authorizationFingerprint:T.authorizationFingerprint,analyticsMetadata:H,gatewayConfiguration:O},d(S)}))}))}d.exports={getConfiguration:T(getConfiguration)}},{"../lib/braintree-error":130,"../lib/constants":132,"../lib/is-date-string-before-or-on":157,"../lib/promise":163,"./constants":82,"./errors":83,"./request":96,"./request/graphql":94,"@braintree/uuid":44,"@braintree/wrap-promise":48}],85:[function(i,d,p){"use strict";var v=i("../lib/braintree-error"),S=i("./client"),T="3.79.1",O=i("../lib/promise"),I=i("@braintree/wrap-promise"),N=i("../lib/errors");function create(i){return i.authorization?S.initialize(i):O.reject(new v({type:N.INSTANTIATION_OPTION_REQUIRED.type,code:N.INSTANTIATION_OPTION_REQUIRED.code,message:"options.authorization is required when instantiating a client."}))}d.exports={create:I(create),VERSION:T}},{"../lib/braintree-error":130,"../lib/errors":141,"../lib/promise":163,"./client":81,"@braintree/wrap-promise":48}],86:[function(i,d,p){"use strict";var v=i("../../lib/querystring"),S=i("../../lib/assign").assign,T=i("./prep-body"),O=i("./parse-body"),I=i("./xhr"),N=I.isAvailable,R=i("./graphql/request"),P=i("./default-request"),k=1,L=408;function requestShouldRetry(i){return!i||i===L}function graphQLRequestShouldRetryWithClientApi(i){var d=!i.data&&i.errors&&i.errors[0]&&i.errors[0].extensions&&i.errors[0].extensions.errorClass;return"UNKNOWN"===d||"INTERNAL"===d}function _requestWithRetry(i,d,p){var L,M,F,U,j,H,V,Y=i.url,G=i.graphQL,W=i.timeout,q=I.getRequestObject(),Q=p,X=Boolean(G&&G.isGraphQLRequest(Y,i.data));i.headers=S({"Content-Type":"application/json"},i.headers),Y=(F=X?new R(i):new P(i)).getUrl(),U=F.getBody(),j=F.getMethod(),H=F.getHeaders(),"GET"===j&&(Y=v.queryify(Y,U),U=null),N?q.onreadystatechange=function(){if(4===q.readyState){if(0===q.status&&X)return delete i.graphQL,void _requestWithRetry(i,d,p);if(V=O(q.responseText),M=F.adaptResponseBody(V),(L=F.determineStatus(q.status,V))>=400||L<200){if(X&&graphQLRequestShouldRetryWithClientApi(V))return delete i.graphQL,void _requestWithRetry(i,d,p);if(d<k&&requestShouldRetry(L))return d++,void _requestWithRetry(i,d,p);Q(M||"error",null,L||500)}else Q(null,M,L)}}:(i.headers&&(Y=v.queryify(Y,H)),q.onload=function(){Q(null,O(q.responseText),q.status)},q.onerror=function(){Q("error",null,500)},q.onprogress=function(){},q.ontimeout=function(){Q("timeout",null,-1)});try{q.open(j,Y,!0)}catch(v){if(!X)throw v;return delete i.graphQL,void _requestWithRetry(i,d,p)}q.timeout=W,N&&Object.keys(H).forEach((function(i){q.setRequestHeader(i,H[i])}));try{q.send(T(j,U))}catch(i){}}function request(i,d){_requestWithRetry(i,0,d)}d.exports={request}},{"../../lib/assign":127,"../../lib/querystring":164,"./default-request":87,"./graphql/request":95,"./parse-body":99,"./prep-body":100,"./xhr":101}],87:[function(i,d,p){"use strict";function DefaultRequest(i){this._url=i.url,this._data=i.data,this._method=i.method,this._headers=i.headers}DefaultRequest.prototype.getUrl=function(){return this._url},DefaultRequest.prototype.getBody=function(){return this._data},DefaultRequest.prototype.getMethod=function(){return this._method},DefaultRequest.prototype.getHeaders=function(){return this._headers},DefaultRequest.prototype.adaptResponseBody=function(i){return i},DefaultRequest.prototype.determineStatus=function(i){return i},d.exports=DefaultRequest},{}],88:[function(i,d,p){"use strict";d.exports=function getUserAgent(){return window.navigator.userAgent}},{}],89:[function(i,d,p){"use strict";var v=i("./error"),S=i("../../../../lib/assign").assign,T={creditCard:{AMERICAN_EXPRESS:"American Express",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",SOLO:"Solo",UK_MAESTRO:"UK Maestro",UNION_PAY:"UnionPay",VISA:"Visa"},applePayWeb:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},visaCheckout:{VISA:"Visa",MASTERCARD:"MasterCard",DISCOVER:"Discover",AMERICAN_EXPRESS:"American Express"},googlePay:{VISA:"visa",MASTERCARD:"mastercard",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",INTERNATIONAL_MAESTRO:"maestro",ELO:"elo"},masterpass:{VISA:"visa",MASTERCARD:"master",DISCOVER:"discover",AMERICAN_EXPRESS:"amex",DINERS:"diners",INTERNATIONAL_MAESTRO:"maestro",JCB:"jcb"}};function configurationResponseAdapter(i,d){return i.data&&!i.errors?adaptConfigurationResponseBody(i,d):v(i)}function adaptConfigurationResponseBody(i,d){var p,v=i.data.clientConfiguration;return p={environment:v.environment.toLowerCase(),clientApiUrl:v.clientApiUrl,assetsUrl:v.assetsUrl,analytics:{url:v.analyticsUrl},merchantId:v.merchantId,venmo:"off"},v.supportedFeatures&&(p.graphQL={url:d._graphQL._config.url,features:v.supportedFeatures.map((function(i){return i.toLowerCase()}))}),v.braintreeApi&&(p.braintreeApi=v.braintreeApi),v.applePayWeb&&(p.applePayWeb=v.applePayWeb,p.applePayWeb.supportedNetworks=mapCardTypes(v.applePayWeb.supportedCardBrands,T.applePayWeb),delete p.applePayWeb.supportedCardBrands),v.ideal&&(p.ideal=v.ideal),v.kount&&(p.kount={kountMerchantId:v.kount.merchantId}),v.creditCard?(p.challenges=v.creditCard.challenges.map((function(i){return i.toLowerCase()})),p.creditCards={supportedCardTypes:mapCardTypes(v.creditCard.supportedCardBrands,T.creditCard)},p.threeDSecureEnabled=v.creditCard.threeDSecureEnabled,p.threeDSecure=v.creditCard.threeDSecure):(p.challenges=[],p.creditCards={supportedCardTypes:[]},p.threeDSecureEnabled=!1),v.googlePay&&(p.androidPay={displayName:v.googlePay.displayName,enabled:!0,environment:v.googlePay.environment.toLowerCase(),googleAuthorizationFingerprint:v.googlePay.googleAuthorization,paypalClientId:v.googlePay.paypalClientId,supportedNetworks:mapCardTypes(v.googlePay.supportedCardBrands,T.googlePay)}),v.venmo&&(p.payWithVenmo={merchantId:v.venmo.merchantId,accessToken:v.venmo.accessToken,environment:v.venmo.environment.toLowerCase()}),v.paypal?(p.paypalEnabled=!0,p.paypal=S({},v.paypal),p.paypal.currencyIsoCode=p.paypal.currencyCode,p.paypal.environment=p.paypal.environment.toLowerCase(),delete p.paypal.currencyCode):p.paypalEnabled=!1,v.unionPay&&(p.unionPay={enabled:!0,merchantAccountId:v.unionPay.merchantAccountId}),v.visaCheckout&&(p.visaCheckout={apikey:v.visaCheckout.apiKey,externalClientId:v.visaCheckout.externalClientId,supportedCardTypes:mapCardTypes(v.visaCheckout.supportedCardBrands,T.visaCheckout)}),v.masterpass&&(p.masterpass={merchantCheckoutId:v.masterpass.merchantCheckoutId,supportedNetworks:mapCardTypes(v.masterpass.supportedCardBrands,T.masterpass)}),v.usBankAccount&&(p.usBankAccount={routeId:v.usBankAccount.routeId,plaid:{publicKey:v.usBankAccount.plaidPublicKey}}),p}function mapCardTypes(i,d){return i.reduce((function(i,p){return d.hasOwnProperty(p)?i.concat(d[p]):i}),[])}d.exports=configurationResponseAdapter},{"../../../../lib/assign":127,"./error":91}],90:[function(i,d,p){"use strict";var v=i("./error"),S={AMERICAN_EXPRESS:"American Express",DINERS:"Discover",DISCOVER:"Discover",INTERNATIONAL_MAESTRO:"Maestro",JCB:"JCB",MASTERCARD:"MasterCard",UK_MAESTRO:"Maestro",UNION_PAY:"Union Pay",VISA:"Visa"},T={YES:"Yes",NO:"No",UNKNOWN:"Unknown"},O={PSDTWO:"psd2"};function creditCardTokenizationResponseAdapter(i){return i.data&&!i.errors?adaptTokenizeCreditCardResponseBody(i):v(i)}function adaptTokenizeCreditCardResponseBody(i){var d,p,v=i.data.tokenizeCreditCard,I=v.creditCard,N=I.last4?I.last4.substr(2,4):"",R=I.binData;return R&&(["commercial","debit","durbinRegulated","healthcare","payroll","prepaid"].forEach((function(i){R[i]?R[i]=T[R[i]]:R[i]="Unknown"})),["issuingBank","countryOfIssuance","productId"].forEach((function(i){R[i]||(R[i]="Unknown")}))),d={creditCards:[{binData:R,consumed:!1,description:N?"ending in "+N:"",nonce:v.token,details:{cardholderName:I.cardholderName,expirationMonth:I.expirationMonth,expirationYear:I.expirationYear,bin:I.bin||"",cardType:S[I.brandCode]||"Unknown",lastFour:I.last4||"",lastTwo:N},type:"CreditCard",threeDSecureInfo:null}]},v.authenticationInsight&&(p=v.authenticationInsight.customerAuthenticationRegulationEnvironment,d.creditCards[0].authenticationInsight={regulationEnvironment:O[p]||p.toLowerCase()}),d}d.exports=creditCardTokenizationResponseAdapter},{"./error":91}],91:[function(i,d,p){"use strict";function errorResponseAdapter(i){var d=i.errors&&i.errors[0]&&i.errors[0].extensions&&i.errors[0].extensions.errorClass;return"VALIDATION"===d?userErrorResponseAdapter(i):d?errorWithClassResponseAdapter(i):{error:{message:"There was a problem serving your request"},fieldErrors:[]}}function errorWithClassResponseAdapter(i){return{error:{message:i.errors[0].message},fieldErrors:[]}}function userErrorResponseAdapter(i){var d=buildFieldErrors(i.errors);return 0===d.length?{error:{message:i.errors[0].message}}:{error:{message:getLegacyMessage(d)},fieldErrors:d}}function buildFieldErrors(i){var d=[];return i.forEach((function(i){i.extensions&&i.extensions.inputPath&&addFieldError(i.extensions.inputPath.slice(1),i,d)})),d}function addFieldError(i,d,p){var v,S=d.extensions.legacyCode,T=i[0];1!==i.length?(p.forEach((function(i){i.field===T&&(v=i)})),v||(v={field:T,fieldErrors:[]},p.push(v)),addFieldError(i.slice(1),d,v.fieldErrors)):p.push({code:S,field:T,message:d.message})}function getLegacyMessage(i){return{creditCard:"Credit card is invalid"}[i[0].field]}d.exports=errorResponseAdapter},{}],92:[function(i,d,p){"use strict";var v="query ClientConfiguration {   clientConfiguration {     analyticsUrl     environment     merchantId     assetsUrl     clientApiUrl     creditCard {       supportedCardBrands       challenges       threeDSecureEnabled       threeDSecure {         cardinalAuthenticationJWT       }     }     applePayWeb {       countryCode       currencyCode       merchantIdentifier       supportedCardBrands     }     googlePay {       displayName       supportedCardBrands       environment       googleAuthorization       paypalClientId     }     ideal {       routeId       assetsUrl     }     kount {       merchantId     }     masterpass {       merchantCheckoutId       supportedCardBrands     }     paypal {       displayName       clientId       privacyUrl       userAgreementUrl       assetsUrl       environment       environmentNoNetwork       unvettedMerchant       braintreeClientId       billingAgreementsEnabled       merchantAccountId       currencyCode       payeeEmail     }     unionPay {       merchantAccountId     }     usBankAccount {       routeId       plaidPublicKey     }     venmo {       merchantId       accessToken       environment     }     visaCheckout {       apiKey       externalClientId       supportedCardBrands     }     braintreeApi {       accessToken       url     }     supportedFeatures   } }";function configuration(){return{query:v,operationName:"ClientConfiguration"}}d.exports=configuration},{}],93:[function(i,d,p){"use strict";var v=i("../../../../lib/assign").assign;function createMutation(i){var d=i.hasAuthenticationInsight,p="mutation TokenizeCreditCard($input: TokenizeCreditCardInput!";return d&&(p+=", $authenticationInsightInput: AuthenticationInsightInput!"),p+=") {   tokenizeCreditCard(input: $input) {     token     creditCard {       bin       brandCode       last4       cardholderName       expirationMonth      expirationYear      binData {         prepaid         healthcare         debit         durbinRegulated         commercial         payroll         issuingBank         countryOfIssuance         productId       }     } ",d&&(p+="    authenticationInsight(input: $authenticationInsightInput) {      customerAuthenticationRegulationEnvironment    }"),p+="  } }"}function createCreditCardTokenizationBody(i,d){var p=i.creditCard,v=p&&p.billingAddress,S=p&&p.expirationDate,T=p&&(p.expirationMonth||S&&S.split("/")[0].trim()),O=p&&(p.expirationYear||S&&S.split("/")[1].trim()),I={input:{creditCard:{number:p&&p.number,expirationMonth:T,expirationYear:O,cvv:p&&p.cvv,cardholderName:p&&p.cardholderName},options:{}}};return d.hasAuthenticationInsight&&(I.authenticationInsightInput={merchantAccountId:i.merchantAccountId}),v&&(I.input.creditCard.billingAddress=v),I.input=addValidationRule(i,I.input),I}function addValidationRule(i,d){var p;return i.creditCard&&i.creditCard.options&&"boolean"==typeof i.creditCard.options.validate?p=i.creditCard.options.validate:i.authorizationFingerprint&&i.tokenizationKey||i.authorizationFingerprint?p=!0:i.tokenizationKey&&(p=!1),"boolean"==typeof p&&(d.options=v({validate:p},d.options)),d}function creditCardTokenization(i){var d={hasAuthenticationInsight:Boolean(i.authenticationInsight&&i.merchantAccountId)};return{query:createMutation(d),variables:createCreditCardTokenizationBody(i,d),operationName:"TokenizeCreditCard"}}d.exports=creditCardTokenization},{"../../../../lib/assign":127}],94:[function(i,d,p){"use strict";var v=i("../../browser-detection"),S={tokenize_credit_cards:"payment_methods/credit_cards",configuration:"configuration"},T=["creditCard.options.unionPayEnrollment"];function GraphQL(i){this._config=i.graphQL}function containsDisallowedlistedKeys(i){return T.some((function(d){return void 0!==d.split(".").reduce((function(i,d){return i&&i[d]}),i)}))}GraphQL.prototype.getGraphQLEndpoint=function(){return this._config.url},GraphQL.prototype.isGraphQLRequest=function(i,d){var p,T=this.getClientApiPath(i);return!(!this._isGraphQLEnabled()||!T||v.isIe9())&&(p=this._config.features.some((function(i){return S[i]===T})),!containsDisallowedlistedKeys(d)&&p)},GraphQL.prototype.getClientApiPath=function(i){var d,p="/client_api/v1/",v=i.split(p);return v.length>1&&(d=v[1].split("?")[0]),d},GraphQL.prototype._isGraphQLEnabled=function(){return Boolean(this._config)},d.exports=GraphQL},{"../../browser-detection":80}],95:[function(i,d,p){"use strict";var v=i("../../constants").BRAINTREE_VERSION,S=i("../../../lib/assign").assign,T=i("./generators/credit-card-tokenization"),O=i("./adapters/credit-card-tokenization"),I=i("./generators/configuration"),N=i("./adapters/configuration"),R={"payment_methods/credit_cards":T,configuration:I},P={"payment_methods/credit_cards":O,configuration:N};function GraphQLRequest(i){var d=i.graphQL.getClientApiPath(i.url);this._graphQL=i.graphQL,this._data=i.data,this._method=i.method,this._headers=i.headers,this._clientSdkMetadata={source:i.metadata.source,integration:i.metadata.integration,sessionId:i.metadata.sessionId},this._sendAnalyticsEvent=i.sendAnalyticsEvent||Function.prototype,this._generator=R[d],this._adapter=P[d],this._sendAnalyticsEvent("graphql.init")}function isGraphQLError(i,d){return!i&&d.errors[0].message}function snakeCaseToCamelCase(i){return-1===i.indexOf("_")?i:i.toLowerCase().replace(/(\_\w)/g,(function(i){return i[1].toUpperCase()}))}function formatBodyKeys(i){var d={};return Object.keys(i).forEach((function(p){var v=snakeCaseToCamelCase(p);"object"==typeof i[p]?d[v]=formatBodyKeys(i[p]):"number"==typeof i[p]?d[v]=String(i[p]):d[v]=i[p]})),d}GraphQLRequest.prototype.getUrl=function(){return this._graphQL.getGraphQLEndpoint()},GraphQLRequest.prototype.getBody=function(){var i=formatBodyKeys(this._data),d=this._generator(i),p=S({clientSdkMetadata:this._clientSdkMetadata},d);return JSON.stringify(p)},GraphQLRequest.prototype.getMethod=function(){return"POST"},GraphQLRequest.prototype.getHeaders=function(){var i,d;return this._data.authorizationFingerprint?(this._sendAnalyticsEvent("graphql.authorization-fingerprint"),i=this._data.authorizationFingerprint):(this._sendAnalyticsEvent("graphql.tokenization-key"),i=this._data.tokenizationKey),d={Authorization:"Bearer "+i,"Braintree-Version":v},S({},this._headers,d)},GraphQLRequest.prototype.adaptResponseBody=function(i){return this._adapter(i,this)},GraphQLRequest.prototype.determineStatus=function(i,d){var p,v;return 200===i?(v=d.errors&&d.errors[0]&&d.errors[0].extensions&&d.errors[0].extensions.errorClass,p=d.data&&!d.errors?200:"VALIDATION"===v?422:"AUTHORIZATION"===v?403:"AUTHENTICATION"===v?401:isGraphQLError(v,d)?403:500):p=i||500,this._sendAnalyticsEvent("graphql.status."+i),this._sendAnalyticsEvent("graphql.determinedStatus."+p),p},d.exports=GraphQLRequest},{"../../../lib/assign":127,"../../constants":82,"./adapters/configuration":89,"./adapters/credit-card-tokenization":90,"./generators/configuration":92,"./generators/credit-card-tokenization":93}],96:[function(i,d,p){"use strict";var v,S=i("../../lib/once"),T=i("./jsonp-driver"),O=i("./ajax-driver"),I=i("./get-user-agent"),N=i("./is-http");function isAjaxAvailable(){return null==v&&(v=!(N()&&/MSIE\s(8|9)/.test(I()))),v}d.exports=function(i,d){d=S(d||Function.prototype),i.method=(i.method||"GET").toUpperCase(),i.timeout=null==i.timeout?6e4:i.timeout,i.data=i.data||{},isAjaxAvailable()?O.request(i,d):T.request(i,d)}},{"../../lib/once":162,"./ajax-driver":86,"./get-user-agent":88,"./is-http":97,"./jsonp-driver":98}],97:[function(i,d,p){"use strict";d.exports=function(){return"http:"===window.location.protocol}},{}],98:[function(i,d,p){"use strict";var v,S=i("@braintree/uuid"),T=i("../../lib/querystring"),O={};function _removeScript(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function _createScriptTag(i,d){var p=document.createElement("script"),v=!1;return p.src=i,p.async=!0,p.onerror=function(){window[d]({message:"error",status:500})},p.onload=p.onreadystatechange=function(){v||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(v=!0,p.onload=p.onreadystatechange=null)},p}function _cleanupGlobal(i){try{delete window[i]}catch(d){window[i]=null}}function _setupTimeout(i,d){O[d]=setTimeout((function(){O[d]=null,window[d]({error:"timeout",status:-1}),window[d]=function(){_cleanupGlobal(d)}}),i)}function _setupGlobalCallback(i,d,p){window[p]=function(v){var S=v.status||500,T=null,I=null;delete v.status,S>=400||S<200?T=v:I=v,_cleanupGlobal(p),_removeScript(i),clearTimeout(O[p]),d(T,I,S)}}function request(i,d){var p,O="callback_json_"+S().replace(/-/g,""),I=i.url,N=i.data,R=i.method,P=i.timeout;I=T.queryify(I,N),_setupGlobalCallback(p=_createScriptTag(I=T.queryify(I,{_method:R,callback:O}),O),d,O),_setupTimeout(P,O),v||(v=document.getElementsByTagName("head")[0]),v.appendChild(p)}d.exports={request}},{"../../lib/querystring":164,"@braintree/uuid":44}],99:[function(i,d,p){"use strict";d.exports=function(i){try{i=JSON.parse(i)}catch(i){}return i}},{}],100:[function(i,d,p){"use strict";d.exports=function(i,d){if("string"!=typeof i)throw new Error("Method must be a string");return"get"!==i.toLowerCase()&&null!=d&&(d="string"==typeof d?d:JSON.stringify(d)),d}},{}],101:[function(i,d,p){"use strict";var v="undefined"!=typeof window&&window.XMLHttpRequest&&"withCredentials"in new window.XMLHttpRequest;function getRequestObject(){return v?new window.XMLHttpRequest:new window.XDomainRequest}d.exports={isAvailable:v,getRequestObject}},{}],102:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={DATA_COLLECTOR_KOUNT_NOT_ENABLED:{type:v.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_NOT_ENABLED",message:"Kount is not enabled for this merchant."},DATA_COLLECTOR_KOUNT_ERROR:{type:v.types.MERCHANT,code:"DATA_COLLECTOR_KOUNT_ERROR"},DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS:{type:v.types.MERCHANT,code:"DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS",message:"Data Collector must be created with Kount and/or PayPal."}}},{"../lib/braintree-error":130}],103:[function(i,d,p){"use strict";var v,S=i("../lib/constants").FRAUDNET_FNCLS,T=i("../lib/constants").FRAUDNET_SOURCE,O=i("../lib/constants").FRAUDNET_URL,I=i("../lib/assets").loadScript,N=i("../lib/promise");function setup(i){var d=new Fraudnet;return v?(d.sessionId=v,N.resolve(d)):d.initialize(i)}function clearSessionIdCache(){v=null}function Fraudnet(){}function removeElementIfOnPage(i){i&&i.parentNode&&i.parentNode.removeChild(i)}function _generateSessionId(){var i,d="";for(i=0;i<32;i++)d+=Math.floor(16*Math.random()).toString(16);return d}function _generateBeaconId(i){return"https://b.stats.paypal.com/counter.cgi?i=127.0.0.1&p="+i+"&t="+(new Date).getTime()/1e3+"&a=14"}function _createParameterBlock(i,d,p){var v=document.body.appendChild(document.createElement("script")),O={f:i,s:T,b:d};return"production"!==p&&(O.sandbox=!0),v.type="application/json",v.setAttribute("fncls",S),v.text=JSON.stringify(O),v}Fraudnet.prototype.initialize=function(i){var d=this;return this.sessionId=v=_generateSessionId(),this._beaconId=_generateBeaconId(this.sessionId),this._parameterBlock=_createParameterBlock(this.sessionId,this._beaconId,i),I({src:O}).then((function(i){return d._thirdPartyBlock=i,d})).catch((function(){return null}))},Fraudnet.prototype.teardown=function(){removeElementIfOnPage(document.querySelector('iframe[title="ppfniframe"]')),removeElementIfOnPage(document.querySelector('iframe[title="pbf"]')),removeElementIfOnPage(this._parameterBlock),removeElementIfOnPage(this._thirdPartyBlock)},d.exports={setup,clearSessionIdCache}},{"../lib/assets":126,"../lib/constants":132,"../lib/promise":163}],104:[function(i,d,p){"use strict";var v=i("./kount"),S=i("./fraudnet"),T=i("../lib/braintree-error"),O=i("../lib/basic-component-verification"),I=i("../lib/create-deferred-client"),N=i("../lib/create-assets-url"),R=i("../lib/methods"),P=i("../lib/convert-methods-to-error"),k="3.79.1",L=i("../lib/promise"),M=i("@braintree/wrap-promise"),F=i("./errors");function create(i){var d,p="Data Collector",R={_instances:[]};return O.verify({name:p,client:i.client,authorization:i.authorization}).then((function(){return R._instantiatedWithAClient=!i.useDeferredClient,R._createPromise=I.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:N.create(i.authorization),name:p}).then((function(p){var S,O=p.getConfiguration();if(!0===i.kount&&O.gatewayConfiguration.kount){try{S=v.setup({environment:O.gatewayConfiguration.environment,merchantId:O.gatewayConfiguration.kount.kountMerchantId})}catch(i){return L.reject(new T({type:F.DATA_COLLECTOR_KOUNT_ERROR.type,code:F.DATA_COLLECTOR_KOUNT_ERROR.code,message:i.message}))}d=S.deviceData,R._instances.push(S)}else d={};return L.resolve(p)})).then((function(i){return S.setup(i.getConfiguration().gatewayConfiguration.environment).then((function(i){i&&(d.correlation_id=i.sessionId,R._instances.push(i))}))})).then((function(){return 0===R._instances.length?L.reject(new T(F.DATA_COLLECTOR_REQUIRES_CREATE_OPTIONS)):(R.deviceData=JSON.stringify(d),R.rawDeviceData=d,R)})),R.teardown=createTeardownMethod(R),R.getDeviceData=createGetDeviceDataMethod(R),R._instantiatedWithAClient?R._createPromise:R}))}function createTeardownMethod(i){return M((function teardown(){return i._createPromise.then((function(){i._instances.forEach((function(i){i&&i.teardown()})),P(i,R(i))}))}))}function createGetDeviceDataMethod(i){return M((function getDeviceData(d){return d=d||{},i._createPromise.then((function(){return d.raw?L.resolve(i.rawDeviceData):L.resolve(i.deviceData)}))}))}d.exports={create:M(create),VERSION:k}},{"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/methods":161,"../lib/promise":163,"./errors":102,"./fraudnet":103,"./kount":105,"@braintree/wrap-promise":48}],105:[function(i,d,p){"use strict";var v=i("./vendor/sjcl"),S=i("../lib/camel-case-to-snake-case"),T="https://assets.qa.braintreepayments.com/data",O="braintreeDataFrame-",I={development:T,qa:T,sandbox:"https://assets.braintreegateway.com/sandbox/data",production:"https://assets.braintreegateway.com/data"},N={};function setup(i){return new Kount(null!=i?i:{})}function Kount(i){var d=Kount.getCachedDeviceData(i.merchantId);if(d)return this.deviceData=d,void(this._isCached=!0);this._currentEnvironment=this._initializeEnvironment(i),v.random.startCollectors(),this._deviceSessionId=this._generateDeviceSessionId(),this.deviceData=this._getDeviceData(),Kount.setCachedDeviceData(i.merchantId,this.deviceData),this._iframe=this._setupIFrame()}Kount.getCachedDeviceData=function(i){return N[i]},Kount.setCachedDeviceData=function(i,d){N[i]=d},Kount.prototype.teardown=function(){this._isCached||(v.random.stopCollectors(),this._removeIframe())},Kount.prototype._removeIframe=function(){this._iframe.parentNode.removeChild(this._iframe)},Kount.prototype._getDeviceData=function(){return S({deviceSessionId:this._deviceSessionId,fraudMerchantId:this._currentEnvironment.id})},Kount.prototype._generateDeviceSessionId=function(){var i;return i=v.random.randomWords(4,0),v.codec.hex.fromBits(i)},Kount.prototype._setupIFrame=function(){var i,d,p=this;return i="?m="+this._currentEnvironment.id+"&s="+this._deviceSessionId,(d=document.createElement("iframe")).width=1,d.id=O+this._deviceSessionId,d.height=1,d.frameBorder=0,d.scrolling="no",d.style.position="fixed",d.style.left="-999999px",d.style.top="-999999px",d.title="Braintree-Kount-iframe",d.setAttribute("aria-hidden","true"),document.body.appendChild(d),setTimeout((function(){d.src=p._currentEnvironment.url+"/logo.htm"+i,d.innerHTML='<img src="'+p._currentEnvironment.url+"/logo.gif"+i+'" alt="" />'}),10),d},Kount.prototype._initializeEnvironment=function(i){var d=I[i.environment];if(null==d)throw new Error(i.environment+" is not a valid environment for kount.environment");return{url:d,name:i.environment,id:i.merchantId}},d.exports={setup,Kount,environmentUrls:I}},{"../lib/camel-case-to-snake-case":131,"./vendor/sjcl":106}],106:[function(i,p,v){"use strict";var S={cipher:{},hash:{},keyexchange:{},mode:{},misc:{},codec:{},exception:{corrupt:function(i){this.toString=function(){return"CORRUPT: "+this.message},this.message=i},invalid:function(i){this.toString=function(){return"INVALID: "+this.message},this.message=i},bug:function(i){this.toString=function(){return"BUG: "+this.message},this.message=i},notReady:function(i){this.toString=function(){return"NOT READY: "+this.message},this.message=i}}};function t(i,d,p){if(4!==d.length)throw new S.exception.invalid("invalid aes block size");var v=i.b[p],T=d[0]^v[0],O=d[p?3:1]^v[1],I=d[2]^v[2];d=d[p?1:3]^v[3];var N,R,P,k,L=v.length/4-2,M=4,F=[0,0,0,0];i=(N=i.l[p])[0];var U=N[1],j=N[2],H=N[3],V=N[4];for(k=0;k<L;k++)N=i[T>>>24]^U[O>>16&255]^j[I>>8&255]^H[255&d]^v[M],R=i[O>>>24]^U[I>>16&255]^j[d>>8&255]^H[255&T]^v[M+1],P=i[I>>>24]^U[d>>16&255]^j[T>>8&255]^H[255&O]^v[M+2],d=i[d>>>24]^U[T>>16&255]^j[O>>8&255]^H[255&I]^v[M+3],M+=4,T=N,O=R,I=P;for(k=0;4>k;k++)F[p?3&-k:k]=V[T>>>24]<<24^V[O>>16&255]<<16^V[I>>8&255]<<8^V[255&d]^v[M++],N=T,T=O,O=I,I=d,d=N;return F}function u(i,d){var p,v,S,T=i.u,O=i.b,I=T[0],N=T[1],R=T[2],P=T[3],k=T[4],L=T[5],M=T[6],F=T[7];for(p=0;64>p;p++)16>p?v=d[p]:(v=d[p+1&15],S=d[p+14&15],v=d[15&p]=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+d[15&p]+d[p+9&15]|0),v=v+F+(k>>>6^k>>>11^k>>>25^k<<26^k<<21^k<<7)+(M^k&(L^M))+O[p],F=M,M=L,L=k,k=P+v|0,P=R,R=N,I=v+((N=I)&R^P&(N^R))+(N>>>2^N>>>13^N>>>22^N<<30^N<<19^N<<10)|0;T[0]=T[0]+I|0,T[1]=T[1]+N|0,T[2]=T[2]+R|0,T[3]=T[3]+P|0,T[4]=T[4]+k|0,T[5]=T[5]+L|0,T[6]=T[6]+M|0,T[7]=T[7]+F|0}function A(i,d){var p,v=S.random.B[i],T=[];for(p in v)v.hasOwnProperty(p)&&T.push(v[p]);for(p=0;p<T.length;p++)T[p](d)}function C(i,d){"undefined"!=typeof window&&window.performance&&"function"==typeof window.performance.now?i.addEntropy(window.performance.now(),d,"loadtime"):i.addEntropy((new Date).valueOf(),d,"loadtime")}function y(i){i.b=z(i).concat(z(i)),i.C=new S.cipher.aes(i.b)}function z(i){for(var d=0;4>d&&(i.g[d]=i.g[d]+1|0,!i.g[d]);d++);return i.C.encrypt(i.g)}function B(i,d){return function(){d.apply(i,arguments)}}S.cipher.aes=function(i){this.l[0][0][0]||this.G();var d,p,v,T,O=this.l[0][4],I=this.l[1],N=1;if(4!==(d=i.length)&&6!==d&&8!==d)throw new S.exception.invalid("invalid aes key size");for(this.b=[v=i.slice(0),T=[]],i=d;i<4*d+28;i++)p=v[i-1],(0==i%d||8===d&&4==i%d)&&(p=O[p>>>24]<<24^O[p>>16&255]<<16^O[p>>8&255]<<8^O[255&p],0==i%d&&(p=p<<8^p>>>24^N<<24,N=N<<1^283*(N>>7))),v[i]=v[i-d]^p;for(d=0;i;d++,i--)p=v[3&d?i:i-4],T[d]=4>=i||4>d?p:I[0][O[p>>>24]]^I[1][O[p>>16&255]]^I[2][O[p>>8&255]]^I[3][O[255&p]]},S.cipher.aes.prototype={encrypt:function(i){return t(this,i,0)},decrypt:function(i){return t(this,i,1)},l:[[[],[],[],[],[]],[[],[],[],[],[]]],G:function(){var i,d,p,v,S,T,O,I=this.l[0],N=this.l[1],R=I[4],P=N[4],k=[],L=[];for(i=0;256>i;i++)L[(k[i]=i<<1^283*(i>>7))^i]=i;for(d=p=0;!R[d];d^=v||1,p=L[p]||1)for(T=(T=p^p<<1^p<<2^p<<3^p<<4)>>8^255&T^99,R[d]=T,P[T]=d,O=16843009*(S=k[i=k[v=k[d]]])^65537*i^257*v^16843008*d,S=257*k[T]^16843008*T,i=0;4>i;i++)I[i][d]=S=S<<24^S>>>8,N[i][T]=O=O<<24^O>>>8;for(i=0;5>i;i++)I[i]=I[i].slice(0),N[i]=N[i].slice(0)}},S.bitArray={bitSlice:function(i,d,p){return i=S.bitArray.M(i.slice(d/32),32-(31&d)).slice(1),void 0===p?i:S.bitArray.clamp(i,p-d)},extract:function(i,d,p){var v=Math.floor(-d-p&31);return(-32&(d+p-1^d)?i[d/32|0]<<32-v^i[d/32+1|0]>>>v:i[d/32|0]>>>v)&(1<<p)-1},concat:function(i,d){if(0===i.length||0===d.length)return i.concat(d);var p=i[i.length-1],v=S.bitArray.getPartial(p);return 32===v?i.concat(d):S.bitArray.M(d,v,0|p,i.slice(0,i.length-1))},bitLength:function(i){var d=i.length;return 0===d?0:32*(d-1)+S.bitArray.getPartial(i[d-1])},clamp:function(i,d){if(32*i.length<d)return i;var p=(i=i.slice(0,Math.ceil(d/32))).length;return d&=31,0<p&&d&&(i[p-1]=S.bitArray.partial(d,i[p-1]&2147483648>>d-1,1)),i},partial:function(i,d,p){return 32===i?d:(p?0|d:d<<32-i)+1099511627776*i},getPartial:function(i){return Math.round(i/1099511627776)||32},equal:function(i,d){if(S.bitArray.bitLength(i)!==S.bitArray.bitLength(d))return!1;var p,v=0;for(p=0;p<i.length;p++)v|=i[p]^d[p];return 0===v},M:function(i,d,p,v){var T;for(T=0,void 0===v&&(v=[]);32<=d;d-=32)v.push(p),p=0;if(0===d)return v.concat(i);for(T=0;T<i.length;T++)v.push(p|i[T]>>>d),p=i[T]<<32-d;return T=i.length?i[i.length-1]:0,i=S.bitArray.getPartial(T),v.push(S.bitArray.partial(d+i&31,32<d+i?p:v.pop(),1)),v},Y:function(i,d){return[i[0]^d[0],i[1]^d[1],i[2]^d[2],i[3]^d[3]]},byteswapM:function(i){var d,p;for(d=0;d<i.length;++d)p=i[d],i[d]=p>>>24|p>>>8&65280|(65280&p)<<8|p<<24;return i}},S.codec.utf8String={fromBits:function(i){var d,p,v="",T=S.bitArray.bitLength(i);for(d=0;d<T/8;d++)0==(3&d)&&(p=i[d/4]),v+=String.fromCharCode(p>>>8>>>8>>>8),p<<=8;return decodeURIComponent(escape(v))},toBits:function(i){i=unescape(encodeURIComponent(i));var d,p=[],v=0;for(d=0;d<i.length;d++)v=v<<8|i.charCodeAt(d),3==(3&d)&&(p.push(v),v=0);return 3&d&&p.push(S.bitArray.partial(8*(3&d),v)),p}},S.codec.hex={fromBits:function(i){var d,p="";for(d=0;d<i.length;d++)p+=(0xf00000000000+(0|i[d])).toString(16).substr(4);return p.substr(0,S.bitArray.bitLength(i)/4)},toBits:function(i){var d,p,v=[];for(p=(i=i.replace(/\s|0x/g,"")).length,i+="00000000",d=0;d<i.length;d+=8)v.push(0^parseInt(i.substr(d,8),16));return S.bitArray.clamp(v,4*p)}},S.hash.sha256=function(i){this.b[0]||this.G(),i?(this.u=i.u.slice(0),this.o=i.o.slice(0),this.h=i.h):this.reset()},S.hash.sha256.hash=function(i){return(new S.hash.sha256).update(i).finalize()},S.hash.sha256.prototype={blockSize:512,reset:function(){return this.u=this.K.slice(0),this.o=[],this.h=0,this},update:function(i){"string"==typeof i&&(i=S.codec.utf8String.toBits(i));var d,p=this.o=S.bitArray.concat(this.o,i);if(d=this.h,9007199254740991<(i=this.h=d+S.bitArray.bitLength(i)))throw new S.exception.invalid("Cannot hash more than 2^53 - 1 bits");if("undefined"!=typeof Uint32Array){var v=new Uint32Array(p),T=0;for(d=512+d-(512+d&511);d<=i;d+=512)u(this,v.subarray(16*T,16*(T+1))),T+=1;p.splice(0,16*T)}else for(d=512+d-(512+d&511);d<=i;d+=512)u(this,p.splice(0,16));return this},finalize:function(){var i,d=this.o,p=this.u;for(i=(d=S.bitArray.concat(d,[S.bitArray.partial(1,1)])).length+2;15&i;i++)d.push(0);for(d.push(Math.floor(this.h/4294967296)),d.push(0|this.h);d.length;)u(this,d.splice(0,16));return this.reset(),p},K:[],b:[],G:function(){function a(i){return 4294967296*(i-Math.floor(i))|0}for(var i,d,p=0,v=2;64>p;v++){for(d=!0,i=2;i*i<=v;i++)if(0==v%i){d=!1;break}d&&(8>p&&(this.K[p]=a(Math.pow(v,.5))),this.b[p]=a(Math.pow(v,1/3)),p++)}}},S.prng=function(i){this.c=[new S.hash.sha256],this.i=[0],this.H=0,this.v={},this.F=0,this.J={},this.L=this.f=this.j=this.T=0,this.b=[0,0,0,0,0,0,0,0],this.g=[0,0,0,0],this.C=void 0,this.D=i,this.s=!1,this.B={progress:{},seeded:{}},this.m=this.S=0,this.w=1,this.A=2,this.O=65536,this.I=[0,48,64,96,128,192,256,384,512,768,1024],this.P=3e4,this.N=80},S.prng.prototype={randomWords:function(i,d){var p,v,T=[];if((p=this.isReady(d))===this.m)throw new S.exception.notReady("generator isn't seeded");if(p&this.A){p=!(p&this.w),v=[];var O,I=0;for(this.L=v[0]=(new Date).valueOf()+this.P,O=0;16>O;O++)v.push(4294967296*Math.random()|0);for(O=0;O<this.c.length&&(v=v.concat(this.c[O].finalize()),I+=this.i[O],this.i[O]=0,p||!(this.H&1<<O));O++);for(this.H>=1<<this.c.length&&(this.c.push(new S.hash.sha256),this.i.push(0)),this.f-=I,I>this.j&&(this.j=I),this.H++,this.b=S.hash.sha256.hash(this.b.concat(v)),this.C=new S.cipher.aes(this.b),p=0;4>p&&(this.g[p]=this.g[p]+1|0,!this.g[p]);p++);}for(p=0;p<i;p+=4)0==(p+1)%this.O&&y(this),v=z(this),T.push(v[0],v[1],v[2],v[3]);return y(this),T.slice(0,i)},setDefaultParanoia:function(i,d){if(0===i&&"Setting paranoia=0 will ruin your security; use it only for testing"!==d)throw new S.exception.invalid("Setting paranoia=0 will ruin your security; use it only for testing");this.D=i},addEntropy:function(i,d,p){p=p||"user";var v,T,O=(new Date).valueOf(),I=this.v[p],N=this.isReady(),R=0;switch(void 0===(v=this.J[p])&&(v=this.J[p]=this.T++),void 0===I&&(I=this.v[p]=0),this.v[p]=(this.v[p]+1)%this.c.length,typeof i){case"number":void 0===d&&(d=1),this.c[I].update([v,this.F++,1,d,O,1,0|i]);break;case"object":if("[object Uint32Array]"===(p=Object.prototype.toString.call(i))){for(T=[],p=0;p<i.length;p++)T.push(i[p]);i=T}else for("[object Array]"!==p&&(R=1),p=0;p<i.length&&!R;p++)"number"!=typeof i[p]&&(R=1);if(!R){if(void 0===d)for(p=d=0;p<i.length;p++)for(T=i[p];0<T;)d++,T>>>=1;this.c[I].update([v,this.F++,2,d,O,i.length].concat(i))}break;case"string":void 0===d&&(d=i.length),this.c[I].update([v,this.F++,3,d,O,i.length]),this.c[I].update(i);break;default:R=1}if(R)throw new S.exception.bug("random: addEntropy only supports number, array of numbers or string");this.i[I]+=d,this.f+=d,N===this.m&&(this.isReady()!==this.m&&A("seeded",Math.max(this.j,this.f)),A("progress",this.getProgress()))},isReady:function(i){return i=this.I[void 0!==i?i:this.D],this.j&&this.j>=i?this.i[0]>this.N&&(new Date).valueOf()>this.L?this.A|this.w:this.w:this.f>=i?this.A|this.m:this.m},getProgress:function(i){return i=this.I[i||this.D],this.j>=i||this.f>i?1:this.f/i},startCollectors:function(){if(!this.s){if(this.a={loadTimeCollector:B(this,this.V),mouseCollector:B(this,this.W),keyboardCollector:B(this,this.U),accelerometerCollector:B(this,this.R),touchCollector:B(this,this.X)},window.addEventListener)window.addEventListener("load",this.a.loadTimeCollector,!1),window.addEventListener("mousemove",this.a.mouseCollector,!1),window.addEventListener("keypress",this.a.keyboardCollector,!1),window.addEventListener("devicemotion",this.a.accelerometerCollector,!1),window.addEventListener("touchmove",this.a.touchCollector,!1);else{if(!document.attachEvent)throw new S.exception.bug("can't attach event");document.attachEvent("onload",this.a.loadTimeCollector),document.attachEvent("onmousemove",this.a.mouseCollector),document.attachEvent("keypress",this.a.keyboardCollector)}this.s=!0}},stopCollectors:function(){this.s&&(window.removeEventListener?(window.removeEventListener("load",this.a.loadTimeCollector,!1),window.removeEventListener("mousemove",this.a.mouseCollector,!1),window.removeEventListener("keypress",this.a.keyboardCollector,!1),window.removeEventListener("devicemotion",this.a.accelerometerCollector,!1),window.removeEventListener("touchmove",this.a.touchCollector,!1)):document.detachEvent&&(document.detachEvent("onload",this.a.loadTimeCollector),document.detachEvent("onmousemove",this.a.mouseCollector),document.detachEvent("keypress",this.a.keyboardCollector)),this.s=!1)},addEventListener:function(i,d){this.B[i][this.S++]=d},removeEventListener:function(i,d){var p,v,S=this.B[i],T=[];for(v in S)S.hasOwnProperty(v)&&S[v]===d&&T.push(v);for(p=0;p<T.length;p++)delete S[v=T[p]]},U:function(){C(this,1)},W:function(i){var d,p;try{d=i.x||i.clientX||i.offsetX||0,p=i.y||i.clientY||i.offsetY||0}catch(i){p=d=0}0!=d&&0!=p&&this.addEntropy([d,p],2,"mouse"),C(this,0)},X:function(i){i=i.touches[0]||i.changedTouches[0],this.addEntropy([i.pageX||i.clientX,i.pageY||i.clientY],1,"touch"),C(this,0)},V:function(){C(this,2)},R:function(i){if(i=i.accelerationIncludingGravity.x||i.accelerationIncludingGravity.y||i.accelerationIncludingGravity.z,window.orientation){var d=window.orientation;"number"==typeof d&&this.addEntropy(d,1,"accelerometer")}i&&this.addEntropy(i,2,"accelerometer"),C(this,0)}},S.random=new S.prng(6);e:try{var T,O,I,N;if(N=void 0!==p&&p.exports){var R;try{R=i("crypto")}catch(i){R=null}N=O=R}if(N&&O.randomBytes)T=O.randomBytes(128),T=new Uint32Array(new Uint8Array(T).buffer),S.random.addEntropy(T,1024,"crypto['randomBytes']");else if("undefined"!=typeof window&&"undefined"!=typeof Uint32Array){if(I=new Uint32Array(32),window.crypto&&window.crypto.getRandomValues)window.crypto.getRandomValues(I);else{if(!window.msCrypto||!window.msCrypto.getRandomValues)break e;window.msCrypto.getRandomValues(I)}S.random.addEntropy(I,1024,"crypto['getRandomValues']")}}catch(i){"undefined"!=typeof window&&window.console&&(console.log("There was an error collecting entropy from the browser:"),console.log(i))}void 0!==p&&p.exports&&(p.exports=S),"function"==typeof d&&d([],(function(){return S}))},{crypto:void 0}],107:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={GOOGLE_PAYMENT_NOT_ENABLED:{type:v.types.MERCHANT,code:"GOOGLE_PAYMENT_NOT_ENABLED",message:"Google Pay is not enabled for this merchant."},GOOGLE_PAYMENT_GATEWAY_ERROR:{code:"GOOGLE_PAYMENT_GATEWAY_ERROR",message:"There was an error when tokenizing the Google Pay payment method.",type:v.types.UNKNOWN},GOOGLE_PAYMENT_UNSUPPORTED_VERSION:{code:"GOOGLE_PAYMENT_UNSUPPORTED_VERSION",type:v.types.MERCHANT}}},{"../lib/braintree-error":130}],108:[function(i,d,p){"use strict";var v=i("../lib/analytics"),S=i("../lib/assign").assign,T=i("../lib/convert-methods-to-error"),O=i("../lib/find"),I=i("../lib/generate-google-pay-configuration"),N=i("../lib/braintree-error"),R=i("./errors"),P=i("../lib/methods"),k=i("../lib/promise"),L=i("@braintree/wrap-promise"),M={1:"_createV1PaymentDataRequest",2:"_createV2PaymentDataRequest"};function GooglePayment(i){if(this._createPromise=i.createPromise,this._client=i.client,this._useDeferredClient=i.useDeferredClient,this._googlePayVersion=i.googlePayVersion||1,this._googleMerchantId=i.googleMerchantId,this._isUnsupportedGooglePayAPIVersion())throw new N({code:R.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.code,message:"The Braintree SDK does not support Google Pay version "+this._googlePayVersion+". Please upgrade the version of your Braintree SDK and contact support if this error persists.",type:R.GOOGLE_PAYMENT_UNSUPPORTED_VERSION.type})}function applyDefaultsToPaymentMethodConfiguration(i,d){Object.keys(d).forEach((function(p){"object"==typeof d[p]?i[p]=S({},d[p],i[p]):i[p]=i[p]||d[p]}))}GooglePayment.prototype._waitForClient=function(){return this._client?k.resolve():this._createPromise.then(function(i){this._client=i}.bind(this))},GooglePayment.prototype._isUnsupportedGooglePayAPIVersion=function(){return!(this._googlePayVersion in M)},GooglePayment.prototype._getDefaultConfig=function(){return this._defaultConfig||(this._defaultConfig=I(this._client.getConfiguration(),this._googlePayVersion,this._googleMerchantId)),this._defaultConfig},GooglePayment.prototype._createV1PaymentDataRequest=function(i){var d=this._getDefaultConfig(),p=i.cardRequirements&&i.cardRequirements.allowedCardNetworks,v=d.cardRequirements.allowedCardNetworks,T=p||v;return(i=S({},d,i)).cardRequirements.allowedCardNetworks=T,i},GooglePayment.prototype._createV2PaymentDataRequest=function(i){var d=this._getDefaultConfig();return i.allowedPaymentMethods&&i.allowedPaymentMethods.forEach((function(i){var p=O(d.allowedPaymentMethods,"type",i.type);p&&applyDefaultsToPaymentMethodConfiguration(i,p)})),i=S({},d,i)},GooglePayment.prototype.createPaymentDataRequest=function(i){return this._useDeferredClient?this._waitForClient().then(function(){return this._createPaymentDataRequestSyncronously(i)}.bind(this)):this._createPaymentDataRequestSyncronously(i)},GooglePayment.prototype._createPaymentDataRequestSyncronously=function(i){var d=S({},i),p=this._googlePayVersion,T=M[p];return v.sendEvent(this._createPromise,"google-payment.v"+p+".createPaymentDataRequest"),this[T](d)},GooglePayment.prototype.parseResponse=function(i){var d=this;return k.resolve().then((function(){var p,S=2===i.apiVersion?i.paymentMethodData.tokenizationData.token:i.paymentMethodToken.token,T=JSON.parse(S),O=T.error;return O?k.reject(O):(v.sendEvent(d._createPromise,"google-payment.parseResponse.succeeded"),T.paypalAccounts?(p=T.paypalAccounts[0],v.sendEvent(d._createPromise,"google-payment.parseResponse.succeeded.paypal"),k.resolve({nonce:p.nonce,type:p.type,description:p.description})):(p=T.androidPayCards[0],v.sendEvent(d._createPromise,"google-payment.parseResponse.succeeded.google-payment"),k.resolve({nonce:p.nonce,type:p.type,description:p.description,details:{cardType:p.details.cardType,lastFour:p.details.lastFour,lastTwo:p.details.lastTwo,isNetworkTokenized:p.details.isNetworkTokenized,bin:p.details.bin},binData:p.binData})))})).catch((function(i){return v.sendEvent(d._createPromise,"google-payment.parseResponse.failed"),k.reject(new N({code:R.GOOGLE_PAYMENT_GATEWAY_ERROR.code,message:R.GOOGLE_PAYMENT_GATEWAY_ERROR.message,type:R.GOOGLE_PAYMENT_GATEWAY_ERROR.type,details:{originalError:i}}))}))},GooglePayment.prototype.teardown=function(){return T(this,P(GooglePayment.prototype)),k.resolve()},d.exports=L.wrapPrototype(GooglePayment)},{"../lib/analytics":125,"../lib/assign":127,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/find":143,"../lib/generate-google-pay-configuration":155,"../lib/methods":161,"../lib/promise":163,"./errors":107,"@braintree/wrap-promise":48}],109:[function(i,d,p){"use strict";var v=i("./google-payment"),S=i("../lib/braintree-error"),T=i("../lib/promise"),O=i("../lib/create-assets-url"),I=i("../lib/create-deferred-client"),N=i("../lib/basic-component-verification"),R=i("@braintree/wrap-promise"),P="3.79.1",k=i("./errors");function create(i){var d="Google Pay";return N.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){var p,N;return p=I.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d}).then((function(d){var p=d.getConfiguration();return i.client=d,p.gatewayConfiguration.androidPay?d:T.reject(new S(k.GOOGLE_PAYMENT_NOT_ENABLED))})),i.createPromise=p,N=new v(i),i.useDeferredClient?N:p.then((function(i){return N._client=i,N}))}))}d.exports={create:R(create),VERSION:P}},{"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./errors":107,"./google-payment":108,"@braintree/wrap-promise":48}],110:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error"),S=i("../shared/errors"),T=i("../shared/constants").allowedAttributes;function attributeValidationError(i,d){var p;return T.hasOwnProperty(i)?null==d||_isValid(i,d)||(p=new v({type:S.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.type,code:S.HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED.code,message:'Value "'+d+'" is not allowed for "'+i+'" attribute.'})):p=new v({type:S.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.type,code:S.HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED.code,message:'The "'+i+'" attribute is not supported in Hosted Fields.'}),p}function _isValid(i,d){return"string"===T[i]?"string"==typeof d||"number"==typeof d:"boolean"===T[i]&&("true"===String(d)||"false"===String(d))}d.exports=attributeValidationError},{"../../lib/braintree-error":130,"../shared/constants":118,"../shared/errors":119}],111:[function(i,d,p){"use strict";var v=i("../shared/constants"),S=i("../../lib/use-min");d.exports=function composeUrl(i,d,p){return i+"/web/"+v.VERSION+"/html/hosted-fields-frame"+S(p)+".html#"+d}},{"../../lib/use-min":166,"../shared/constants":118}],112:[function(i,d,p){"use strict";var v=i("../shared/constants").navigationDirections,S=i("../shared/browser-detection"),T=i("../shared/focus-intercept"),O=i("../shared/find-parent-tags"),I=["INPUT","SELECT","TEXTAREA"],N=["hidden","button","reset","submit","checkbox","radio","file"];function _isUserFocusableElement(i){return S.hasSoftwareKeyboard()?I.indexOf(i.tagName)>-1&&N.indexOf(i.type)<0:"hidden"!==i.type}function _createNavigationHelper(i,d){switch(i){case v.BACK:return{checkIndexBounds:function(i){return i<0},indexChange:-1};case v.FORWARD:return{checkIndexBounds:function(i){return i>d-1},indexChange:1}}return{}}function _findFirstFocusableElement(i){var d,p;for(d=0;d<i.length;d++)if(_isUserFocusableElement(p=i[d]))return p;return null}d.exports={removeExtraFocusElements:function(i,d){var p=Array.prototype.slice.call(i.elements);[_findFirstFocusableElement(p),_findFirstFocusableElement(p.reverse())].forEach((function(i){i&&T.matchFocusElement(i.getAttribute("id"))&&d(i.getAttribute("id"))}))},createFocusChangeHandler:function(i,d){return function(p){var v,S,I,N,R=document.getElementById("bt-"+p.field+"-"+p.direction+"-"+i);if(R)if(I=O(R,"form")[0],document.forms.length<1||!I)d.onRemoveFocusIntercepts();else{v=(I=[].slice.call(I.elements)).indexOf(R),N=_createNavigationHelper(p.direction,I.length);do{if(v+=N.indexChange,N.checkIndexBounds(v))return;S=I[v]}while(!_isUserFocusableElement(S));T.matchFocusElement(S.getAttribute("id"))?d.onTriggerInputFocus(S.getAttribute("data-braintree-type")):S.focus()}}}}},{"../shared/browser-detection":117,"../shared/constants":118,"../shared/find-parent-tags":120,"../shared/focus-intercept":121}],113:[function(i,d,p){"use strict";var v=i("../shared/constants").allowedStyles;d.exports=function getStylesFromClass(i){var d,p=document.createElement("input"),S={};return"."===i[0]&&(i=i.substring(1)),p.className=i,p.style.display="none !important",p.style.position="fixed !important",p.style.left="-99999px !important",p.style.top="-99999px !important",document.body.appendChild(p),d=window.getComputedStyle(p),v.forEach((function(i){var p=d[i];p&&(S[i]=p)})),document.body.removeChild(p),S}},{"../shared/constants":118}],114:[function(i,d,p){"use strict";var v=i("../../lib/assign").assign,S=i("../../lib/create-assets-url"),T=i("../../lib/is-verified-domain"),O=i("../../lib/destructor"),I=i("@braintree/class-list"),N=i("@braintree/iframer"),R=i("framebus"),P=i("../../lib/create-deferred-client"),k=i("../../lib/braintree-error"),L=i("./compose-url"),M=i("./get-styles-from-class"),F=i("../shared/constants"),U=i("../shared/errors"),j=i("../../lib/constants").INTEGRATION_TIMEOUT_MS,H=i("@braintree/uuid"),V=i("../shared/find-parent-tags"),Y=i("../shared/browser-detection"),G=F.events,W=i("@braintree/event-emitter"),q=i("./inject-frame"),Q=i("../../lib/analytics"),X=F.allowedFields,Z=i("../../lib/methods"),J=i("../../lib/shadow"),$=i("../../lib/find-root-node"),ee=i("../../lib/convert-methods-to-error"),te=i("../../lib/errors"),ne=i("../shared/get-card-types"),re=i("./attribute-validation-error"),ie=i("../../lib/promise"),oe=i("@braintree/wrap-promise"),ae=i("./focus-change"),se=i("../shared/focus-intercept").destroy,ce=5;function createInputEventHandler(i){return function(d){var p,v=d.merchantPayload,S=v.emittedBy,T=i[S].containerElement;Object.keys(v.fields).forEach((function(d){v.fields[d].container=i[d].containerElement})),p=v.fields[S],"blur"===d.type&&performBlurFixForIos(T),I.toggle(T,F.externalClasses.FOCUSED,p.isFocused),I.toggle(T,F.externalClasses.VALID,p.isValid),I.toggle(T,F.externalClasses.INVALID,!p.isPotentiallyValid),this._state={cards:v.cards,fields:v.fields},this._emit(d.type,v)}}function performBlurFixForIos(i){var d;Y.isIos()&&document.activeElement===document.body&&((d=i.querySelector("input"))||((d=document.createElement("input")).type="button",d.style.height="0px",d.style.width="0px",d.style.opacity="0",d.style.padding="0",d.style.position="absolute",d.style.left="-200%",d.style.top="0px",i.insertBefore(d,i.firstChild)),d.focus(),d.blur())}function isVisibleEnough(i){var d=i.getBoundingClientRect(),p=Math.floor(d.height/2),v=Math.floor(d.width/2);return d.top<(window.innerHeight-p||document.documentElement.clientHeight-p)&&d.right>v&&d.bottom>p&&d.left<(window.innerWidth-v||document.documentElement.clientWidth-v)}function HostedFields(i){var d,p,V,X,$,re=this,oe={},ce={},ue=[],le=H();if(this._merchantConfigurationOptions=v({},i),i.client?(V=(p=i.client.getConfiguration()).gatewayConfiguration.assetsUrl,X=p.isDebug):(V=S.create(i.authorization),X=Boolean(i.isDebug)),this._clientPromise=P.create({client:i.client,authorization:i.authorization,debug:X,assetsUrl:V,name:"Hosted Fields"}),$=L(V,le,X),!i.fields||0===Object.keys(i.fields).length)throw new k({type:te.INSTANTIATION_OPTION_REQUIRED.type,code:te.INSTANTIATION_OPTION_REQUIRED.code,message:"options.fields is required when instantiating Hosted Fields."});W.call(this),this._injectedNodes=[],this._destructor=new O,this._fields=oe,this._state={fields:{},cards:ne("")},this._bus=new R({channel:le,verifyDomain:T}),this._destructor.registerFunctionForTeardown((function(){re._bus.teardown()})),i.client?Q.sendEvent(this._clientPromise,"custom.hosted-fields.initialized"):Q.sendEvent(this._clientPromise,"custom.hosted-fields.initialized.deferred-client"),Object.keys(i.fields).forEach(function(d){var p,v,S,T,O;if(!F.allowedFields.hasOwnProperty(d))throw new k({type:U.HOSTED_FIELDS_INVALID_FIELD_KEY.type,code:U.HOSTED_FIELDS_INVALID_FIELD_KEY.code,message:'"'+d+'" is not a valid field.'});if("string"==typeof(v=(p=i.fields[d]).container||p.selector)&&(v=document.querySelector(v)),!v||1!==v.nodeType)throw new k({type:U.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.type,code:U.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.code,message:U.HOSTED_FIELDS_INVALID_FIELD_SELECTOR.message,details:{fieldSelector:p.selector,fieldContainer:p.container,fieldKey:d}});if(v.querySelector('iframe[name^="braintree-"]'))throw new k({type:U.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.type,code:U.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.code,message:U.HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME.message,details:{fieldSelector:p.selector,fieldContainer:p.container,fieldKey:d}});if(S=v,J.isShadowElement(S)&&(S=J.transformToSlot(S,"height: 100%")),p.maxlength&&"number"!=typeof p.maxlength)throw new k({type:U.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:U.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for maxlength must be a number.",details:{fieldKey:d}});if(p.minlength&&"number"!=typeof p.minlength)throw new k({type:U.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:U.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:"The value for minlength must be a number.",details:{fieldKey:d}});T=N({type:d,name:"braintree-hosted-field-"+d,style:F.defaultIFrameStyle,title:"Secure Credit Card Frame - "+F.allowedFields[d].label}),this._injectedNodes.push.apply(this._injectedNodes,q(le,T,S,(function(){re.focus(d)}))),this._setupLabelFocus(d,v),oe[d]={frameElement:T,containerElement:v},O=new ie((function(i){ce[d]=i})),ue.push(O),this._state.fields[d]={isEmpty:!0,isValid:!1,isPotentiallyValid:!0,isFocused:!1,container:v},setTimeout((function(){Y.isIE()||Y.isEdge()?(T.src="about:blank",setTimeout((function(){T.src=$}),0)):T.src=$}),0)}.bind(this)),this._merchantConfigurationOptions.styles&&Object.keys(this._merchantConfigurationOptions.styles).forEach((function(i){var d=re._merchantConfigurationOptions.styles[i];"string"==typeof d&&(re._merchantConfigurationOptions.styles[i]=M(d))})),this._bus.on(G.REMOVE_FOCUS_INTERCEPTS,(function(i){se(i&&i.id)})),this._bus.on(G.TRIGGER_FOCUS_CHANGE,ae.createFocusChangeHandler(le,{onRemoveFocusIntercepts:function(i){re._bus.emit(G.REMOVE_FOCUS_INTERCEPTS,{id:i})},onTriggerInputFocus:function(i){re.focus(i)}})),this._bus.on(G.READY_FOR_CLIENT,(function(i){re._clientPromise.then((function(d){i(d)}))})),this._bus.on(G.CARD_FORM_ENTRY_HAS_BEGUN,(function(){Q.sendEvent(re._clientPromise,"hosted-fields.input.started")})),this._bus.on(G.BIN_AVAILABLE,(function(i){re._emit("binAvailable",{bin:i})})),d=setTimeout((function(){Q.sendEvent(re._clientPromise,"custom.hosted-fields.load.timed-out"),re._emit("timeout")}),j),ie.all(ue).then((function(i){var p=i[0];clearTimeout(d),p(formatMerchantConfigurationForIframes(re._merchantConfigurationOptions)),re._cleanUpFocusIntercepts(),re._emit("ready")})),this._bus.on(G.FRAME_READY,(function(i,d){ce[i.field](d)})),this._bus.on(G.INPUT_EVENT,createInputEventHandler(oe).bind(this)),this._destructor.registerFunctionForTeardown((function(){var i,d,p;for(i=0;i<re._injectedNodes.length;i++)(p=(d=re._injectedNodes[i]).parentNode).removeChild(d),I.remove(p,F.externalClasses.FOCUSED,F.externalClasses.INVALID,F.externalClasses.VALID)})),this._destructor.registerFunctionForTeardown((function(){se()})),this._destructor.registerFunctionForTeardown((function(){var i=Z(HostedFields.prototype).concat(Z(W.prototype));ee(re,i)}))}function formatMerchantConfigurationForIframes(i){var d=v({},i);return d.fields=v({},d.fields),Object.keys(d.fields).forEach((function(i){d.fields[i]=v({},d.fields[i]),delete d.fields[i].container})),d}W.createChild(HostedFields),HostedFields.prototype._setupLabelFocus=function(i,d){var p,v,S=this,T=$(d);if(null!=d.id){for(p=Array.prototype.slice.call(document.querySelectorAll('label[for="'+d.id+'"]')),T!==document&&(p=p.concat(Array.prototype.slice.call(T.querySelectorAll('label[for="'+d.id+'"]')))),p=(p=p.concat(V(d,"label"))).filter((function(i,d,p){return p.indexOf(i)===d})),v=0;v<p.length;v++)p[v].addEventListener("click",triggerFocus,!1);this._destructor.registerFunctionForTeardown((function(){for(v=0;v<p.length;v++)p[v].removeEventListener("click",triggerFocus,!1)}))}function triggerFocus(){S.focus(i)}},HostedFields.prototype._getAnyFieldContainer=function(){var i=this;return Object.keys(this._fields).reduce((function(d,p){return d||i._fields[p].containerElement}),null)},HostedFields.prototype._cleanUpFocusIntercepts=function(){var i,d;document.forms.length<1?this._bus.emit(G.REMOVE_FOCUS_INTERCEPTS):(i=this._getAnyFieldContainer(),(d=V(i,"form")[0])?ae.removeExtraFocusElements(d,function(i){this._bus.emit(G.REMOVE_FOCUS_INTERCEPTS,{id:i})}.bind(this)):this._bus.emit(G.REMOVE_FOCUS_INTERCEPTS))},HostedFields.prototype._attachInvalidFieldContainersToError=function(i){i.details&&i.details.invalidFieldKeys&&i.details.invalidFieldKeys.length>0&&(i.details.invalidFields={},i.details.invalidFieldKeys.forEach(function(d){i.details.invalidFields[d]=this._fields[d].containerElement}.bind(this)))},HostedFields.prototype.getChallenges=function(){return this._clientPromise.then((function(i){return i.getConfiguration().gatewayConfiguration.challenges}))},HostedFields.prototype.getSupportedCardTypes=function(){return this._clientPromise.then((function(i){return i.getConfiguration().gatewayConfiguration.creditCards.supportedCardTypes.map((function(i){return"MasterCard"===i?"Mastercard":i}))}))},HostedFields.prototype.teardown=function(){var i=this;return new ie((function(d,p){i._destructor.teardown((function(v){Q.sendEvent(i._clientPromise,"custom.hosted-fields.teardown-completed"),v?p(v):d()}))}))},HostedFields.prototype.tokenize=function(i){var d=this;return i||(i={}),new ie((function(p,v){d._bus.emit(G.TOKENIZATION_REQUEST,i,(function(i){var S=i[0],T=i[1];S?(d._attachInvalidFieldContainersToError(S),v(new k(S))):p(T)}))}))},HostedFields.prototype.addClass=function(i,d){var p;return X.hasOwnProperty(i)?this._fields.hasOwnProperty(i)?this._bus.emit(G.ADD_CLASS,{field:i,classname:d}):p=new k({type:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot add class to "'+i+'" field because it is not part of the current Hosted Fields options.'}):p=new k({type:U.HOSTED_FIELDS_FIELD_INVALID.type,code:U.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+i+'" is not a valid field. You must use a valid field option when adding a class.'}),p?ie.reject(p):ie.resolve()},HostedFields.prototype.removeClass=function(i,d){var p;return X.hasOwnProperty(i)?this._fields.hasOwnProperty(i)?this._bus.emit(G.REMOVE_CLASS,{field:i,classname:d}):p=new k({type:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove class from "'+i+'" field because it is not part of the current Hosted Fields options.'}):p=new k({type:U.HOSTED_FIELDS_FIELD_INVALID.type,code:U.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+i+'" is not a valid field. You must use a valid field option when removing a class.'}),p?ie.reject(p):ie.resolve()},HostedFields.prototype.setAttribute=function(i){var d,p;return X.hasOwnProperty(i.field)?this._fields.hasOwnProperty(i.field)?(d=re(i.attribute,i.value))?p=d:this._bus.emit(G.SET_ATTRIBUTE,{field:i.field,attribute:i.attribute,value:i.value}):p=new k({type:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot set attribute for "'+i.field+'" field because it is not part of the current Hosted Fields options.'}):p=new k({type:U.HOSTED_FIELDS_FIELD_INVALID.type,code:U.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+i.field+'" is not a valid field. You must use a valid field option when setting an attribute.'}),p?ie.reject(p):ie.resolve()},HostedFields.prototype.setMonthOptions=function(i){var d,p=this,v=this._merchantConfigurationOptions.fields;return v.expirationMonth?v.expirationMonth.select||(d="Expiration month field must be a select element."):d="Expiration month field must exist to use setMonthOptions.",d?ie.reject(new k({type:U.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.type,code:U.HOSTED_FIELDS_FIELD_PROPERTY_INVALID.code,message:d})):new ie((function(d){p._bus.emit(G.SET_MONTH_OPTIONS,i,d)}))},HostedFields.prototype.setMessage=function(i){this._bus.emit(G.SET_MESSAGE,{field:i.field,message:i.message})},HostedFields.prototype.removeAttribute=function(i){var d,p;return X.hasOwnProperty(i.field)?this._fields.hasOwnProperty(i.field)?(d=re(i.attribute))?p=d:this._bus.emit(G.REMOVE_ATTRIBUTE,{field:i.field,attribute:i.attribute}):p=new k({type:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot remove attribute for "'+i.field+'" field because it is not part of the current Hosted Fields options.'}):p=new k({type:U.HOSTED_FIELDS_FIELD_INVALID.type,code:U.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+i.field+'" is not a valid field. You must use a valid field option when removing an attribute.'}),p?ie.reject(p):ie.resolve()},HostedFields.prototype.setPlaceholder=function(i,d){return this.setAttribute({field:i,attribute:"placeholder",value:d})},HostedFields.prototype.clear=function(i){var d;return X.hasOwnProperty(i)?this._fields.hasOwnProperty(i)?this._bus.emit(G.CLEAR_FIELD,{field:i}):d=new k({type:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot clear "'+i+'" field because it is not part of the current Hosted Fields options.'}):d=new k({type:U.HOSTED_FIELDS_FIELD_INVALID.type,code:U.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+i+'" is not a valid field. You must use a valid field option when clearing a field.'}),d?ie.reject(d):ie.resolve()},HostedFields.prototype.focus=function(i){var d,p=this._fields[i];return X.hasOwnProperty(i)?this._fields.hasOwnProperty(i)?(p.frameElement.focus(),this._bus.emit(G.TRIGGER_INPUT_FOCUS,{field:i}),Y.isIos()&&setTimeout((function(){isVisibleEnough(p.containerElement)||p.containerElement.scrollIntoView()}),ce)):d=new k({type:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.type,code:U.HOSTED_FIELDS_FIELD_NOT_PRESENT.code,message:'Cannot focus "'+i+'" field because it is not part of the current Hosted Fields options.'}):d=new k({type:U.HOSTED_FIELDS_FIELD_INVALID.type,code:U.HOSTED_FIELDS_FIELD_INVALID.code,message:'"'+i+'" is not a valid field. You must use a valid field option when focusing a field.'}),d?ie.reject(d):ie.resolve()},HostedFields.prototype.getState=function(){return this._state},d.exports=oe.wrapPrototype(HostedFields)},{"../../lib/analytics":125,"../../lib/assign":127,"../../lib/braintree-error":130,"../../lib/constants":132,"../../lib/convert-methods-to-error":133,"../../lib/create-assets-url":135,"../../lib/create-deferred-client":137,"../../lib/destructor":139,"../../lib/errors":141,"../../lib/find-root-node":142,"../../lib/is-verified-domain":159,"../../lib/methods":161,"../../lib/promise":163,"../../lib/shadow":165,"../shared/browser-detection":117,"../shared/constants":118,"../shared/errors":119,"../shared/find-parent-tags":120,"../shared/focus-intercept":121,"../shared/get-card-types":122,"./attribute-validation-error":110,"./compose-url":111,"./focus-change":112,"./get-styles-from-class":113,"./inject-frame":115,"@braintree/class-list":37,"@braintree/event-emitter":38,"@braintree/iframer":40,"@braintree/uuid":44,"@braintree/wrap-promise":48,framebus:57}],115:[function(i,d,p){"use strict";var v=i("../shared/focus-intercept"),S=i("../shared/constants").navigationDirections;d.exports=function injectFrame(i,d,p,T){var O=d.getAttribute("type"),I=document.createElement("div"),N=document.createDocumentFragment(),R=v.generate(i,O,S.BACK,T),P=v.generate(i,O,S.FORWARD,T);return I.style.clear="both",N.appendChild(R),N.appendChild(d),N.appendChild(P),N.appendChild(I),p.appendChild(N),[d,I]}},{"../shared/constants":118,"../shared/focus-intercept":121}],116:[function(i,d,p){"use strict";var v=i("./external/hosted-fields"),S=i("../lib/basic-component-verification"),T=i("./shared/errors"),O=i("restricted-input/supports-input-formatting"),I=i("@braintree/wrap-promise"),N=i("../lib/braintree-error"),R=i("../lib/promise"),P="3.79.1";function create(i){return S.verify({name:"Hosted Fields",authorization:i.authorization,client:i.client}).then((function(){var d=new v(i);return new R((function(i,p){d.on("ready",(function(){i(d)})),d.on("timeout",(function(){p(new N(T.HOSTED_FIELDS_TIMEOUT))}))}))}))}d.exports={supportsInputFormatting:O,create:I(create),VERSION:P}},{"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/promise":163,"./external/hosted-fields":114,"./shared/errors":119,"@braintree/wrap-promise":48,"restricted-input/supports-input-formatting":73}],117:[function(i,d,p){"use strict";var v=i("@braintree/browser-detection/is-android"),S=i("@braintree/browser-detection/is-chrome-os"),T=i("@braintree/browser-detection/is-ios"),O=i("@braintree/browser-detection/is-chrome");function hasSoftwareKeyboard(){return v()||S()||T()}function isChromeIos(){return O()&&T()}d.exports={isIE:i("@braintree/browser-detection/is-ie"),isEdge:i("@braintree/browser-detection/is-edge"),isIe9:i("@braintree/browser-detection/is-ie9"),isIe10:i("@braintree/browser-detection/is-ie10"),isAndroid:v,isChromeOS:S,isChromeIos,isFirefox:i("@braintree/browser-detection/is-firefox"),isIos:T,isIosWebview:i("@braintree/browser-detection/is-ios-webview"),hasSoftwareKeyboard}},{"@braintree/browser-detection/is-android":24,"@braintree/browser-detection/is-chrome":26,"@braintree/browser-detection/is-chrome-os":25,"@braintree/browser-detection/is-edge":27,"@braintree/browser-detection/is-firefox":28,"@braintree/browser-detection/is-ie":29,"@braintree/browser-detection/is-ie10":30,"@braintree/browser-detection/is-ie9":31,"@braintree/browser-detection/is-ios":35,"@braintree/browser-detection/is-ios-webview":33}],118:[function(i,d,p){"use strict";var v=i("../../lib/enumerate"),S=i("./errors"),T={VERSION:"3.79.1",maxExpirationYearAge:19,externalEvents:{FOCUS:"focus",BLUR:"blur",EMPTY:"empty",NOT_EMPTY:"notEmpty",VALIDITY_CHANGE:"validityChange",CARD_TYPE_CHANGE:"cardTypeChange"},defaultMaxLengths:{number:19,postalCode:8,expirationDate:7,expirationMonth:2,expirationYear:4,cvv:3},externalClasses:{FOCUSED:"braintree-hosted-fields-focused",INVALID:"braintree-hosted-fields-invalid",VALID:"braintree-hosted-fields-valid"},navigationDirections:{BACK:"before",FORWARD:"after"},defaultIFrameStyle:{border:"none",width:"100%",height:"100%",float:"left"},tokenizationErrorCodes:{81724:S.HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE,81736:S.HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED},allowedStyles:["-moz-appearance","-moz-box-shadow","-moz-osx-font-smoothing","-moz-tap-highlight-color","-moz-transition","-webkit-appearance","-webkit-box-shadow","-webkit-font-smoothing","-webkit-tap-highlight-color","-webkit-transition","appearance","box-shadow","color","direction","font","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-weight","letter-spacing","line-height","margin","margin-top","margin-right","margin-bottom","margin-left","opacity","outline","padding","padding-top","padding-right","padding-bottom","padding-left","text-align","text-shadow","transition"],allowedFields:{cardholderName:{name:"cardholder-name",label:"Cardholder Name"},number:{name:"credit-card-number",label:"Credit Card Number"},cvv:{name:"cvv",label:"CVV"},expirationDate:{name:"expiration",label:"Expiration Date"},expirationMonth:{name:"expiration-month",label:"Expiration Month"},expirationYear:{name:"expiration-year",label:"Expiration Year"},postalCode:{name:"postal-code",label:"Postal Code"}},allowedAttributes:{"aria-invalid":"boolean","aria-required":"boolean",disabled:"boolean",placeholder:"string"},autocompleteMappings:{"cardholder-name":"cc-name","credit-card-number":"cc-number",expiration:"cc-exp","expiration-month":"cc-exp-month","expiration-year":"cc-exp-year",cvv:"cc-csc","postal-code":"billing postal-code"}};T.events=v(["ADD_CLASS","AUTOFILL_DATA_AVAILABLE","BIN_AVAILABLE","CARD_FORM_ENTRY_HAS_BEGUN","CLEAR_FIELD","CONFIGURATION","FRAME_READY","INPUT_EVENT","READY_FOR_CLIENT","REMOVE_ATTRIBUTE","REMOVE_CLASS","REMOVE_FOCUS_INTERCEPTS","SET_ATTRIBUTE","SET_MESSAGE","SET_MONTH_OPTIONS","TOKENIZATION_REQUEST","TRIGGER_FOCUS_CHANGE","TRIGGER_INPUT_FOCUS","VALIDATE_STRICT"],"hosted-fields:"),d.exports=T},{"../../lib/enumerate":140,"./errors":119}],119:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={HOSTED_FIELDS_TIMEOUT:{type:v.types.UNKNOWN,code:"HOSTED_FIELDS_TIMEOUT",message:"Hosted Fields timed out when attempting to set up."},HOSTED_FIELDS_INVALID_FIELD_KEY:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_KEY"},HOSTED_FIELDS_INVALID_FIELD_SELECTOR:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_INVALID_FIELD_SELECTOR",message:"Selector does not reference a valid DOM node."},HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_DUPLICATE_IFRAME",message:"Element already contains a Braintree iframe."},HOSTED_FIELDS_FIELD_INVALID:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_INVALID"},HOSTED_FIELDS_FIELD_NOT_PRESENT:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_NOT_PRESENT"},HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR:{type:v.types.NETWORK,code:"HOSTED_FIELDS_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE:{type:v.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_FAIL_ON_DUPLICATE",message:"This credit card already exists in the merchant's vault."},HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED:{type:v.types.CUSTOMER,code:"HOSTED_FIELDS_TOKENIZATION_CVV_VERIFICATION_FAILED",message:"CVV verification failed during tokenization."},HOSTED_FIELDS_FAILED_TOKENIZATION:{type:v.types.CUSTOMER,code:"HOSTED_FIELDS_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."},HOSTED_FIELDS_FIELDS_EMPTY:{type:v.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_EMPTY",message:"All fields are empty. Cannot tokenize empty card fields."},HOSTED_FIELDS_FIELDS_INVALID:{type:v.types.CUSTOMER,code:"HOSTED_FIELDS_FIELDS_INVALID",message:"Some payment input fields are invalid. Cannot tokenize invalid card fields."},HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_NOT_SUPPORTED"},HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_ATTRIBUTE_VALUE_NOT_ALLOWED"},HOSTED_FIELDS_FIELD_PROPERTY_INVALID:{type:v.types.MERCHANT,code:"HOSTED_FIELDS_FIELD_PROPERTY_INVALID"}}},{"../../lib/braintree-error":130}],120:[function(i,d,p){"use strict";function findParentTags(i,d){for(var p=i.parentNode,v=[];null!=p;)null!=p.tagName&&p.tagName.toLowerCase()===d&&v.push(p),p=p.parentNode;return v}d.exports=findParentTags},{}],121:[function(i,d,p){"use strict";var v=i("./browser-detection"),S=i("@braintree/class-list"),T=i("./constants"),O=Object.keys(T.allowedFields),I=T.navigationDirections,N={generate:function(i,d,p,T){var O=document.createElement("input"),I={border:"none !important",display:"block !important",height:"1px !important",left:"-1px !important",opacity:"0 !important",position:"absolute !important",top:"-1px !important",width:"1px !important"};return v.hasSoftwareKeyboard()||v.isFirefox()||v.isIE()?(O.setAttribute("aria-hidden","true"),O.setAttribute("autocomplete","off"),O.setAttribute("data-braintree-direction",p),O.setAttribute("data-braintree-type",d),O.setAttribute("id","bt-"+d+"-"+p+"-"+i),O.setAttribute("style",JSON.stringify(I).replace(/[{}"]/g,"").replace(/,/g,";")),S.add(O,"focus-intercept"),O.addEventListener("focus",(function(i){T(i),v.hasSoftwareKeyboard()||O.blur()})),O):document.createDocumentFragment()},destroy:function(i){var d;i?d=[document.getElementById(i)]:(d=document.querySelectorAll("[data-braintree-direction]"),d=[].slice.call(d)),d.forEach((function(i){i&&1===i.nodeType&&N.matchFocusElement(i.getAttribute("id"))&&i.parentNode.removeChild(i)}))},matchFocusElement:function(i){var d,p,v,S;return!!i&&!((d=i.split("-")).length<4)&&(p="bt"===d[0],v=O.indexOf(d[1])>-1,S=d[2]===I.BACK||d[2]===I.FORWARD,Boolean(p&&v&&S))}};d.exports=N},{"./browser-detection":117,"./constants":118,"@braintree/class-list":37}],122:[function(i,d,p){"use strict";var v=i("credit-card-type");d.exports=function(i){var d=v(i);return d.forEach((function(i){"mastercard"===i.type&&(i.type="master-card")})),d}},{"credit-card-type":49}],123:[function(i,d,p){"use strict";var v=i("./american-express"),S=i("./apple-pay"),T=i("./client"),O=i("./data-collector"),I=i("./hosted-fields"),N=i("./local-payment"),R=i("./masterpass"),P=i("./payment-request"),k=i("./paypal"),L=i("./paypal-checkout"),M=i("./google-payment"),F=i("./three-d-secure"),U=i("./unionpay"),j=i("./us-bank-account"),H=i("./vault-manager"),V=i("./venmo"),Y=i("./visa-checkout"),G=i("./preferred-payment-methods"),W="3.79.1";d.exports={americanExpress:v,applePay:S,client:T,dataCollector:O,hostedFields:I,localPayment:N,masterpass:R,googlePayment:M,paymentRequest:P,paypal:k,paypalCheckout:L,threeDSecure:F,unionpay:U,usBankAccount:j,vaultManager:H,venmo:V,visaCheckout:Y,preferredPaymentMethods:G,VERSION:W}},{"./american-express":76,"./apple-pay":79,"./client":85,"./data-collector":104,"./google-payment":109,"./hosted-fields":116,"./local-payment":170,"./masterpass":173,"./payment-request":178,"./paypal":185,"./paypal-checkout":182,"./preferred-payment-methods":188,"./three-d-secure":198,"./unionpay":202,"./us-bank-account":208,"./vault-manager":211,"./venmo":216,"./visa-checkout":224}],124:[function(i,d,p){"use strict";var v=i("./create-authorization-data"),S=i("./json-clone"),T=i("./constants");function addMetadata(i,d){var p,O=d?S(d):{},I=v(i.authorization).attrs,N=S(i.analyticsMetadata);for(p in O.braintreeLibraryVersion=T.BRAINTREE_LIBRARY_VERSION,O._meta)O._meta.hasOwnProperty(p)&&(N[p]=O._meta[p]);return O._meta=N,I.tokenizationKey?O.tokenizationKey=I.tokenizationKey:O.authorizationFingerprint=I.authorizationFingerprint,O}d.exports=addMetadata},{"./constants":132,"./create-authorization-data":136,"./json-clone":160}],125:[function(i,d,p){"use strict";var v=i("./promise"),S=i("./constants"),T=i("./add-metadata");function sendAnalyticsEvent(i,d,p){var O=Date.now();return v.resolve(i).then((function(i){var v=Date.now(),I=i.getConfiguration(),N=i._request,R=I.gatewayConfiguration.analytics.url,P={analytics:[{kind:S.ANALYTICS_PREFIX+d,isAsync:Math.floor(v/1e3)!==Math.floor(O/1e3),timestamp:O}]};N({url:R,method:"post",data:T(I,P),timeout:S.ANALYTICS_REQUEST_TIMEOUT_MS},p)}))}d.exports={sendEvent:sendAnalyticsEvent}},{"./add-metadata":124,"./constants":132,"./promise":163}],126:[function(i,d,p){"use strict";var v=i("@braintree/asset-loader/load-script");d.exports={loadScript:v}},{"@braintree/asset-loader/load-script":3}],127:[function(i,d,p){"use strict";var v="function"==typeof Object.assign?Object.assign:assignPolyfill;function assignPolyfill(i){var d,p,v;for(d=1;d<arguments.length;d++)for(v in p=arguments[d])p.hasOwnProperty(v)&&(i[v]=p[v]);return i}d.exports={assign:v,_assign:assignPolyfill}},{}],128:[function(i,d,p){"use strict";var v=i("./braintree-error"),S=i("./promise"),T=i("./errors"),O="3.79.1";function basicComponentVerification(i){var d,p,I;return i?(I=i.name,d=i.client,p=i.authorization,d||p?p||d.getVersion()===O?S.resolve():S.reject(new v({type:T.INCOMPATIBLE_VERSIONS.type,code:T.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+d.getVersion()+") and "+I+" (version "+O+") components must be from the same SDK version."})):S.reject(new v({type:T.INSTANTIATION_OPTION_REQUIRED.type,code:T.INSTANTIATION_OPTION_REQUIRED.code,message:"options.client is required when instantiating "+I+"."}))):S.reject(new v({type:T.INVALID_USE_OF_INTERNAL_FUNCTION.type,code:T.INVALID_USE_OF_INTERNAL_FUNCTION.code,message:"Options must be passed to basicComponentVerification function."}))}d.exports={verify:basicComponentVerification}},{"./braintree-error":130,"./errors":141,"./promise":163}],129:[function(i,d,p){"use strict";var v=i("./once");function call(i,d){0===i.length?(i(),d(null)):i(d)}d.exports=function(i,d){var p,S=i.length,T=S,O=v(d);if(0!==S)for(p=0;p<S;p++)call(i[p],finish);else O(null);function finish(i){i?O(i):0==(T-=1)&&O(null)}}},{"./once":162}],130:[function(i,d,p){"use strict";var v=i("./enumerate");function BraintreeError(i){if(!BraintreeError.types.hasOwnProperty(i.type))throw new Error(i.type+" is not a valid type.");if(!i.code)throw new Error("Error code required.");if(!i.message)throw new Error("Error message required.");this.name="BraintreeError",this.code=i.code,this.message=i.message,this.type=i.type,this.details=i.details}BraintreeError.prototype=Object.create(Error.prototype),BraintreeError.prototype.constructor=BraintreeError,BraintreeError.types=v(["CUSTOMER","MERCHANT","NETWORK","INTERNAL","UNKNOWN"]),BraintreeError.findRootError=function(i){return i instanceof BraintreeError&&i.details&&i.details.originalError?BraintreeError.findRootError(i.details.originalError):i},d.exports=BraintreeError},{"./enumerate":140}],131:[function(i,d,p){"use strict";function transformKey(i){return i.replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/([A-Z]+)([A-Z][a-z\d]+)/g,"$1_$2").toLowerCase()}d.exports=function(i){return Object.keys(i).reduce((function(d,p){return d[transformKey(p)]=i[p],d}),{})}},{}],132:[function(i,d,p){"use strict";var v="3.79.1",S="web",T={production:"https://api.braintreegateway.com:443",sandbox:"https://api.sandbox.braintreegateway.com:443"},O={production:"https://assets.braintreegateway.com",sandbox:"https://assets.braintreegateway.com"},I={production:"https://payments.braintree-api.com/graphql",sandbox:"https://payments.sandbox.braintree-api.com/graphql"};d.exports={ANALYTICS_PREFIX:S+".",ANALYTICS_REQUEST_TIMEOUT_MS:2e3,ASSETS_URLS:O,CLIENT_API_URLS:T,FRAUDNET_SOURCE:"BRAINTREE_SIGNIN",FRAUDNET_FNCLS:"fnparams-dede7cc5-15fd-4c75-a9f4-36c430ee3a99",FRAUDNET_URL:"https://c.paypal.com/da/r/fb.js",BUS_CONFIGURATION_REQUEST_EVENT:"BUS_CONFIGURATION_REQUEST",GRAPHQL_URLS:I,INTEGRATION_TIMEOUT_MS:6e4,VERSION:v,INTEGRATION:"custom",SOURCE:"client",PLATFORM:S,BRAINTREE_LIBRARY_VERSION:"braintree/"+S+"/"+v}},{}],133:[function(i,d,p){"use strict";var v=i("./braintree-error"),S=i("./errors");d.exports=function(i,d){d.forEach((function(d){i[d]=function(){throw new v({type:S.METHOD_CALLED_AFTER_TEARDOWN.type,code:S.METHOD_CALLED_AFTER_TEARDOWN.code,message:d+" cannot be called after teardown."})}}))}},{"./braintree-error":130,"./errors":141}],134:[function(i,d,p){"use strict";var v=i("./braintree-error");function convertToBraintreeError(i,d){return i instanceof v?i:new v({type:d.type,code:d.code,message:d.message,details:{originalError:i}})}d.exports=convertToBraintreeError},{"./braintree-error":130}],135:[function(i,d,p){"use strict";var v=i("./constants").ASSETS_URLS;function createAssetsUrl(i){return v.production}d.exports={create:createAssetsUrl}},{"./constants":132}],136:[function(i,d,p){"use strict";var v=i("../lib/vendor/polyfill").atob,S=i("../lib/constants").CLIENT_API_URLS;function _isTokenizationKey(i){return/^[a-zA-Z0-9]+_[a-zA-Z0-9]+_[a-zA-Z0-9_]+$/.test(i)}function _parseTokenizationKey(i){var d=i.split("_"),p=d[0];return{merchantId:d.slice(2).join("_"),environment:p}}function createAuthorizationData(i){var d,p,T={attrs:{},configUrl:""};return _isTokenizationKey(i)?(p=_parseTokenizationKey(i),T.environment=p.environment,T.attrs.tokenizationKey=i,T.configUrl=S[p.environment]+"/merchants/"+p.merchantId+"/client_api/v1/configuration"):(d=JSON.parse(v(i)),T.environment=d.environment,T.attrs.authorizationFingerprint=d.authorizationFingerprint,T.configUrl=d.configUrl,T.graphQL=d.graphQL),T}d.exports=createAuthorizationData},{"../lib/constants":132,"../lib/vendor/polyfill":167}],137:[function(i,d,p){"use strict";var v=i("./braintree-error"),S=i("./promise"),T=i("./assets"),O=i("./errors"),I="3.79.1";function createDeferredClient(i){var d=S.resolve();return i.client?S.resolve(i.client):(window.braintree&&window.braintree.client||(d=T.loadScript({src:i.assetsUrl+"/web/"+I+"/js/client.min.js"}).catch((function(i){return S.reject(new v({type:O.CLIENT_SCRIPT_FAILED_TO_LOAD.type,code:O.CLIENT_SCRIPT_FAILED_TO_LOAD.code,message:O.CLIENT_SCRIPT_FAILED_TO_LOAD.message,details:{originalError:i}}))}))),d.then((function(){return window.braintree.client.VERSION!==I?S.reject(new v({type:O.INCOMPATIBLE_VERSIONS.type,code:O.INCOMPATIBLE_VERSIONS.code,message:"Client (version "+window.braintree.client.VERSION+") and "+i.name+" (version "+I+") components must be from the same SDK version."})):window.braintree.client.create({authorization:i.authorization,debug:i.debug})})))}d.exports={create:createDeferredClient}},{"./assets":126,"./braintree-error":130,"./errors":141,"./promise":163}],138:[function(i,d,p){"use strict";d.exports=function(i){return function(){var d=arguments;setTimeout((function(){i.apply(null,d)}),1)}}},{}],139:[function(i,d,p){"use strict";var v=i("./batch-execute-functions");function Destructor(){this._teardownRegistry=[],this._isTearingDown=!1}Destructor.prototype.registerFunctionForTeardown=function(i){"function"==typeof i&&this._teardownRegistry.push(i)},Destructor.prototype.teardown=function(i){this._isTearingDown?i(new Error("Destructor is already tearing down")):(this._isTearingDown=!0,v(this._teardownRegistry,function(d){this._teardownRegistry=[],this._isTearingDown=!1,"function"==typeof i&&i(d)}.bind(this)))},d.exports=Destructor},{"./batch-execute-functions":129}],140:[function(i,d,p){"use strict";function enumerate(i,d){return d=null==d?"":d,i.reduce((function(i,p){return i[p]=d+p,i}),{})}d.exports=enumerate},{}],141:[function(i,d,p){"use strict";var v=i("./braintree-error");d.exports={INVALID_USE_OF_INTERNAL_FUNCTION:{type:v.types.INTERNAL,code:"INVALID_USE_OF_INTERNAL_FUNCTION"},INSTANTIATION_OPTION_REQUIRED:{type:v.types.MERCHANT,code:"INSTANTIATION_OPTION_REQUIRED"},INCOMPATIBLE_VERSIONS:{type:v.types.MERCHANT,code:"INCOMPATIBLE_VERSIONS"},CLIENT_SCRIPT_FAILED_TO_LOAD:{type:v.types.NETWORK,code:"CLIENT_SCRIPT_FAILED_TO_LOAD",message:"Braintree client script could not be loaded."},METHOD_CALLED_AFTER_TEARDOWN:{type:v.types.MERCHANT,code:"METHOD_CALLED_AFTER_TEARDOWN"}}},{"./braintree-error":130}],142:[function(i,d,p){"use strict";d.exports=function findRootNode(i){for(;i.parentNode;)i=i.parentNode;return i}},{}],143:[function(i,d,p){"use strict";d.exports=function(i,d,p){var v;for(v=0;v<i.length;v++)if(i[v].hasOwnProperty(d)&&i[v][d]===p)return i[v];return null}},{}],144:[function(i,d,p){"use strict";var v=i("./strategies/popup"),S=i("./strategies/popup-bridge"),T=i("./strategies/modal"),O=i("framebus"),I=i("../shared/events"),N=i("../shared/errors"),R=i("../shared/constants"),P=i("@braintree/uuid"),k=i("@braintree/iframer"),L=i("../../braintree-error"),M=i("../shared/browser-detection"),F=i("../../is-https"),U=i("./../../assign").assign,j=i("../../constants").BUS_CONFIGURATION_REQUEST_EVENT,H=["name","dispatchFrameUrl","openFrameUrl"];function noop(){}function _validateFrameConfiguration(i){if(!i)throw new Error("Valid configuration is required");if(H.forEach((function(d){if(!i.hasOwnProperty(d))throw new Error("A valid frame "+d+" must be provided")})),!/^[\w_]+$/.test(i.name))throw new Error("A valid frame name must be provided")}function FrameService(i){_validateFrameConfiguration(i),this._serviceId=P().replace(/-/g,""),this._options={name:i.name+"_"+this._serviceId,dispatchFrameUrl:i.dispatchFrameUrl,openFrameUrl:i.openFrameUrl,height:i.height,width:i.width,top:i.top,left:i.left},this.state=i.state||{},this._bus=new O({channel:this._serviceId}),this._setBusEvents()}FrameService.prototype.initialize=function(i){var d=function(){i(),this._bus.off(I.DISPATCH_FRAME_READY,d)}.bind(this);this._bus.on(I.DISPATCH_FRAME_READY,d),this._writeDispatchFrame()},FrameService.prototype._writeDispatchFrame=function(){var i=R.DISPATCH_FRAME_NAME+"_"+this._serviceId,d=this._options.dispatchFrameUrl;this._dispatchFrame=k({"aria-hidden":!0,name:i,title:i,src:d,class:R.DISPATCH_FRAME_CLASS,height:0,width:0,style:{position:"absolute",left:"-9999px"}}),document.body.appendChild(this._dispatchFrame)},FrameService.prototype._setBusEvents=function(){this._bus.on(I.DISPATCH_FRAME_REPORT,function(i,d){this._onCompleteCallback&&this._onCompleteCallback.call(null,i.err,i.payload),this._frame.close(),this._onCompleteCallback=null,d&&d()}.bind(this)),this._bus.on(j,function(i){i(this.state)}.bind(this))},FrameService.prototype.open=function(i,d){if(i=i||{},this._frame=this._getFrameForEnvironment(i),this._frame.initialize(d),!(this._frame instanceof S)){if(U(this.state,i.state),this._onCompleteCallback=d,this._frame.open(),this.isFrameClosed())return this._cleanupFrame(),void(d&&d(M.isIE()&&!F.isHTTPS()?new L(N.FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG):new L(N.FRAME_SERVICE_FRAME_OPEN_FAILED)));this._pollForPopupClose()}},FrameService.prototype.redirect=function(i){this._frame&&!this.isFrameClosed()&&this._frame.redirect(i)},FrameService.prototype.close=function(){this.isFrameClosed()||this._frame.close()},FrameService.prototype.focus=function(){this.isFrameClosed()||this._frame.focus()},FrameService.prototype.createHandler=function(i){return i=i||{},{close:function(){i.beforeClose&&i.beforeClose(),this.close()}.bind(this),focus:function(){i.beforeFocus&&i.beforeFocus(),this.focus()}.bind(this)}},FrameService.prototype.createNoopHandler=function(){return{close:noop,focus:noop}},FrameService.prototype.teardown=function(){this.close(),this._dispatchFrame.parentNode.removeChild(this._dispatchFrame),this._dispatchFrame=null,this._cleanupFrame()},FrameService.prototype.isFrameClosed=function(){return null==this._frame||this._frame.isClosed()},FrameService.prototype._cleanupFrame=function(){this._frame=null,clearInterval(this._popupInterval),this._popupInterval=null},FrameService.prototype._pollForPopupClose=function(){return this._popupInterval=setInterval(function(){this.isFrameClosed()&&(this._cleanupFrame(),this._onCompleteCallback&&this._onCompleteCallback(new L(N.FRAME_SERVICE_FRAME_CLOSED)))}.bind(this),R.POPUP_POLL_INTERVAL),this._popupInterval},FrameService.prototype._getFrameForEnvironment=function(i){var d=M.supportsPopups(),p=Boolean(window.popupBridge),O=U({},this._options,i);return p?new S(O):d?new v(O):new T(O)},d.exports=FrameService},{"../../braintree-error":130,"../../constants":132,"../../is-https":158,"../shared/browser-detection":151,"../shared/constants":152,"../shared/errors":153,"../shared/events":154,"./../../assign":127,"./strategies/modal":146,"./strategies/popup":149,"./strategies/popup-bridge":147,"@braintree/iframer":40,"@braintree/uuid":44,framebus:57}],145:[function(i,d,p){"use strict";var v=i("./frame-service");d.exports={create:function createFrameService(i,d){var p=new v(i);p.initialize((function(){d(p)}))}}},{"./frame-service":144}],146:[function(i,d,p){"use strict";var v=i("@braintree/iframer"),S=i("../../../assign").assign,T=i("../../shared/browser-detection"),O={position:"fixed",top:0,left:0,bottom:0,padding:0,margin:0,border:0,outline:"none",zIndex:20001,background:"#FFFFFF"};function noop(){}function Modal(i){this._closed=null,this._frame=null,this._options=i||{},this._container=this._options.container||document.body}Modal.prototype.initialize=noop,Modal.prototype.open=function(){var i={src:this._options.openFrameUrl,name:this._options.name,scrolling:"yes",height:"100%",width:"100%",style:S({},O),title:"Lightbox Frame"};T.isIos()?(T.isIosWKWebview()&&(this._lockScrolling(),i.style={}),this._el=document.createElement("div"),S(this._el.style,O,{height:"100%",width:"100%",overflow:"auto","-webkit-overflow-scrolling":"touch"}),this._frame=v(i),this._el.appendChild(this._frame)):this._el=this._frame=v(i),this._closed=!1,this._container.appendChild(this._el)},Modal.prototype.focus=noop,Modal.prototype.close=function(){this._container.removeChild(this._el),this._frame=null,this._closed=!0,T.isIosWKWebview()&&this._unlockScrolling()},Modal.prototype.isClosed=function(){return Boolean(this._closed)},Modal.prototype.redirect=function(i){this._frame.src=i},Modal.prototype._unlockScrolling=function(){document.body.style.overflow=this._savedBodyProperties.overflowStyle,document.body.style.position=this._savedBodyProperties.positionStyle,window.scrollTo(this._savedBodyProperties.left,this._savedBodyProperties.top),delete this._savedBodyProperties},Modal.prototype._lockScrolling=function(){var i=document.documentElement;this._savedBodyProperties={left:(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0),top:(window.pageYOffset||i.scrollTop)-(i.clientTop||0),overflowStyle:document.body.style.overflow,positionStyle:document.body.style.position},document.body.style.overflow="hidden",document.body.style.position="fixed",window.scrollTo(0,0)},d.exports=Modal},{"../../../assign":127,"../../shared/browser-detection":151,"@braintree/iframer":40}],147:[function(i,d,p){"use strict";var v=i("../../../braintree-error"),S=i("../../shared/errors");function noop(){}function PopupBridge(i){this._closed=null,this._options=i}PopupBridge.prototype.initialize=function(i){var d=this;window.popupBridge.onComplete=function(p,T){var O=!T&&!p;d._closed=!0,p||O?i(new v(S.FRAME_SERVICE_FRAME_CLOSED)):i(null,T)}},PopupBridge.prototype.open=function(i){var d;d=(i=i||{}).openFrameUrl||this._options.openFrameUrl,this._closed=!1,window.popupBridge.open(d)},PopupBridge.prototype.focus=noop,PopupBridge.prototype.close=noop,PopupBridge.prototype.isClosed=function(){return Boolean(this._closed)},PopupBridge.prototype.redirect=function(i){this.open({openFrameUrl:i})},d.exports=PopupBridge},{"../../../braintree-error":130,"../../shared/errors":153}],148:[function(i,d,p){"use strict";var v=i("../../../shared/constants"),S=i("./position");function calculatePosition(i,d,p){return void 0!==d?d:S[i](p)}d.exports=function composePopupOptions(i){var d=i.height||v.DEFAULT_POPUP_HEIGHT,p=i.width||v.DEFAULT_POPUP_WIDTH,S=calculatePosition("top",i.top,d),T=calculatePosition("left",i.left,p);return[v.POPUP_BASE_OPTIONS,"height="+d,"width="+p,"top="+S,"left="+T].join(",")}},{"../../../shared/constants":152,"./position":150}],149:[function(i,d,p){"use strict";var v=i("./compose-options");function noop(){}function Popup(i){this._frame=null,this._options=i||{},this.open()}Popup.prototype.initialize=noop,Popup.prototype.open=function(){this._frame=window.open(this._options.openFrameUrl,this._options.name,v(this._options))},Popup.prototype.focus=function(){this._frame.focus()},Popup.prototype.close=function(){this._frame.closed||this._frame.close()},Popup.prototype.isClosed=function(){return!this._frame||Boolean(this._frame.closed)},Popup.prototype.redirect=function(i){this._frame.location.href=i},d.exports=Popup},{"./compose-options":148}],150:[function(i,d,p){"use strict";function top(i){return center(window.outerHeight||document.documentElement.clientHeight,i,null==window.screenY?window.screenTop:window.screenY)}function left(i){return center(window.outerWidth||document.documentElement.clientWidth,i,null==window.screenX?window.screenLeft:window.screenX)}function center(i,d,p){return(i-d)/2+p}d.exports={top,left,center}},{}],151:[function(i,d,p){"use strict";d.exports={isIos:i("@braintree/browser-detection/is-ios"),isIosWKWebview:i("@braintree/browser-detection/is-ios-wkwebview"),isIE:i("@braintree/browser-detection/is-ie"),supportsPopups:i("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/is-ie":29,"@braintree/browser-detection/is-ios":35,"@braintree/browser-detection/is-ios-wkwebview":34,"@braintree/browser-detection/supports-popups":36}],152:[function(i,d,p){"use strict";d.exports={DISPATCH_FRAME_NAME:"dispatch",DISPATCH_FRAME_CLASS:"braintree-dispatch-frame",POPUP_BASE_OPTIONS:"resizable,scrollbars",DEFAULT_POPUP_WIDTH:450,DEFAULT_POPUP_HEIGHT:535,POPUP_POLL_INTERVAL:100,POPUP_CLOSE_TIMEOUT:100}},{}],153:[function(i,d,p){"use strict";var v=i("../../braintree-error");d.exports={FRAME_SERVICE_FRAME_CLOSED:{type:v.types.INTERNAL,code:"FRAME_SERVICE_FRAME_CLOSED",message:"Frame closed before tokenization could occur."},FRAME_SERVICE_FRAME_OPEN_FAILED:{type:v.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED",message:"Frame failed to open."},FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG:{type:v.types.INTERNAL,code:"FRAME_SERVICE_FRAME_OPEN_FAILED_IE_BUG",message:"Could not open frame. This may be due to a bug in IE browsers when attempting to open an HTTPS page from a HTTP page. https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/11324352/"}}},{"../../braintree-error":130}],154:[function(i,d,p){"use strict";var v=i("../../enumerate");d.exports=v(["DISPATCH_FRAME_READY","DISPATCH_FRAME_REPORT"],"frameService:")},{"../../enumerate":140}],155:[function(i,d,p){"use strict";var v="3.79.1",S=i("./assign").assign;function generateTokenizationParameters(i,d){var p=i.analyticsMetadata,T={gateway:"braintree","braintree:merchantId":i.gatewayConfiguration.merchantId,"braintree:apiVersion":"v1","braintree:sdkVersion":v,"braintree:metadata":JSON.stringify({source:p.source,integration:p.integration,sessionId:p.sessionId,version:v,platform:p.platform})};return S({},T,d)}d.exports=function(i,d,p){var v,S,T=i.gatewayConfiguration.androidPay,O="production"===i.gatewayConfiguration.environment?"PRODUCTION":"TEST";return 2===d?(v={apiVersion:2,apiVersionMinor:0,environment:O,allowedPaymentMethods:[{type:"CARD",parameters:{allowedAuthMethods:["PAN_ONLY","CRYPTOGRAM_3DS"],allowedCardNetworks:T.supportedNetworks.map((function(i){return i.toUpperCase()}))},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:generateTokenizationParameters(i,{"braintree:authorizationFingerprint":T.googleAuthorizationFingerprint})}}]},p&&(v.merchantInfo={merchantId:p}),T.paypalClientId&&(S={type:"PAYPAL",parameters:{purchase_context:{purchase_units:[{payee:{client_id:T.paypalClientId},recurring_payment:!0}]}},tokenizationSpecification:{type:"PAYMENT_GATEWAY",parameters:generateTokenizationParameters(i,{"braintree:paypalClientId":T.paypalClientId})}},v.allowedPaymentMethods.push(S))):(v={environment:O,allowedPaymentMethods:["CARD","TOKENIZED_CARD"],paymentMethodTokenizationParameters:{tokenizationType:"PAYMENT_GATEWAY",parameters:generateTokenizationParameters(i,{"braintree:authorizationFingerprint":T.googleAuthorizationFingerprint})},cardRequirements:{allowedCardNetworks:T.supportedNetworks.map((function(i){return i.toUpperCase()}))}},"TOKENIZATION_KEY"===i.authorizationType&&(v.paymentMethodTokenizationParameters.parameters["braintree:clientKey"]=i.authorization),p&&(v.merchantId=p),d&&(v.apiVersion=d)),v}},{"./assign":127}],156:[function(i,d,p){"use strict";d.exports=function inIframe(i){i=i||window;try{return i.self!==i.top}catch(i){return!0}}},{}],157:[function(i,d,p){"use strict";function convertDateStringToDate(i){var d=i.split("-");return new Date(d[0],d[1],d[2])}function isDateStringBeforeOrOn(i,d){return convertDateStringToDate(i)<=convertDateStringToDate(d)}d.exports=isDateStringBeforeOrOn},{}],158:[function(i,d,p){"use strict";function isHTTPS(i){return"https:"===(i=i||window.location.protocol)}d.exports={isHTTPS}},{}],159:[function(i,d,p){"use strict";var v,S={"paypal.com":1,"braintreepayments.com":1,"braintreegateway.com":1,"braintree-api.com":1};function stripSubdomains(i){return i.split(".").slice(-2).join(".")}function isVerifiedDomain(i){var d;return i=i.toLowerCase(),!!/^https:/.test(i)&&((v=v||document.createElement("a")).href=i,d=stripSubdomains(v.hostname),S.hasOwnProperty(d))}d.exports=isVerifiedDomain},{}],160:[function(i,d,p){"use strict";d.exports=function(i){return JSON.parse(JSON.stringify(i))}},{}],161:[function(i,d,p){"use strict";d.exports=function(i){return Object.keys(i).filter((function(d){return"function"==typeof i[d]}))}},{}],162:[function(i,d,p){"use strict";function once(i){var d=!1;return function(){d||(d=!0,i.apply(null,arguments))}}d.exports=once},{}],163:[function(i,d,p){"use strict";var v=i("promise-polyfill"),S=i("@braintree/extended-promise"),T="undefined"!=typeof Promise?Promise:v;S.suppressUnhandledPromiseMessage=!0,S.setPromise(T),d.exports=T},{"@braintree/extended-promise":39,"promise-polyfill":70}],164:[function(i,d,p){"use strict";function _notEmpty(i){var d;for(d in i)if(i.hasOwnProperty(d))return!0;return!1}function _isArray(i){return i&&"object"==typeof i&&"number"==typeof i.length&&"[object Array]"===Object.prototype.toString.call(i)||!1}function hasQueryParams(i){return i=i||window.location.href,/\?/.test(i)}function parse(i){return hasQueryParams(i=i||window.location.href)?i.replace(/#.*$/,"").replace(/^.*\?/,"").split("&").reduce((function(i,d){var p=d.split("="),v=decodeURIComponent(p[0]),S=decodeURIComponent(p[1]);return i[v]=S,i}),{}):{}}function stringify(i,d){var p,v,S,T=[];for(S in i)i.hasOwnProperty(S)&&(v=i[S],p=d?_isArray(i)?d+"[]":d+"["+S+"]":S,"object"==typeof v?T.push(stringify(v,p)):T.push(encodeURIComponent(p)+"="+encodeURIComponent(v)));return T.join("&")}function queryify(i,d){return i=i||"",null!=d&&"object"==typeof d&&_notEmpty(d)&&(i+=-1===i.indexOf("?")?"?":"",i+=-1!==i.indexOf("=")?"&":"",i+=stringify(d)),i}d.exports={parse,stringify,queryify,hasQueryParams}},{}],165:[function(i,d,p){"use strict";var v=i("@braintree/uuid"),S=i("./find-root-node");function isShadowElement(i){return"[object ShadowRoot]"===(i=S(i)).toString()}function getShadowHost(i){return isShadowElement(i=S(i))?i.host:null}function transformToSlot(i,d){var p=S(i).querySelector("style"),T=getShadowHost(i),O="shadow-slot-"+v(),I=document.createElement("slot"),N=document.createElement("div");return I.setAttribute("name",O),i.appendChild(I),N.setAttribute("slot",O),T.appendChild(N),d&&(p||(p=document.createElement("style"),i.appendChild(p)),p.sheet.insertRule('::slotted([slot="'+O+'"]) { '+d+" }")),isShadowElement(T)?transformToSlot(N,d):N}d.exports={isShadowElement,getShadowHost,transformToSlot}},{"./find-root-node":142,"@braintree/uuid":44}],166:[function(i,d,p){"use strict";function useMin(i){return i?"":".min"}d.exports=useMin},{}],167:[function(i,d,p){"use strict";var v="function"==typeof atob?atob:atobPolyfill;function atobPolyfill(i){var d,p,v,S,T,O,I="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",N="";if(!new RegExp("^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=|[A-Za-z0-9+/]{4})([=]{1,2})?$").test(i))throw new Error("Non base64 encoded input passed to window.atob polyfill");O=0;do{d=(63&I.indexOf(i.charAt(O++)))<<2|(S=I.indexOf(i.charAt(O++)))>>4&3,p=(15&S)<<4|(T=I.indexOf(i.charAt(O++)))>>2&15,v=(3&T)<<6|63&I.indexOf(i.charAt(O++)),N+=String.fromCharCode(d)+(p?String.fromCharCode(p):"")+(v?String.fromCharCode(v):"")}while(O<i.length);return N}d.exports={atob:function(i){return v.call(window,i)},_atob:atobPolyfill}},{}],168:[function(i,d,p){"use strict";d.exports={REQUIRED_OPTIONS_FOR_START_PAYMENT:["onPaymentStart","paymentType","amount","fallback"]}},{}],169:[function(i,d,p){"use strict";var v=i("../../lib/frame-service/external"),S=i("../../lib/braintree-error"),T=i("../../lib/use-min"),O="3.79.1",I=i("../../lib/constants").INTEGRATION_TIMEOUT_MS,N=i("../../lib/analytics"),R=i("../../lib/methods"),P=i("../../lib/convert-methods-to-error"),k=i("../../lib/convert-to-braintree-error"),L=i("../../lib/promise"),M=i("@braintree/extended-promise"),F=i("../../lib/querystring"),U=i("@braintree/wrap-promise"),j=i("./constants"),H=i("../shared/errors"),V=1282,Y=720;function LocalPayment(i){this._client=i.client,this._assetsUrl=i.client.getConfiguration().gatewayConfiguration.assetsUrl+"/web/"+O,this._isDebug=i.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/local-payment-landing-frame"+T(this._isDebug)+".html",this._authorizationInProgress=!1,this._paymentType="unknown",this._merchantAccountId=i.merchantAccountId}function hasMissingOption(i){var d,p;if(!i)return!0;for(d=0;d<j.REQUIRED_OPTIONS_FOR_START_PAYMENT.length;d++)if(p=j.REQUIRED_OPTIONS_FOR_START_PAYMENT[d],!i.hasOwnProperty(p))return!0;return!i.fallback.url||!i.fallback.buttonText}LocalPayment.prototype._initialize=function(){var i=this,d=this._client,p=setTimeout((function(){N.sendEvent(d,"local-payment.load.timed-out")}),I);return new L((function(S){v.create({name:"localpaymentlandingpage",dispatchFrameUrl:i._assetsUrl+"/html/dispatch-frame"+T(i._isDebug)+".html",openFrameUrl:i._loadingFrameUrl},(function(v){i._frameService=v,clearTimeout(p),N.sendEvent(d,"local-payment.load.succeeded"),S(i)}))}))},LocalPayment.prototype.startPayment=function(i){var d,p,v,O=this,I=this._frameService._serviceId,R=i.windowOptions||{};return hasMissingOption(i)?L.reject(new S(H.LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION)):(d=i.address||{},p={intent:"sale",returnUrl:F.queryify(O._assetsUrl+"/html/local-payment-redirect-frame"+T(O._isDebug)+".html",{channel:I,r:i.fallback.url,t:i.fallback.buttonText}),cancelUrl:F.queryify(O._assetsUrl+"/html/local-payment-redirect-frame"+T(O._isDebug)+".html",{channel:I,r:i.fallback.cancelUrl||i.fallback.url,t:i.fallback.cancelButtonText||i.fallback.buttonText,c:1}),experienceProfile:{noShipping:!i.shippingAddressRequired},fundingSource:i.paymentType,paymentTypeCountryCode:i.paymentTypeCountryCode,amount:i.amount,currencyIsoCode:i.currencyCode,firstName:i.givenName,lastName:i.surname,payerEmail:i.email,phone:i.phone,line1:d.streetAddress,line2:d.extendedAddress,city:d.locality,state:d.region,postalCode:d.postalCode,countryCode:d.countryCode,merchantAccountId:O._merchantAccountId,bic:i.bic},O._paymentType=i.paymentType.toLowerCase(),O._authorizationInProgress?(N.sendEvent(O._client,O._paymentType+".local-payment.start-payment.error.already-opened"),L.reject(new S(H.LOCAL_PAYMENT_ALREADY_IN_PROGRESS))):(O._authorizationInProgress=!0,v=new M,O._startPaymentCallback=O._createStartPaymentCallback((function(i){v.resolve(i)}),(function(i){v.reject(i)})),O._frameService.open({width:R.width||V,height:R.height||Y},O._startPaymentCallback),O._client.request({method:"post",endpoint:"local_payments/create",data:p}).then((function(d){N.sendEvent(O._client,O._paymentType+".local-payment.start-payment.opened"),O._startPaymentOptions=i,i.onPaymentStart({paymentId:d.paymentResource.paymentToken},(function(){O._frameService.redirect(d.paymentResource.redirectUrl)}))})).catch((function(i){var d=i.details&&i.details.httpStatus;O._frameService.close(),O._authorizationInProgress=!1,422!==d?v.reject(k(i,{type:H.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:H.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:H.LOCAL_PAYMENT_START_PAYMENT_FAILED.message})):v.reject(new S({type:H.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.type,code:H.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.code,message:H.LOCAL_PAYMENT_INVALID_PAYMENT_OPTION.message,details:{originalError:i}}))})),v))},LocalPayment.prototype.tokenize=function(i){var d=this,p=this._client;return(i=i||F.parse()).c||i.wasCanceled?L.reject(new S({type:H.LOCAL_PAYMENT_CANCELED.type,code:H.LOCAL_PAYMENT_CANCELED.code,message:H.LOCAL_PAYMENT_CANCELED.message,details:{originalError:{errorcode:i.errorcode,token:i.btLpToken}}})):i.errorcode?L.reject(new S({type:H.LOCAL_PAYMENT_START_PAYMENT_FAILED.type,code:H.LOCAL_PAYMENT_START_PAYMENT_FAILED.code,message:H.LOCAL_PAYMENT_START_PAYMENT_FAILED.message,details:{originalError:{errorcode:i.errorcode,token:i.btLpToken}}})):p.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(i)}).then((function(i){var v=d._formatTokenizePayload(i);return window.popupBridge?N.sendEvent(p,d._paymentType+".local-payment.tokenization.success-popupbridge"):N.sendEvent(p,d._paymentType+".local-payment.tokenization.success"),v})).catch((function(i){return N.sendEvent(p,d._paymentType+".local-payment.tokenization.failed"),L.reject(k(i,{type:H.LOCAL_PAYMENT_TOKENIZATION_FAILED.type,code:H.LOCAL_PAYMENT_TOKENIZATION_FAILED.code,message:H.LOCAL_PAYMENT_TOKENIZATION_FAILED.message}))}))},LocalPayment.prototype.closeWindow=function(){this._authoriztionInProgress&&N.sendEvent(this._client,this._paymentType+".local-payment.start-payment.closed.by-merchant"),this._frameService.close()},LocalPayment.prototype.focusWindow=function(){this._frameService.focus()},LocalPayment.prototype._createStartPaymentCallback=function(i,d){var p=this,v=this._client;return function(T,O){if(p._authorizationInProgress=!1,T)if("FRAME_SERVICE_FRAME_CLOSED"===T.code){if(O&&"processing_error"===O.errorcode)return N.sendEvent(v,p._paymentType+".local-payment.failed-in-window"),void d(new S(H.LOCAL_PAYMENT_START_PAYMENT_FAILED));N.sendEvent(v,p._paymentType+".local-payment.tokenization.closed.by-user"),d(new S(H.LOCAL_PAYMENT_WINDOW_CLOSED))}else T.code&&T.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&d(new S({code:H.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.code,type:H.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.type,message:H.LOCAL_PAYMENT_WINDOW_OPEN_FAILED.message,details:{originalError:T}}));else O&&(window.popupBridge||p._frameService.redirect(p._loadingFrameUrl),p.tokenize(O).then(i).catch(d).then((function(){p._frameService.close()})))}},LocalPayment.prototype._formatTokenizePayload=function(i){var d,p={};return i.paypalAccounts&&(p=i.paypalAccounts[0]),d={nonce:p.nonce,details:{},type:p.type},p.details&&(p.details.payerInfo&&(d.details=p.details.payerInfo),p.details.correlationId&&(d.correlationId=p.details.correlationId)),d},LocalPayment.prototype.hasTokenizationParams=function(){var i=F.parse();return!!i.errorcode||Boolean(i.btLpToken&&i.btLpPaymentId&&i.btLpPayerId)},LocalPayment.prototype._formatTokenizeData=function(i){var d=this._client.getConfiguration().gatewayConfiguration;return{merchantAccountId:this._merchantAccountId,paypalAccount:{correlationId:i.btLpToken||i.token,paymentToken:i.btLpPaymentId||i.paymentId,payerId:i.btLpPayerId||i.PayerID,unilateral:d.paypal.unvettedMerchant,intent:"sale"}}},LocalPayment.prototype.teardown=function(){var i=this;return i._frameService.teardown(),P(i,R(LocalPayment.prototype)),N.sendEvent(i._client,"local-payment.teardown-completed"),L.resolve()},d.exports=U.wrapPrototype(LocalPayment)},{"../../lib/analytics":125,"../../lib/braintree-error":130,"../../lib/constants":132,"../../lib/convert-methods-to-error":133,"../../lib/convert-to-braintree-error":134,"../../lib/frame-service/external":145,"../../lib/methods":161,"../../lib/promise":163,"../../lib/querystring":164,"../../lib/use-min":166,"../shared/errors":171,"./constants":168,"@braintree/extended-promise":39,"@braintree/wrap-promise":48}],170:[function(i,d,p){"use strict";var v=i("../lib/analytics"),S=i("../lib/basic-component-verification"),T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I=i("./external/local-payment"),N="3.79.1",R=i("../lib/promise"),P=i("@braintree/wrap-promise"),k=i("../lib/braintree-error"),L=i("./shared/errors");function create(i){var d="Local Payment";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d})})).then((function(d){var p=d.getConfiguration();return i.client=d,!0!==p.gatewayConfiguration.paypalEnabled?R.reject(new k(L.LOCAL_PAYMENT_NOT_ENABLED)):(v.sendEvent(d,"local-payment.initialized"),new I(i)._initialize())}))}d.exports={create:P(create),VERSION:N}},{"../lib/analytics":125,"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./external/local-payment":169,"./shared/errors":171,"@braintree/wrap-promise":48}],171:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={LOCAL_PAYMENT_NOT_ENABLED:{type:v.types.MERCHANT,code:"LOCAL_PAYMENT_NOT_ENABLED",message:"LocalPayment is not enabled for this merchant."},LOCAL_PAYMENT_ALREADY_IN_PROGRESS:{type:v.types.MERCHANT,code:"LOCAL_PAYMENT_ALREADY_IN_PROGRESS",message:"LocalPayment payment is already in progress."},LOCAL_PAYMENT_CANCELED:{type:v.types.CUSTOMER,code:"LOCAL_PAYMENT_CANCELED",message:"Customer canceled the LocalPayment before authorizing."},LOCAL_PAYMENT_WINDOW_CLOSED:{type:v.types.CUSTOMER,code:"LOCAL_PAYMENT_WINDOW_CLOSED",message:"Customer closed LocalPayment window before authorizing."},LOCAL_PAYMENT_WINDOW_OPEN_FAILED:{type:v.types.MERCHANT,code:"LOCAL_PAYMENT_WINDOW_OPEN_FAILED",message:"LocalPayment window failed to open; make sure startPayment was called in response to a user action."},LOCAL_PAYMENT_START_PAYMENT_FAILED:{type:v.types.NETWORK,code:"LOCAL_PAYMENT_START_PAYMENT_FAILED",message:"LocalPayment startPayment failed."},LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION:{type:v.types.MERCHANT,code:"LOCAL_PAYMENT_START_PAYMENT_MISSING_REQUIRED_OPTION",message:"Missing required option for startPayment."},LOCAL_PAYMENT_TOKENIZATION_FAILED:{type:v.types.NETWORK,code:"LOCAL_PAYMENT_TOKENIZATION_FAILED",message:"Could not tokenize user's local payment method."},LOCAL_PAYMENT_INVALID_PAYMENT_OPTION:{type:v.types.MERCHANT,code:"LOCAL_PAYMENT_INVALID_PAYMENT_OPTION",message:"Local payment options are invalid."}}},{"../../lib/braintree-error":130}],172:[function(i,d,p){"use strict";var v=i("../../lib/promise"),S=i("../../lib/frame-service/external"),T=i("../../lib/braintree-error"),O=i("../shared/errors"),I="3.79.1",N=i("../../lib/methods"),R=i("@braintree/wrap-promise"),P=i("../../lib/analytics"),k=i("../../lib/convert-methods-to-error"),L=i("../../lib/convert-to-braintree-error"),M=i("../shared/constants"),F=i("../../lib/constants").INTEGRATION_TIMEOUT_MS;function Masterpass(i){var d=i.client.getConfiguration();this._client=i.client,this._assetsUrl=d.gatewayConfiguration.assetsUrl+"/web/"+I,this._isDebug=d.isDebug,this._authInProgress=!1,window.popupBridge&&"function"==typeof window.popupBridge.getReturnUrlPrefix?this._callbackUrl=window.popupBridge.getReturnUrlPrefix()+"return":this._callbackUrl=this._assetsUrl+"/html/redirect-frame"+(this._isDebug?"":".min")+".html"}function isMissingRequiredPayload(i){return[i.oauth_verifier,i.oauth_token,i.checkout_resource_url].some((function(i){return null==i||"null"===i}))}function hasMissingOption(i){var d,p;for(d=0;d<M.REQUIRED_OPTIONS_FOR_TOKENIZE.length;d++)if(p=M.REQUIRED_OPTIONS_FOR_TOKENIZE[d],!i.hasOwnProperty(p))return!0;return!1}Masterpass.prototype._initialize=function(){var i=this;return new v((function(d){var p=setTimeout((function(){P.sendEvent(i._client,"masterpass.load.timed-out")}),F);S.create({name:M.LANDING_FRAME_NAME,height:M.POPUP_HEIGHT,width:M.POPUP_WIDTH,dispatchFrameUrl:i._assetsUrl+"/html/dispatch-frame"+(i._isDebug?"":".min")+".html",openFrameUrl:i._assetsUrl+"/html/masterpass-landing-frame"+(i._isDebug?"":".min")+".html"},(function(v){i._frameService=v,clearTimeout(p),P.sendEvent(i._client,"masterpass.load.succeeded"),d(i)}))}))},Masterpass.prototype.tokenize=function(i){var d=this;return!i||hasMissingOption(i)?v.reject(new T(O.MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION)):d._authInProgress?v.reject(new T(O.MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS)):new v((function(p,v){d._navigateFrameToLoadingPage(i).catch(v),d._frameService.open(i.frameOptions,d._createFrameOpenHandler(p,v))}))},Masterpass.prototype._navigateFrameToLoadingPage=function(i){var d=this;return this._authInProgress=!0,this._client.request({method:"post",endpoint:"masterpass/request_token",data:{requestToken:{originUrl:window.location.protocol+"//"+window.location.hostname,subtotal:i.subtotal,currencyCode:i.currencyCode,callbackUrl:this._callbackUrl}}}).then((function(p){var v,S=d._assetsUrl+"/html/masterpass-loading-frame"+(d._isDebug?"":".min")+".html?",T=d._client.getConfiguration().gatewayConfiguration,O=i.config||{};v={environment:T.environment,requestToken:p.requestToken,callbackUrl:d._callbackUrl,merchantCheckoutId:T.masterpass.merchantCheckoutId,allowedCardTypes:T.masterpass.supportedNetworks,version:M.MASTERPASS_VERSION},Object.keys(O).forEach((function(i){"function"!=typeof O[i]&&(v[i]=O[i])})),S+=Object.keys(v).map((function(i){return i+"="+v[i]})).join("&"),d._frameService.redirect(S)})).catch((function(i){var p=i.details&&i.details.httpStatus;return d._closeWindow(),422===p?v.reject(L(i,O.MASTERPASS_INVALID_PAYMENT_OPTION)):v.reject(L(i,O.MASTERPASS_FLOW_FAILED))}))},Masterpass.prototype._createFrameOpenHandler=function(i,d){var p=this;return window.popupBridge?function(v,S){return p._authInProgress=!1,v?(P.sendEvent(p._client,"masterpass.tokenization.closed-popupbridge.by-user"),void d(L(v,O.MASTERPASS_POPUP_CLOSED))):S.queryItems?void p._tokenizeMasterpass(S.queryItems).then(i).catch(d):(P.sendEvent(p._client,"masterpass.tokenization.failed-popupbridge"),void d(new T(O.MASTERPASS_FLOW_FAILED)))}:function(v,S){if(v)return p._authInProgress=!1,"FRAME_SERVICE_FRAME_CLOSED"===v.code?(P.sendEvent(p._client,"masterpass.tokenization.closed.by-user"),void d(new T(O.MASTERPASS_POPUP_CLOSED))):v.code&&v.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(P.sendEvent(p._client,"masterpass.tokenization.failed.to-open"),void d(new T({code:O.MASTERPASS_POPUP_OPEN_FAILED.code,type:O.MASTERPASS_POPUP_OPEN_FAILED.type,message:O.MASTERPASS_POPUP_OPEN_FAILED.message,details:{originalError:v}}))):(P.sendEvent(p._client,"masterpass.tokenization.failed"),p._closeWindow(),void d(L(v,O.MASTERPASS_FLOW_FAILED)));p._tokenizeMasterpass(S).then(i).catch(d)}},Masterpass.prototype._tokenizeMasterpass=function(i){var d=this;return"success"!==i.mpstatus?(P.sendEvent(d._client,"masterpass.tokenization.closed.by-user"),d._closeWindow(),v.reject(new T(O.MASTERPASS_POPUP_CLOSED))):isMissingRequiredPayload(i)?(P.sendEvent(d._client,"masterpass.tokenization.closed.missing-payload"),d._closeWindow(),v.reject(new T(O.MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS))):d._client.request({endpoint:"payment_methods/masterpass_cards",method:"post",data:{masterpassCard:{checkoutResourceUrl:i.checkout_resource_url,requestToken:i.oauth_token,verifierToken:i.oauth_verifier}}}).then((function(i){return d._closeWindow(),window.popupBridge?P.sendEvent(d._client,"masterpass.tokenization.success-popupbridge"):P.sendEvent(d._client,"masterpass.tokenization.success"),i.masterpassCards[0]})).catch((function(i){return d._closeWindow(),window.popupBridge?P.sendEvent(d._client,"masterpass.tokenization.failed-popupbridge"):P.sendEvent(d._client,"masterpass.tokenization.failed"),v.reject(L(i,O.MASTERPASS_ACCOUNT_TOKENIZATION_FAILED))}))},Masterpass.prototype._closeWindow=function(){this._authInProgress=!1,this._frameService.close()},Masterpass.prototype.teardown=function(){var i=this;return new v((function(d){i._frameService.teardown(),k(i,N(Masterpass.prototype)),P.sendEvent(i._client,"masterpass.teardown-completed"),d()}))},d.exports=R.wrapPrototype(Masterpass)},{"../../lib/analytics":125,"../../lib/braintree-error":130,"../../lib/constants":132,"../../lib/convert-methods-to-error":133,"../../lib/convert-to-braintree-error":134,"../../lib/frame-service/external":145,"../../lib/methods":161,"../../lib/promise":163,"../shared/constants":175,"../shared/errors":176,"@braintree/wrap-promise":48}],173:[function(i,d,p){"use strict";var v=i("../lib/braintree-error"),S=i("../lib/basic-component-verification"),T=i("./shared/browser-detection"),O=i("./external/masterpass"),I=i("../lib/create-deferred-client"),N=i("../lib/create-assets-url"),R="3.79.1",P=i("./shared/errors"),k=i("../lib/promise"),L=i("@braintree/wrap-promise");function create(i){var d="Masterpass";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return isSupported()?k.resolve():k.reject(new v(P.MASTERPASS_BROWSER_NOT_SUPPORTED))})).then((function(){return I.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:N.create(i.authorization),name:d})})).then((function(d){return i.client=d,i.client.getConfiguration().gatewayConfiguration.masterpass?new O(i)._initialize():k.reject(new v(P.MASTERPASS_NOT_ENABLED))}))}function isSupported(){return Boolean(window.popupBridge||T.supportsPopups())}d.exports={create:L(create),isSupported,VERSION:R}},{"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./external/masterpass":172,"./shared/browser-detection":174,"./shared/errors":176,"@braintree/wrap-promise":48}],174:[function(i,d,p){"use strict";d.exports={supportsPopups:i("@braintree/browser-detection/supports-popups")}},{"@braintree/browser-detection/supports-popups":36}],175:[function(i,d,p){"use strict";d.exports={LANDING_FRAME_NAME:"braintreemasterpasslanding",POPUP_WIDTH:450,POPUP_HEIGHT:660,MASTERPASS_VERSION:"v6",REQUIRED_OPTIONS_FOR_TOKENIZE:["subtotal","currencyCode"]}},{}],176:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={MASTERPASS_BROWSER_NOT_SUPPORTED:{type:v.types.CUSTOMER,code:"MASTERPASS_BROWSER_NOT_SUPPORTED",message:"Browser is not supported."},MASTERPASS_NOT_ENABLED:{type:v.types.MERCHANT,code:"MASTERPASS_NOT_ENABLED",message:"Masterpass is not enabled for this merchant."},MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION:{type:v.types.MERCHANT,code:"MASTERPASS_TOKENIZE_MISSING_REQUIRED_OPTION",message:"Missing required option for tokenize."},MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS:{type:v.types.MERCHANT,code:"MASTERPASS_TOKENIZATION_ALREADY_IN_PROGRESS",message:"Masterpass tokenization is already in progress."},MASTERPASS_ACCOUNT_TOKENIZATION_FAILED:{type:v.types.NETWORK,code:"MASTERPASS_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's Masterpass account."},MASTERPASS_POPUP_OPEN_FAILED:{type:v.types.MERCHANT,code:"MASTERPASS_POPUP_OPEN_FAILED",message:"Masterpass popup failed to open. Make sure to tokenize in response to a user action, such as a click."},MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS:{type:v.types.MERCHANT,code:"MASTERPASS_POPUP_MISSING_REQUIRED_PARAMETERS",message:"Masterpass popup failed to return all required parameters needed to continue tokenization."},MASTERPASS_POPUP_CLOSED:{type:v.types.CUSTOMER,code:"MASTERPASS_POPUP_CLOSED",message:"Customer closed Masterpass popup before authorizing."},MASTERPASS_INVALID_PAYMENT_OPTION:{type:v.types.MERCHANT,code:"MASTERPASS_INVALID_PAYMENT_OPTION",message:"Masterpass payment options are invalid."},MASTERPASS_FLOW_FAILED:{type:v.types.NETWORK,code:"MASTERPASS_FLOW_FAILED",message:"Could not initialize Masterpass flow."}}},{"../../lib/braintree-error":130}],177:[function(i,d,p){"use strict";var v=i("../../lib/analytics"),S=i("../../lib/assign").assign,T=i("framebus"),O=i("../../lib/convert-methods-to-error"),I=i("../../lib/generate-google-pay-configuration"),N=i("@braintree/iframer"),R=i("@braintree/uuid"),P=i("../../lib/use-min"),k=i("../../lib/methods"),L=i("../../lib/promise"),M=i("@braintree/event-emitter"),F=i("../../lib/braintree-error"),U="3.79.1",j=i("../shared/constants"),H=j.events,V=j.errors,Y=i("@braintree/wrap-promise"),G={Visa:"visa",MasterCard:"mastercard","American Express":"amex","Diners Club":"diners",Discover:"discover",JCB:"jcb",UnionPay:"unionpay",Maestro:"maestro"},W="18278000977346790994";function composeUrl(i,d,p){return i+"/web/"+U+"/html/payment-request-frame"+P(p)+".html#"+d}function PaymentRequestComponent(i){var d=i.enabledPaymentMethods||{};M.call(this),this._componentId=R(),this._client=i.client,this._enabledPaymentMethods={basicCard:!1!==d.basicCard,googlePay:!1!==d.googlePay},this._googlePayVersion=2===i.googlePayVersion?2:1,this._googleMerchantId=W,this._supportedPaymentMethods=this._constructDefaultSupportedPaymentMethods(),this._defaultSupportedPaymentMethods=Object.keys(this._supportedPaymentMethods).map(function(i){return this._supportedPaymentMethods[i]}.bind(this)),this._bus=new T({channel:this._componentId})}M.createChild(PaymentRequestComponent),PaymentRequestComponent.prototype._constructDefaultSupportedPaymentMethods=function(){var i=this._client.getConfiguration(),d=i.gatewayConfiguration.androidPay,p=i.gatewayConfiguration.creditCards,v={};return this._enabledPaymentMethods.basicCard&&p&&p.supportedCardTypes.length>0&&(v.basicCard={supportedMethods:"basic-card",data:{supportedNetworks:p.supportedCardTypes.reduce((function(i,d){return d in G&&i.push(G[d]),i}),[])}}),this._enabledPaymentMethods.googlePay&&d&&d.enabled&&(v.googlePay={supportedMethods:"https://google.com/pay",data:I(i,this._googlePayVersion,this._googleMerchantId)}),v},PaymentRequestComponent.prototype.initialize=function(){var i=this._client.getConfiguration(),d=this;return this._frame=N({allowPaymentRequest:!0,name:"braintree-payment-request-frame",class:"braintree-payment-request-frame",height:0,width:0,style:{position:"absolute",left:"-9999px"},title:"Secure Payment Frame"}),0===this._defaultSupportedPaymentMethods.length?L.reject(new F(V.PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS)):new L((function(p){d._bus.on(H.FRAME_READY,(function(i){i(d._client)})),d._bus.on(H.FRAME_CAN_MAKE_REQUESTS,(function(){v.sendEvent(d._client,"payment-request.initialized"),d._bus.on(H.SHIPPING_ADDRESS_CHANGE,(function(i){var p={target:{shippingAddress:i},updateWith:function(i){d._bus.emit(H.UPDATE_SHIPPING_ADDRESS,i)}};d._emit("shippingAddressChange",p),d._emit("shippingaddresschange",p)})),d._bus.on(H.SHIPPING_OPTION_CHANGE,(function(i){var p={target:{shippingOption:i},updateWith:function(i){d._bus.emit(H.UPDATE_SHIPPING_OPTION,i)}};d._emit("shippingOptionChange",p),d._emit("shippingoptionchange",p)})),p(d)})),d._frame.src=composeUrl(i.gatewayConfiguration.assetsUrl,d._componentId,i.isDebug),document.body.appendChild(d._frame)}))},PaymentRequestComponent.prototype.createSupportedPaymentMethodsConfiguration=function(i,d){var p;if(!i)throw new F(V.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE);if(!this._enabledPaymentMethods[i])throw new F(V.PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED);return(p=S({},this._supportedPaymentMethods[i])).data=S({},p.data,d),p},PaymentRequestComponent.prototype.tokenize=function(i){var d=this;return new L((function(p,S){d._bus.emit(H.PAYMENT_REQUEST_INITIALIZED,{supportedPaymentMethods:i.supportedPaymentMethods||d._defaultSupportedPaymentMethods,details:i.details,options:i.options},(function(i){var T=i[0],O=i[1];T?S(d._formatTokenizationError(T)):(v.sendEvent(d._client,"payment-request.tokenize.succeeded"),p({nonce:O.nonce,type:O.type,description:O.description,details:{rawPaymentResponse:O.details.rawPaymentResponse,cardType:O.details.cardType,lastFour:O.details.lastFour,lastTwo:O.details.lastTwo},binData:O.binData}))}))}))},PaymentRequestComponent.prototype.canMakePayment=function(i){var d,p=this;return window.PaymentRequest?i.supportedPaymentMethods&&(i.supportedPaymentMethods.forEach((function(i){var p=i.supportedMethods;p in j.SUPPORTED_METHODS||(d=p)})),d)?L.reject(new F({type:V.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.type,code:V.PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD.code,message:d+" is not a supported payment method."})):new L((function(d,S){p._bus.emit(H.CAN_MAKE_PAYMENT,{supportedPaymentMethods:i.supportedPaymentMethods||p._defaultSupportedPaymentMethods,details:i.details,options:i.options},(function(i){var T=i[0],O=i[1];T?S(p._formatCanMakePaymentError(T)):(v.sendEvent(p._client,"payment-request.can-make-payment."+O),d(O))}))})):(v.sendEvent(p._client,"payment-request.can-make-payment.not-available"),L.resolve(!1))},PaymentRequestComponent.prototype.teardown=function(){return this._bus.teardown(),this._frame.parentNode.removeChild(this._frame),O(this,k(PaymentRequestComponent.prototype)),v.sendEvent(this._client,"payment-request.teardown-completed"),L.resolve()},PaymentRequestComponent.prototype._formatTokenizationError=function(i){var d;switch(i.name){case"AbortError":return d=new F({type:V.PAYMENT_REQUEST_CANCELED.type,code:V.PAYMENT_REQUEST_CANCELED.code,message:V.PAYMENT_REQUEST_CANCELED.message,details:{originalError:i}}),v.sendEvent(this._client,"payment-request.tokenize.canceled"),d;case"PAYMENT_REQUEST_INITIALIZATION_FAILED":d=new F({type:V.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:V.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:V.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:i}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_TOKENIZATION_ERROR":d=new F({type:V.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.type,code:V.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.code,message:V.PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE.message,details:{originalError:i}});break;case"BRAINTREE_GATEWAY_GOOGLE_PAYMENT_PARSING_ERROR":d=new F({type:V.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.type,code:V.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.code,message:V.PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR.message,details:{originalError:i}});break;default:d=new F({code:V.PAYMENT_REQUEST_NOT_COMPLETED.code,type:i.type||F.types.CUSTOMER,message:V.PAYMENT_REQUEST_NOT_COMPLETED.message,details:{originalError:i}})}return v.sendEvent(this._client,"payment-request.tokenize.failed"),d},PaymentRequestComponent.prototype._formatCanMakePaymentError=function(i){var d;switch(i.name){case"PAYMENT_REQUEST_INITIALIZATION_FAILED":d=new F({type:V.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.type,code:V.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.code,message:V.PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED.message,details:{originalError:i}});break;case"NotAllowedError":d=new F({type:V.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.type,code:V.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.code,message:V.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED.message,details:{originalError:i}});break;default:d=new F({code:V.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.code,type:V.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.type,message:V.PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED.message,details:{originalError:i}})}return v.sendEvent(this._client,"payment-request.can-make-payment.failed"),d},d.exports=Y.wrapPrototype(PaymentRequestComponent)},{"../../lib/analytics":125,"../../lib/assign":127,"../../lib/braintree-error":130,"../../lib/convert-methods-to-error":133,"../../lib/generate-google-pay-configuration":155,"../../lib/methods":161,"../../lib/promise":163,"../../lib/use-min":166,"../shared/constants":179,"@braintree/event-emitter":38,"@braintree/iframer":40,"@braintree/uuid":44,"@braintree/wrap-promise":48,framebus:57}],178:[function(i,d,p){"use strict";var v=i("./external/payment-request"),S=i("../lib/basic-component-verification"),T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I=i("@braintree/wrap-promise"),N="3.79.1";function create(i){var d="Payment Request";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d})})).then((function(d){return i.client=d,new v(i).initialize()}))}d.exports={create:I(create),VERSION:N}},{"../lib/basic-component-verification":128,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"./external/payment-request":177,"@braintree/wrap-promise":48}],179:[function(i,d,p){"use strict";var v=i("../../lib/enumerate"),S=i("./errors"),T={};T.events=v(["CAN_MAKE_PAYMENT","FRAME_READY","FRAME_CAN_MAKE_REQUESTS","PAYMENT_REQUEST_INITIALIZED","SHIPPING_ADDRESS_CHANGE","UPDATE_SHIPPING_ADDRESS","SHIPPING_OPTION_CHANGE","UPDATE_SHIPPING_OPTION"],"payment-request:"),T.errors=S,T.SUPPORTED_METHODS={"basic-card":!0,"https://google.com/pay":!0},d.exports=T},{"../../lib/enumerate":140,"./errors":180}],180:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS:{type:v.types.MERCHANT,code:"PAYMENT_REQUEST_NO_VALID_SUPPORTED_PAYMENT_METHODS",message:"There are no supported payment methods associated with this account."},PAYMENT_REQUEST_CANCELED:{type:v.types.CUSTOMER,code:"PAYMENT_REQUEST_CANCELED",message:"Payment request was canceled."},PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED:{type:v.types.MERCHANT,code:"PAYMENT_REQUEST_INITIALIZATION_MISCONFIGURED",message:"Something went wrong when configuring the payment request."},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED:{type:v.types.UNKNOWN,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_FAILED",message:"Something went wrong when calling `canMakePayment`"},PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED:{type:v.types.MERCHANT,code:"PAYMENT_REQUEST_CAN_MAKE_PAYMENT_NOT_ALLOWED",message:"Something went wrong when calling `canMakePayment`. Most likely, `canMakePayment` was called multiple times with different supportedMethods configurations."},PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD:{type:v.types.MERCHANT,code:"PAYMENT_REQUEST_UNSUPPORTED_PAYMENT_METHOD"},PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE:{type:v.types.MERCHANT,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_FAILED_TO_TOKENIZE",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR:{type:v.types.UNKNOWN,code:"PAYMENT_REQUEST_GOOGLE_PAYMENT_PARSING_ERROR",message:"Something went wrong when tokenizing the Google Pay card."},PAYMENT_REQUEST_NOT_COMPLETED:{code:"PAYMENT_REQUEST_NOT_COMPLETED",message:"Payment request could not be completed."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE:{type:v.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_MUST_INCLUDE_TYPE",message:"createSupportedPaymentMethodsConfiguration must include a type parameter."},PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED:{type:v.types.MERCHANT,code:"PAYMENT_REQUEST_CREATE_SUPPORTED_PAYMENT_METHODS_CONFIGURATION_TYPE_NOT_ENABLED",message:"createSupportedPaymentMethodsConfiguration type parameter must be valid or enabled."}}},{"../../lib/braintree-error":130}],181:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={PAYPAL_NOT_ENABLED:{type:v.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED:{type:v.types.MERCHANT,code:"PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED",message:"A linked PayPal Sandbox account is required to use PayPal Checkout in Sandbox. See https://developers.braintreepayments.com/guides/paypal/testing-go-live/#linked-paypal-testing for details on linking your PayPal sandbox with Braintree."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:v.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:v.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:v.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED:{type:v.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED"},PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED:{type:v.types.NETWORK,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED",message:"Something went wrong when setting up the checkout workflow."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED:{type:v.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to initiate the vault checkout in response to a user action."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED:{type:v.types.CUSTOMER,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS:{type:v.types.MERCHANT,code:"PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS",message:"Vault initiated checkout already in progress."},PAYPAL_INVALID_PAYMENT_OPTION:{type:v.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../lib/braintree-error":130}],182:[function(i,d,p){"use strict";var v=i("../lib/basic-component-verification"),S=i("@braintree/wrap-promise"),T=i("./paypal-checkout"),O="3.79.1";function create(i){var d="PayPal Checkout";return v.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return new T(i)._initialize(i)}))}function isSupported(){return!0}d.exports={create:S(create),isSupported,VERSION:O}},{"../lib/basic-component-verification":128,"./paypal-checkout":183,"@braintree/wrap-promise":48}],183:[function(i,d,p){"use strict";var v=i("../lib/analytics"),S=i("../lib/assign").assign,T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I=i("../lib/promise"),N=i("@braintree/extended-promise"),R=i("@braintree/wrap-promise"),P=i("../lib/braintree-error"),k=i("../lib/convert-to-braintree-error"),L=i("./errors"),M=i("../paypal/shared/constants"),F=i("../lib/frame-service/external"),U=i("../lib/create-authorization-data"),j=i("../lib/methods"),H=i("../lib/use-min"),V=i("../lib/convert-methods-to-error"),Y=i("../lib/querystring"),G="3.79.1",W=i("../lib/constants").INTEGRATION_TIMEOUT_MS,q=["amount","currency","vaultInitiatedCheckoutPaymentMethodToken"],Q="https://www.{ENV}paypal.com/smart/buttons/preload";function PayPalCheckout(i){this._merchantAccountId=i.merchantAccountId,this._autoSetDataUserIdToken=Boolean(i.autoSetDataUserIdToken)}PayPalCheckout.prototype._initialize=function(i){var d;return i.client?(d=i.client.getConfiguration(),this._authorizationInformation={fingerprint:d.authorizationFingerprint,environment:d.gatewayConfiguration.environment}):(d=U(i.authorization),this._authorizationInformation={fingerprint:d.attrs.authorizationFingerprint,environment:d.environment}),this._clientPromise=T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:"PayPal Checkout"}).then(function(i){return this._configuration=i.getConfiguration(),this._merchantAccountId||(this._configuration.gatewayConfiguration.paypalEnabled?!0===this._configuration.gatewayConfiguration.paypal.environmentNoNetwork&&(this._setupError=new P(L.PAYPAL_SANDBOX_ACCOUNT_NOT_LINKED)):this._setupError=new P(L.PAYPAL_NOT_ENABLED)),this._setupError?I.reject(this._setupError):(v.sendEvent(i,"paypal-checkout.initialized"),this._frameServicePromise=this._setupFrameService(i),i)}.bind(this)),i.client?this._clientPromise.then(function(){return this}.bind(this)):I.resolve(this)},PayPalCheckout.prototype._setupFrameService=function(i){var d=new N,p=i.getConfiguration(),S=setTimeout((function(){v.sendEvent(i,"paypal-checkout.frame-service.timed-out"),d.reject(new P(L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_SETUP_FAILED))}),W);return this._assetsUrl=p.gatewayConfiguration.paypal.assetsUrl+"/web/"+G,this._isDebug=p.isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+H(this._isDebug)+".html",F.create({name:"braintreepaypallanding",dispatchFrameUrl:this._assetsUrl+"/html/dispatch-frame"+H(this._isDebug)+".html",openFrameUrl:this._loadingFrameUrl},function(i){this._frameService=i,clearTimeout(S),d.resolve()}.bind(this)),d},PayPalCheckout.prototype.createPayment=function(i){return i&&M.FLOW_ENDPOINTS.hasOwnProperty(i.flow)?(v.sendEvent(this._clientPromise,"paypal-checkout.createPayment"),this._createPaymentResource(i).then((function(d){return"checkout"===i.flow?d.paymentResource.redirectUrl.match(/EC-\w+/)[0]:d.agreementSetup.tokenId}))):I.reject(new P(L.PAYPAL_FLOW_OPTION_REQUIRED))},PayPalCheckout.prototype._createPaymentResource=function(i,d){var p=this,S="paypal_hermes/"+M.FLOW_ENDPOINTS[i.flow];return delete this.intentFromCreatePayment,d=d||{},!0===i.offerCredit&&v.sendEvent(this._clientPromise,"paypal-checkout.credit.offered"),this._clientPromise.then((function(v){return v.request({endpoint:S,method:"post",data:p._formatPaymentResourceData(i,d)}).then((function(d){return p.intentFromCreatePayment=i.intent,d}))})).catch((function(i){return p._setupError?I.reject(p._setupError):422===(i.details&&i.details.httpStatus)?I.reject(new P({type:L.PAYPAL_INVALID_PAYMENT_OPTION.type,code:L.PAYPAL_INVALID_PAYMENT_OPTION.code,message:L.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:i}})):I.reject(k(i,{type:L.PAYPAL_FLOW_FAILED.type,code:L.PAYPAL_FLOW_FAILED.code,message:L.PAYPAL_FLOW_FAILED.message}))}))},PayPalCheckout.prototype.startVaultInitiatedCheckout=function(i){var d,p=this;return this._vaultInitiatedCheckoutInProgress?(v.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.error.already-in-progress"),I.reject(new P(L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_IN_PROGRESS))):(q.forEach((function(p){i.hasOwnProperty(p)||(d=p)})),d?I.reject(new P({type:L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.type,code:L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_PARAM_REQUIRED.code,message:"Required param "+d+" is missing."})):(this._vaultInitiatedCheckoutInProgress=!0,this._addModalBackdrop(i),i=S({},i,{flow:"checkout"}),v.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.started"),this._waitForVaultInitiatedCheckoutDependencies().then((function(){var d=new N,v=p._createPaymentResource(i,{returnUrl:p._constructVaultCheckutUrl("redirect-frame"),cancelUrl:p._constructVaultCheckutUrl("cancel-frame")}).then((function(i){var v=i.paymentResource.redirectUrl;return p._frameService.redirect(v),d}));return p._frameService.open({},p._createFrameServiceCallback(d)),v})).catch((function(i){return p._vaultInitiatedCheckoutInProgress=!1,p._removeModalBackdrop(),"FRAME_SERVICE_FRAME_CLOSED"===i.code?(v.sendEvent(p._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-customer"),I.reject(new P(L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_CANCELED))):(p._frameService&&p._frameService.close(),i.code&&i.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1?(v.sendEvent(p._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.failed.popup-not-opened"),I.reject(new P({code:L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.code,type:L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.type,message:L.PAYPAL_START_VAULT_INITIATED_CHECKOUT_POPUP_OPEN_FAILED.message,details:{originalError:i}}))):I.reject(i))})).then((function(i){return p._frameService.close(),p._vaultInitiatedCheckoutInProgress=!1,p._removeModalBackdrop(),v.sendEvent(p._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.succeeded"),I.resolve(i)}))))},PayPalCheckout.prototype._addModalBackdrop=function(i){i.optOutOfModalBackdrop||(this._modalBackdrop||(this._modalBackdrop=document.createElement("div"),this._modalBackdrop.setAttribute("data-braintree-paypal-vault-initiated-checkout-modal",!0),this._modalBackdrop.style.position="fixed",this._modalBackdrop.style.top=0,this._modalBackdrop.style.bottom=0,this._modalBackdrop.style.left=0,this._modalBackdrop.style.right=0,this._modalBackdrop.style.zIndex=9999,this._modalBackdrop.style.background="black",this._modalBackdrop.style.opacity="0.7",this._modalBackdrop.addEventListener("click",function(){this.focusVaultInitiatedCheckoutWindow()}.bind(this))),document.body.appendChild(this._modalBackdrop))},PayPalCheckout.prototype._removeModalBackdrop=function(){this._modalBackdrop&&this._modalBackdrop.parentNode&&this._modalBackdrop.parentNode.removeChild(this._modalBackdrop)},PayPalCheckout.prototype.closeVaultInitiatedCheckoutWindow=function(){return this._vaultInitiatedCheckoutInProgress&&v.sendEvent(this._clientPromise,"paypal-checkout.startVaultInitiatedCheckout.canceled.by-merchant"),this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.close()}.bind(this))},PayPalCheckout.prototype.focusVaultInitiatedCheckoutWindow=function(){return this._waitForVaultInitiatedCheckoutDependencies().then(function(){this._frameService.focus()}.bind(this))},PayPalCheckout.prototype._createFrameServiceCallback=function(i){var d=this;return function(p,v){p?i.reject(p):v&&(d._frameService.redirect(d._loadingFrameUrl),d.tokenizePayment({paymentToken:v.token,payerID:v.PayerID,paymentID:v.paymentId}).then((function(d){i.resolve(d)})).catch((function(d){i.reject(d)})))}},PayPalCheckout.prototype._waitForVaultInitiatedCheckoutDependencies=function(){var i=this;return this._clientPromise.then((function(){return i._frameServicePromise}))},PayPalCheckout.prototype._constructVaultCheckutUrl=function(i){var d=this._frameService._serviceId;return this._assetsUrl+"/html/"+i+H(this._isDebug)+".html?channel="+d},PayPalCheckout.prototype.tokenizePayment=function(i){var d,p=this,S=!0,T={flow:i.billingToken&&!i.paymentID?"vault":"checkout",intent:i.intent||this.intentFromCreatePayment},O={ecToken:i.paymentToken,billingToken:i.billingToken,payerId:i.payerID,paymentId:i.paymentID,shippingOptionsId:i.shippingOptionsId};return i.hasOwnProperty("vault")&&(S=i.vault),T.vault=S,v.sendEvent(this._clientPromise,"paypal-checkout.tokenization.started"),this._clientPromise.then((function(i){return i.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:p._formatTokenizeData(T,O)})})).then((function(i){return d=p._formatTokenizePayload(i),v.sendEvent(p._clientPromise,"paypal-checkout.tokenization.success"),d.creditFinancingOffered&&v.sendEvent(p._clientPromise,"paypal-checkout.credit.accepted"),d})).catch((function(i){return p._setupError?I.reject(p._setupError):(v.sendEvent(p._clientPromise,"paypal-checkout.tokenization.failed"),I.reject(k(i,{type:L.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:L.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:L.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message})))}))},PayPalCheckout.prototype.getClientId=function(){return this._clientPromise.then((function(i){return i.getConfiguration().gatewayConfiguration.paypal.clientId}))},PayPalCheckout.prototype.loadPayPalSDK=function(i){var d,p=new N,v=i&&i.dataAttributes||{},T=v["user-id-token"]||v["data-user-id-token"];return T||(T=this._authorizationInformation.fingerprint&&this._authorizationInformation.fingerprint.split("?")[0]),this._paypalScript=document.createElement("script"),delete(i=S({},{components:"buttons"},i)).dataAttributes,i.vault?i.intent=i.intent||"tokenize":(i.intent=i.intent||"authorize",i.currency=i.currency||"USD"),d="https://www.paypal.com/sdk/js?",this._paypalScript.onload=function(){p.resolve()},Object.keys(v).forEach(function(i){this._paypalScript.setAttribute("data-"+i.replace(/^data\-/,""),v[i])}.bind(this)),(i["client-id"]?I.resolve(i["client-id"]):this.getClientId()).then(function(p){i["client-id"]=p,this._autoSetDataUserIdToken&&T&&(this._paypalScript.setAttribute("data-user-id-token",T),this._attachPreloadPixel({id:p,userIdToken:T,amount:v.amount,currency:i.currency,merchantId:i["merchant-id"]})),this._paypalScript.src=Y.queryify(d,i),document.head.insertBefore(this._paypalScript,document.head.firstElementChild)}.bind(this)),p.then(function(){return this}.bind(this))},PayPalCheckout.prototype._attachPreloadPixel=function(i){var d,p=i.id,v=i.userIdToken,S="production"===this._authorizationInformation.environment?"":"sandbox.",T=Q.replace("{ENV}",S),O={"client-id":p,"user-id-token":v};i.amount&&(O.amount=i.amount),i.currency&&(O.currency=i.currency),i.merchantId&&(O["merchant-id"]=i.merchantId),(d=new XMLHttpRequest).open("GET",Y.queryify(T,O)),d.send()},PayPalCheckout.prototype._formatPaymentResourceData=function(i,d){var p,v=this._configuration.gatewayConfiguration,S=i.intent,T={returnUrl:d.returnUrl||"https://www.paypal.com/checkoutnow/error",cancelUrl:d.cancelUrl||"https://www.paypal.com/checkoutnow/error",offerPaypalCredit:!0===i.offerCredit,merchantAccountId:this._merchantAccountId,experienceProfile:{brandName:i.displayName||v.paypal.displayName,localeCode:i.locale,noShipping:(!i.enableShippingAddress).toString(),addressOverride:!1===i.shippingAddressEditable,landingPageType:i.landingPageType},shippingOptions:i.shippingOptions};if("checkout"===i.flow){for(p in T.amount=i.amount,T.currencyIsoCode=i.currency,T.requestBillingAgreement=i.requestBillingAgreement,S&&("capture"===S&&(S="sale"),T.intent=S),i.hasOwnProperty("lineItems")&&(T.lineItems=i.lineItems),i.hasOwnProperty("vaultInitiatedCheckoutPaymentMethodToken")&&(T.vaultInitiatedCheckoutPaymentMethodToken=i.vaultInitiatedCheckoutPaymentMethodToken),i.hasOwnProperty("shippingOptions")&&(T.shippingOptions=i.shippingOptions),i.shippingAddressOverride)i.shippingAddressOverride.hasOwnProperty(p)&&(T[p]=i.shippingAddressOverride[p]);i.hasOwnProperty("billingAgreementDetails")&&(T.billingAgreementDetails=i.billingAgreementDetails)}else T.shippingAddress=i.shippingAddressOverride,i.billingAgreementDescription&&(T.description=i.billingAgreementDescription);return T},PayPalCheckout.prototype._formatTokenizeData=function(i,d){var p=this._configuration,v=p.gatewayConfiguration,S="TOKENIZATION_KEY"===p.authorizationType,T="vault"===i.flow,O={paypalAccount:{correlationId:d.billingToken||d.ecToken,options:{validate:T&&!S&&i.vault}}};return T?O.paypalAccount.billingAgreementToken=d.billingToken:(O.paypalAccount.paymentToken=d.paymentId,O.paypalAccount.payerId=d.payerId,O.paypalAccount.unilateral=v.paypal.unvettedMerchant,i.intent&&(O.paypalAccount.intent=i.intent)),this._merchantAccountId&&(O.merchantAccountId=this._merchantAccountId),O},PayPalCheckout.prototype._formatTokenizePayload=function(i){var d,p={};return i.paypalAccounts&&(p=i.paypalAccounts[0]),d={nonce:p.nonce,details:{},type:p.type},p.details&&p.details.payerInfo&&(d.details=p.details.payerInfo),p.details&&p.details.creditFinancingOffered&&(d.creditFinancingOffered=p.details.creditFinancingOffered),p.details&&p.details.shippingOptionId&&(d.shippingOptionId=p.details.shippingOptionId),p.details&&p.details.cobrandedCardLabel&&(d.cobrandedCardLabel=p.details.cobrandedCardLabel),d},PayPalCheckout.prototype.teardown=function(){var i=this;return V(this,j(PayPalCheckout.prototype)),this._paypalScript&&this._paypalScript.parentNode&&this._paypalScript.parentNode.removeChild(this._paypalScript),this._frameServicePromise.catch((function(){})).then((function(){return i._frameService?i._frameService.teardown():I.resolve()}))},d.exports=R.wrapPrototype(PayPalCheckout)},{"../lib/analytics":125,"../lib/assign":127,"../lib/braintree-error":130,"../lib/constants":132,"../lib/convert-methods-to-error":133,"../lib/convert-to-braintree-error":134,"../lib/create-assets-url":135,"../lib/create-authorization-data":136,"../lib/create-deferred-client":137,"../lib/frame-service/external":145,"../lib/methods":161,"../lib/promise":163,"../lib/querystring":164,"../lib/use-min":166,"../paypal/shared/constants":186,"./errors":181,"@braintree/extended-promise":39,"@braintree/wrap-promise":48}],184:[function(i,d,p){"use strict";var v=i("../../lib/frame-service/external"),S=i("../../lib/braintree-error"),T=i("../../lib/convert-to-braintree-error"),O=i("../../lib/use-min"),I=i("../../lib/once"),N="3.79.1",R=i("../shared/constants"),P=i("../../lib/constants").INTEGRATION_TIMEOUT_MS,k=i("../../lib/analytics"),L=i("../../lib/methods"),M=i("../../lib/deferred"),F=i("../shared/errors"),U=i("../../lib/convert-methods-to-error"),j=i("../../lib/querystring"),H=i("../../lib/promise"),V=i("@braintree/wrap-promise");function PayPal(i){this._client=i.client,this._assetsUrl=i.client.getConfiguration().gatewayConfiguration.paypal.assetsUrl+"/web/"+N,this._isDebug=i.client.getConfiguration().isDebug,this._loadingFrameUrl=this._assetsUrl+"/html/paypal-landing-frame"+O(this._isDebug)+".html",this._authorizationInProgress=!1}PayPal.prototype._initialize=function(){var i=this,d=this._client,p=setTimeout((function(){k.sendEvent(d,"paypal.load.timed-out")}),P);return new H((function(S){v.create({name:R.LANDING_FRAME_NAME,dispatchFrameUrl:i._assetsUrl+"/html/dispatch-frame"+O(i._isDebug)+".html",openFrameUrl:i._loadingFrameUrl},(function(v){i._frameService=v,clearTimeout(p),k.sendEvent(d,"paypal.load.succeeded"),S(i)}))}))},PayPal.prototype.tokenize=function(i,d){var p,v,T=this,O=this._client;return d&&(d=I(M(d))),i&&R.FLOW_ENDPOINTS.hasOwnProperty(i.flow)?(p=new H((function(d,p){T._authorizationInProgress?(k.sendEvent(O,"paypal.tokenization.error.already-opened"),p(new S(F.PAYPAL_TOKENIZATION_REQUEST_ACTIVE))):(T._authorizationInProgress=!0,window.popupBridge||k.sendEvent(O,"paypal.tokenization.opened"),!0===i.offerCredit&&k.sendEvent(O,"paypal.credit.offered"),!0===i.offerPayLater&&k.sendEvent(O,"paypal.paylater.offered"),T._navigateFrameToAuth(i).catch(p),T._frameService.open({},T._createFrameServiceCallback(i,d,p)))})),d?(p.then((function(i){d(null,i)})).catch(d),this._frameService.createHandler({beforeClose:function(){k.sendEvent(O,"paypal.tokenization.closed.by-merchant")}})):p):(v=new S(F.PAYPAL_FLOW_OPTION_REQUIRED),d?(d(v),this._frameService.createNoopHandler()):H.reject(v))},PayPal.prototype._createFrameServiceCallback=function(i,d,p){var v=this,T=this._client;return window.popupBridge?function(O,I){var N=I&&I.path&&"/cancel"===I.path.substring(0,7);v._authorizationInProgress=!1,O||N?(k.sendEvent(T,"paypal.tokenization.closed-popupbridge.by-user"),p(new S(F.PAYPAL_POPUP_CLOSED))):I&&v._tokenizePayPal(i,I.queryItems).then(d).catch(p)}:function(O,I){v._authorizationInProgress=!1,O?"FRAME_SERVICE_FRAME_CLOSED"===O.code?(k.sendEvent(T,"paypal.tokenization.closed.by-user"),p(new S(F.PAYPAL_POPUP_CLOSED))):O.code&&O.code.indexOf("FRAME_SERVICE_FRAME_OPEN_FAILED")>-1&&p(new S({code:F.PAYPAL_POPUP_OPEN_FAILED.code,type:F.PAYPAL_POPUP_OPEN_FAILED.type,message:F.PAYPAL_POPUP_OPEN_FAILED.message,details:{originalError:O}})):I&&v._tokenizePayPal(i,I).then(d).catch(p)}},PayPal.prototype._tokenizePayPal=function(i,d){var p=this,v=this._client;return window.popupBridge||this._frameService.redirect(this._loadingFrameUrl),v.request({endpoint:"payment_methods/paypal_accounts",method:"post",data:this._formatTokenizeData(i,d)}).then((function(i){var d=p._formatTokenizePayload(i);return window.popupBridge?k.sendEvent(v,"paypal.tokenization.success-popupbridge"):k.sendEvent(v,"paypal.tokenization.success"),d.creditFinancingOffered&&k.sendEvent(v,"paypal.credit.accepted"),p._frameService.close(),d})).catch((function(i){return window.popupBridge?k.sendEvent(v,"paypal.tokenization.failed-popupbridge"):k.sendEvent(v,"paypal.tokenization.failed"),p._frameService.close(),H.reject(T(i,{type:F.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.type,code:F.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.code,message:F.PAYPAL_ACCOUNT_TOKENIZATION_FAILED.message}))}))},PayPal.prototype._formatTokenizePayload=function(i){var d,p={};return i.paypalAccounts&&(p=i.paypalAccounts[0]),d={nonce:p.nonce,details:{},type:p.type},p.details&&p.details.payerInfo&&(d.details=p.details.payerInfo),p.details&&p.details.creditFinancingOffered&&(d.creditFinancingOffered=p.details.creditFinancingOffered),d},PayPal.prototype._formatTokenizeData=function(i,d){var p=this._client.getConfiguration(),v=p.gatewayConfiguration,S="TOKENIZATION_KEY"===p.authorizationType,T={paypalAccount:{correlationId:d.ba_token||d.token,options:{validate:"vault"===i.flow&&!S}}};return d.ba_token?T.paypalAccount.billingAgreementToken=d.ba_token:(T.paypalAccount.paymentToken=d.paymentId,T.paypalAccount.payerId=d.PayerID,T.paypalAccount.unilateral=v.paypal.unvettedMerchant,i.hasOwnProperty("intent")&&(T.paypalAccount.intent=i.intent)),T},PayPal.prototype._navigateFrameToAuth=function(i){var d=this,p=this._client,v="paypal_hermes/"+R.FLOW_ENDPOINTS[i.flow];return p.request({endpoint:v,method:"post",data:this._formatPaymentResourceData(i)}).then((function(v){var S;S="checkout"===i.flow?v.paymentResource.redirectUrl:v.agreementSetup.approvalUrl,"commit"===i.useraction&&(S=j.queryify(S,{useraction:"commit"})),window.popupBridge&&k.sendEvent(p,"paypal.tokenization.opened-popupbridge"),d._frameService.redirect(S)})).catch((function(i){var p=i.details&&i.details.httpStatus;return d._frameService.close(),d._authorizationInProgress=!1,422===p?H.reject(new S({type:F.PAYPAL_INVALID_PAYMENT_OPTION.type,code:F.PAYPAL_INVALID_PAYMENT_OPTION.code,message:F.PAYPAL_INVALID_PAYMENT_OPTION.message,details:{originalError:i}})):H.reject(T(i,{type:F.PAYPAL_FLOW_FAILED.type,code:F.PAYPAL_FLOW_FAILED.code,message:F.PAYPAL_FLOW_FAILED.message}))}))},PayPal.prototype._formatPaymentResourceData=function(i){var d,p=this._client.getConfiguration().gatewayConfiguration,v=this._frameService._serviceId,S={returnUrl:p.paypal.assetsUrl+"/web/"+N+"/html/redirect-frame"+O(this._isDebug)+".html?channel="+v,cancelUrl:p.paypal.assetsUrl+"/web/"+N+"/html/cancel-frame"+O(this._isDebug)+".html?channel="+v,offerPaypalCredit:!0===i.offerCredit,offerPayLater:!0===i.offerPayLater,experienceProfile:{brandName:i.displayName||p.paypal.displayName,localeCode:i.locale,noShipping:(!i.enableShippingAddress).toString(),addressOverride:!1===i.shippingAddressEditable,landingPageType:i.landingPageType}};if(window.popupBridge&&"function"==typeof window.popupBridge.getReturnUrlPrefix&&(S.returnUrl=window.popupBridge.getReturnUrlPrefix()+"return",S.cancelUrl=window.popupBridge.getReturnUrlPrefix()+"cancel"),"checkout"===i.flow)for(d in S.amount=i.amount,S.currencyIsoCode=i.currency,i.hasOwnProperty("intent")&&(S.intent=i.intent),i.shippingAddressOverride)i.shippingAddressOverride.hasOwnProperty(d)&&(S[d]=i.shippingAddressOverride[d]);else S.shippingAddress=i.shippingAddressOverride,i.billingAgreementDescription&&(S.description=i.billingAgreementDescription);return S},PayPal.prototype.closeWindow=function(){this._authorizationInProgress&&k.sendEvent(this._client,"paypal.tokenize.closed.by-merchant"),this._frameService.close()},PayPal.prototype.focusWindow=function(){this._frameService.focus()},PayPal.prototype.teardown=V((function(){var i=this;return i._frameService.teardown(),U(i,L(PayPal.prototype)),k.sendEvent(i._client,"paypal.teardown-completed"),H.resolve()})),d.exports=PayPal},{"../../lib/analytics":125,"../../lib/braintree-error":130,"../../lib/constants":132,"../../lib/convert-methods-to-error":133,"../../lib/convert-to-braintree-error":134,"../../lib/deferred":138,"../../lib/frame-service/external":145,"../../lib/methods":161,"../../lib/once":162,"../../lib/promise":163,"../../lib/querystring":164,"../../lib/use-min":166,"../shared/constants":186,"../shared/errors":187,"@braintree/wrap-promise":48}],185:[function(i,d,p){"use strict";var v=i("../lib/analytics"),S=i("../lib/basic-component-verification"),T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I=i("../lib/braintree-error"),N=i("./shared/errors"),R=i("./external/paypal"),P="3.79.1",k=i("@braintree/wrap-promise"),L=i("../lib/promise");function create(i){var d="PayPal";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d})})).then((function(d){var p=d.getConfiguration();return i.client=d,!0!==p.gatewayConfiguration.paypalEnabled?L.reject(new I(N.PAYPAL_NOT_ENABLED)):(v.sendEvent(i.client,"paypal.initialized"),new R(i)._initialize())}))}function isSupported(){return!0}d.exports={create:k(create),isSupported,VERSION:P}},{"../lib/analytics":125,"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./external/paypal":184,"./shared/errors":187,"@braintree/wrap-promise":48}],186:[function(i,d,p){"use strict";d.exports={LANDING_FRAME_NAME:"braintreepaypallanding",FLOW_ENDPOINTS:{checkout:"create_payment_resource",vault:"setup_billing_agreement"}}},{}],187:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={PAYPAL_NOT_ENABLED:{type:v.types.MERCHANT,code:"PAYPAL_NOT_ENABLED",message:"PayPal is not enabled for this merchant."},PAYPAL_TOKENIZATION_REQUEST_ACTIVE:{type:v.types.MERCHANT,code:"PAYPAL_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},PAYPAL_ACCOUNT_TOKENIZATION_FAILED:{type:v.types.NETWORK,code:"PAYPAL_ACCOUNT_TOKENIZATION_FAILED",message:"Could not tokenize user's PayPal account."},PAYPAL_FLOW_FAILED:{type:v.types.NETWORK,code:"PAYPAL_FLOW_FAILED",message:"Could not initialize PayPal flow."},PAYPAL_FLOW_OPTION_REQUIRED:{type:v.types.MERCHANT,code:"PAYPAL_FLOW_OPTION_REQUIRED",message:"PayPal flow property is invalid or missing."},PAYPAL_POPUP_OPEN_FAILED:{type:v.types.MERCHANT,code:"PAYPAL_POPUP_OPEN_FAILED",message:"PayPal popup failed to open, make sure to tokenize in response to a user action."},PAYPAL_POPUP_CLOSED:{type:v.types.CUSTOMER,code:"PAYPAL_POPUP_CLOSED",message:"Customer closed PayPal popup before authorizing."},PAYPAL_INVALID_PAYMENT_OPTION:{type:v.types.MERCHANT,code:"PAYPAL_INVALID_PAYMENT_OPTION",message:"PayPal payment options are invalid."}}},{"../../lib/braintree-error":130}],188:[function(i,d,p){"use strict";var v=i("@braintree/wrap-promise"),S=i("../lib/basic-component-verification"),T=i("./preferred-payment-methods"),O="3.79.1";function create(i){var d="PreferredPaymentMethods";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return(new T).initialize(i)}))}d.exports={create:v(create),VERSION:O}},{"../lib/basic-component-verification":128,"./preferred-payment-methods":189,"@braintree/wrap-promise":48}],189:[function(i,d,p){"use strict";var v=i("@braintree/wrap-promise"),S=i("../lib/analytics"),T=i("../lib/create-assets-url"),O=i("../lib/create-deferred-client"),I=i("../lib/promise");function PreferredPaymentMethods(){}PreferredPaymentMethods.prototype.initialize=function(i){var d=this;return this._clientPromise=O.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:T.create(i.authorization),name:"PreferredPaymentMethods"}).catch((function(i){return d._setupError=i,I.reject(i)})),S.sendEvent(this._clientPromise,"preferred-payment-methods.initialized"),I.resolve(this)},PreferredPaymentMethods.prototype.fetchPreferredPaymentMethods=function(){var i,d=this;return this._clientPromise.then((function(d){return(i=d).request({api:"graphQLApi",data:{query:"query PreferredPaymentMethods { preferredPaymentMethods { paypalPreferred venmoPreferred } }"}})})).then((function(d){var p=d.data.preferredPaymentMethods.paypalPreferred,v=d.data.preferredPaymentMethods.venmoPreferred;return S.sendEvent(i,"preferred-payment-methods.paypal.api-detected."+p),S.sendEvent(i,"preferred-payment-methods.venmo.api-detected."+v),{paypalPreferred:p,venmoPreferred:v}})).catch((function(){return d._setupError?I.reject(d._setupError):(S.sendEvent(i,"preferred-payment-methods.api-error"),{paypalPreferred:!1,venmoPreferred:!1})}))},d.exports=v.wrapPrototype(PreferredPaymentMethods)},{"../lib/analytics":125,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"@braintree/wrap-promise":48}],190:[function(i,d,p){"use strict";var v=i("../../../lib/assign").assign,S=i("../../../lib/analytics"),T=i("../../../lib/braintree-error"),O=i("../../../lib/promise"),I=i("../../../lib/is-verified-domain"),N=i("@braintree/extended-promise"),R=i("@braintree/event-emitter"),P=i("../../shared/errors"),k=i("@braintree/iframer"),L=i("framebus"),M=i("../../shared/constants"),F=i("@braintree/uuid"),U=i("../../shared/events"),j=i("../../../lib/use-min"),H=i("../../../lib/constants").BUS_CONFIGURATION_REQUEST_EVENT,V="3.79.1",Y=400,G=400;function BaseFramework(i){R.call(this),this._client=i.client,this._createPromise=i.createPromise,this._createOptions=i,this._client?(this._isDebug=this._client.getConfiguration().isDebug,this._assetsUrl=this._client.getConfiguration().gatewayConfiguration.assetsUrl):(this._isDebug=Boolean(i.isDebug),this._assetsUrl=i.assetsUrl),this._assetsUrl=this._assetsUrl+"/web/"+V}R.createChild(BaseFramework),BaseFramework.prototype._waitForClient=function(){return this._client?O.resolve():this._createPromise.then(function(i){this._client=i}.bind(this))},BaseFramework.prototype.setUpEventListeners=function(){throw new T(P.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype.verifyCard=function(i,d){var p,v,T=this;return d=d||{},(v=this._checkForVerifyCardError(i,d))?O.reject(v):(this._verifyCardInProgress=!0,p=this._formatVerifyCardOptions(i),this._formatLookupData(p).then((function(i){return S.sendEvent(T._createPromise,"three-d-secure.verification-flow.started"),T._performLookup(p.nonce,i)})).then((function(i){return S.sendEvent(T._createPromise,"three-d-secure.verification-flow.3ds-version."+i.lookup.threeDSecureVersion),T._onLookupComplete(i,p)})).then((function(i){return T.initializeChallengeWithLookupResponse(i,p)})).then((function(i){return T._resetVerificationState(),S.sendEvent(T._createPromise,"three-d-secure.verification-flow.completed"),i})).catch((function(i){return T._resetVerificationState(),S.sendEvent(T._createPromise,"three-d-secure.verification-flow.failed"),O.reject(i)})))},BaseFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(){throw new T(P.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype._presentChallenge=function(){throw new T(P.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype.prepareLookup=function(){throw new T(P.THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED)},BaseFramework.prototype._resetVerificationState=function(){this._verifyCardInProgress=!1,this._verifyCardPromisePlus=null},BaseFramework.prototype._performLookup=function(i,d){var p=this,v="payment_methods/"+i+"/three_d_secure/lookup";return this._waitForClient().then((function(){return p._client.request({endpoint:v,method:"post",data:d}).catch((function(i){var d,v=i&&i.details&&i.details.httpStatus,I="three-d-secure.verification-flow.lookup-failed";return 404===v?(d=P.THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR,I+=".404"):422===v?(d=P.THREEDS_LOOKUP_VALIDATION_ERROR,I+=".422"):d=P.THREEDS_LOOKUP_ERROR,S.sendEvent(p._createPromise,I),O.reject(new T({type:d.type,code:d.code,message:d.message,details:{originalError:i}}))}))}))},BaseFramework.prototype._checkForVerifyCardError=function(i,d){var p;return!0===this._verifyCardInProgress?new T(P.THREEDS_AUTHENTICATION_IN_PROGRESS):(i.nonce?i.amount||(p="an amount"):p="a nonce",p||(p=this._checkForFrameworkSpecificVerifyCardErrors(i,d)),p?new T({type:P.THREEDS_MISSING_VERIFY_CARD_OPTION.type,code:P.THREEDS_MISSING_VERIFY_CARD_OPTION.code,message:"verifyCard options must include "+p+"."}):null)},BaseFramework.prototype.initializeChallengeWithLookupResponse=function(i,d){var p=this;return d=d||{},this._lookupPaymentMethod=i.paymentMethod,p._verifyCardPromisePlus=p._verifyCardPromisePlus||new N,p._handleLookupResponse(i,d),p._verifyCardPromisePlus.then((function(i){return S.sendEvent(p._createPromise,"three-d-secure.verification-flow.liability-shifted."+String(i.liabilityShifted)),S.sendEvent(p._createPromise,"three-d-secure.verification-flow.liability-shift-possible."+String(i.liabilityShiftPossible)),i}))},BaseFramework.prototype._handleLookupResponse=function(i,d){var p,v=Boolean(i.lookup&&i.lookup.acsUrl);S.sendEvent(this._createPromise,"three-d-secure.verification-flow.challenge-presented."+String(v)),v?this._presentChallenge(i,d):((p=this._formatAuthResponse(i.paymentMethod,i.threeDSecureInfo)).verificationDetails=i.threeDSecureInfo,this._verifyCardPromisePlus.resolve(p))},BaseFramework.prototype._onLookupComplete=function(i){return this._lookupPaymentMethod=i.paymentMethod,this._verifyCardPromisePlus=new N,O.resolve(i)},BaseFramework.prototype._formatAuthResponse=function(i,d){return{nonce:i.nonce,binData:i.binData,details:i.details,description:i.description&&i.description.replace(/\+/g," "),liabilityShifted:d&&d.liabilityShifted,liabilityShiftPossible:d&&d.liabilityShiftPossible,threeDSecureInfo:i.threeDSecureInfo}},BaseFramework.prototype._formatVerifyCardOptions=function(i){return v({},i)},BaseFramework.prototype._formatLookupData=function(i){var d={amount:i.amount};return O.resolve(d)},BaseFramework.prototype._handleV1AuthResponse=function(i){var d=JSON.parse(i.auth_response);d.success?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(d.paymentMethod,d.threeDSecureInfo)):d.threeDSecureInfo&&d.threeDSecureInfo.liabilityShiftPossible?this._verifyCardPromisePlus.resolve(this._formatAuthResponse(this._lookupPaymentMethod,d.threeDSecureInfo)):this._verifyCardPromisePlus.reject(new T({type:T.types.UNKNOWN,code:"UNKNOWN_AUTH_RESPONSE",message:d.error.message}))},BaseFramework.prototype.cancelVerifyCard=function(){var i,d;return this._verifyCardInProgress=!1,this._lookupPaymentMethod?(d=this._lookupPaymentMethod.threeDSecureInfo,i=v({},this._lookupPaymentMethod,{liabilityShiftPossible:d&&d.liabilityShiftPossible,liabilityShifted:d&&d.liabilityShifted,verificationDetails:d&&d.verificationDetails}),O.resolve(i)):O.reject(new T(P.THREEDS_NO_VERIFICATION_PAYLOAD))},BaseFramework.prototype._setupV1Bus=function(i){var d=window.location.href.split("#")[0],p=i.lookupResponse,v=F(),S=new L({channel:v,verifyDomain:I}),T=this._assetsUrl+"/html/three-d-secure-authentication-complete-frame.html?channel="+encodeURIComponent(v)+"&";return S.on(H,(function(i){i({acsUrl:p.acsUrl,pareq:p.pareq,termUrl:p.termUrl+"&three_d_secure_version="+V+"&authentication_complete_base_url="+encodeURIComponent(T),md:p.md,parentUrl:d})})),S.on(U.AUTHENTICATION_COMPLETE,i.handleAuthResponse),S},BaseFramework.prototype._setupV1Iframe=function(i){var d=this._assetsUrl+"/html/three-d-secure-bank-frame"+j(this._isDebug)+".html?showLoader="+i.showLoader;return k({src:d,height:Y,width:G,name:M.LANDING_FRAME_NAME+"_"+this._v1Bus.channel,title:"3D Secure Authorization Frame"})},BaseFramework.prototype._setupV1Elements=function(i){this._v1Bus=this._setupV1Bus(i),this._v1Iframe=this._setupV1Iframe(i)},BaseFramework.prototype._teardownV1Elements=function(){this._v1Bus&&(this._v1Bus.teardown(),this._v1Bus=null),this._v1Iframe&&this._v1Iframe.parentNode&&(this._v1Iframe.parentNode.removeChild(this._v1Iframe),this._v1Iframe=null),this._onV1Keyup&&(document.removeEventListener("keyup",this._onV1Keyup),this._onV1Keyup=null)},BaseFramework.prototype.teardown=function(){return S.sendEvent(this._createPromise,"three-d-secure.teardown-completed"),this._teardownV1Elements(),O.resolve()},d.exports=BaseFramework},{"../../../lib/analytics":125,"../../../lib/assign":127,"../../../lib/braintree-error":130,"../../../lib/constants":132,"../../../lib/is-verified-domain":159,"../../../lib/promise":163,"../../../lib/use-min":166,"../../shared/constants":199,"../../shared/errors":200,"../../shared/events":201,"@braintree/event-emitter":38,"@braintree/extended-promise":39,"@braintree/iframer":40,"@braintree/uuid":44,framebus:57}],191:[function(i,d,p){"use strict";var v=i("./songbird");function Bootstrap3ModalFramework(i){v.call(this,i)}Bootstrap3ModalFramework.prototype=Object.create(v.prototype,{constructor:v}),Bootstrap3ModalFramework.prototype._createV1IframeModalElement=function(i){var d=document.createElement("div");return d.innerHTML='<div class="modal fade in" tabindex="-1" role="dialog" aria-labelledby="CCAFrameModal-label" aria-hidden="true" style="display: block;"><div class="modal-dialog" style="width:440px;z-index:999999;"><div class="modal-content"><div class="modal-body" data-braintree-v1-fallback-iframe-container><button type="button" data-braintree-v1-fallback-close-button class="close" data-dismiss="modal" aria-hidden="true"></button></div></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;cursor: pointer;z-index: 999998;top: 0;left: 0;width: 100%;height: 100%;"></div></div>',d.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(i),d},Bootstrap3ModalFramework.prototype._createCardinalConfigurationOptions=function(i){var d=v.prototype._createCardinalConfigurationOptions.call(this,i);return d.payment.framework="bootstrap3",d},d.exports=Bootstrap3ModalFramework},{"./songbird":196}],192:[function(i,d,p){"use strict";var v=i("./songbird");function CardinalModalFramework(i){v.call(this,i)}CardinalModalFramework.prototype=Object.create(v.prototype,{constructor:v}),CardinalModalFramework.prototype._createV1IframeModalElement=function(i){var d=document.createElement("div"),p=Boolean(this._createOptions&&this._createOptions.cardinalSDKConfig&&this._createOptions.cardinalSDKConfig.payment&&this._createOptions.cardinalSDKConfig.payment.displayExitButton);return d.innerHTML='<div style="position: fixed;z-index: 999999;top: 50%;left: 50%;padding: 24px 20px;transform: translate(-50%,-50%);border-radius: 2px;background: #fff;max-width: 100%;overflow: auto;"><div><button data-braintree-v1-fallback-close-button style="font-family: Helvetica,Arial,sans-serif;font-size: 25px;line-height: 12px;position: absolute;top: 2px;right: 0px;cursor: pointer;color: #999;border: 0;outline: none;background: none;" onMouseOver="this.style.color=\'#000\'" onMouseOut="this.style.color=\'#999\'"></button></div><div data-braintree-v1-fallback-iframe-container style="height: 400px;"></div></div><div data-braintree-v1-fallback-backdrop style="position: fixed;z-index: 999998;cursor: pointer;top: 0;left: 0;width: 100%;height: 100%;transition: opacity 1ms ease;background: rgba(0,0,0,.6);"></div>',p||(d.querySelector("[data-braintree-v1-fallback-close-button]").style.display="none"),d.querySelector("[data-braintree-v1-fallback-iframe-container]").appendChild(i),d},d.exports=CardinalModalFramework},{"./songbird":196}],193:[function(i,d,p){"use strict";var v=i("./legacy"),S=i("./cardinal-modal"),T=i("./bootstrap3-modal"),O=i("./inline-iframe");d.exports={legacy:v,"cardinal-modal":S,"bootstrap3-modal":T,"inline-iframe":O}},{"./bootstrap3-modal":191,"./cardinal-modal":192,"./inline-iframe":194,"./legacy":195}],194:[function(i,d,p){"use strict";var v=i("./songbird"),S=i("../../../lib/braintree-error"),T=i("../../shared/errors"),O=i("../../../lib/enumerate");function InlineIframeFramework(i){v.call(this,i)}InlineIframeFramework.prototype=Object.create(v.prototype,{constructor:v}),InlineIframeFramework.events=O(["AUTHENTICATION_IFRAME_AVAILABLE"],"inline-iframe-framework:"),InlineIframeFramework.prototype.setUpEventListeners=function(i){v.prototype.setUpEventListeners.call(this,i),this.on(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,(function(d,p){i("authentication-iframe-available",d,p)}))},InlineIframeFramework.prototype._createCardinalConfigurationOptions=function(i){var d=v.prototype._createCardinalConfigurationOptions.call(this,i);return d.payment.framework="inline",d},InlineIframeFramework.prototype._addV1IframeToPage=function(){this._emit(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:this._v1Modal},(function(){}))},InlineIframeFramework.prototype._setupFrameworkSpecificListeners=function(){this.setCardinalListener("ui.inline.setup",this._onInlineSetup.bind(this))},InlineIframeFramework.prototype._onInlineSetup=function(i,d,p,v){var O,I;i&&d?("CCA"!==d.paymentType||"suppress"!==d.data.mode&&"static"!==d.data.mode)&&(I=!0):I=!0,I?v(new S(T.THREEDS_INLINE_IFRAME_DETAILS_INCORRECT)):((O=document.createElement("div")).innerHTML=i,"suppress"===d.data.mode?(O.style.display="none",document.body.appendChild(O),p()):"static"===d.data.mode&&this._emit(InlineIframeFramework.events.AUTHENTICATION_IFRAME_AVAILABLE,{element:O},(function(){p()})))},d.exports=InlineIframeFramework},{"../../../lib/braintree-error":130,"../../../lib/enumerate":140,"../../shared/errors":200,"./songbird":196}],195:[function(i,d,p){"use strict";var v=i("./base"),S=i("../../../lib/deferred");function LegacyFramework(i){v.call(this,i)}LegacyFramework.prototype=Object.create(v.prototype,{constructor:LegacyFramework}),LegacyFramework.prototype.setUpEventListeners=function(){},LegacyFramework.prototype.transformV1CustomerBillingAddress=function(i){return i.billingAddress.line1=i.billingAddress.streetAddress,i.billingAddress.line2=i.billingAddress.extendedAddress,i.billingAddress.city=i.billingAddress.locality,i.billingAddress.state=i.billingAddress.region,i.billingAddress.countryCode=i.billingAddress.countryCodeAlpha2,delete i.billingAddress.streetAddress,delete i.billingAddress.extendedAddress,delete i.billingAddress.locality,delete i.billingAddress.region,delete i.billingAddress.countryCodeAlpha2,i},LegacyFramework.prototype._createIframe=function(i){var d=this;return this._setupV1Elements({lookupResponse:i.lookupResponse,showLoader:i.showLoader,handleAuthResponse:function(p){d._handleAuthResponse(p,i)}}),this._v1Iframe},LegacyFramework.prototype._handleAuthResponse=function(i,d){this._v1Bus.teardown(),d.removeFrame(),S(function(){this._handleV1AuthResponse(i)}.bind(this))()},LegacyFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(i){var d;return"function"!=typeof i.addFrame?d="an addFrame function":"function"!=typeof i.removeFrame&&(d="a removeFrame function"),d},LegacyFramework.prototype._formatVerifyCardOptions=function(i){var d=v.prototype._formatVerifyCardOptions.call(this,i);return d.addFrame=S(i.addFrame),d.removeFrame=S(i.removeFrame),d.showLoader=!1!==i.showLoader,d},LegacyFramework.prototype._formatLookupData=function(i){var d=this;return v.prototype._formatLookupData.call(this,i).then((function(p){return i.customer&&i.customer.billingAddress&&(p.customer=d.transformV1CustomerBillingAddress(i.customer)),p}))},LegacyFramework.prototype._presentChallenge=function(i,d){d.addFrame(null,this._createIframe({showLoader:d.showLoader,lookupResponse:i.lookup,removeFrame:d.removeFrame}))},d.exports=LegacyFramework},{"../../../lib/deferred":138,"./base":190}],196:[function(i,d,p){"use strict";var v=i("./base"),S=i("../../../lib/assign").assign,T=i("../../../lib/deferred"),O=i("../../../lib/braintree-error"),I=i("../../../lib/convert-to-braintree-error"),N=i("../../../lib/analytics"),R=i("../../../lib/assets"),P=i("../../shared/errors"),k=i("../../../lib/enumerate"),L=i("../../shared/constants"),M=i("../../../lib/promise"),F=i("@braintree/extended-promise"),U=i("../../../lib/constants").INTEGRATION_TIMEOUT_MS,j=i("../../../lib/constants").PLATFORM,H="3.79.1",V="01",Y=["ui.close","ui.render","ui.renderHidden","ui.loading.close","ui.loading.render"];function SongbirdFramework(i){v.call(this,i),this._useV1Fallback=!1,this._clientMetadata={requestedThreeDSecureVersion:"2",sdkVersion:j+"/"+H},this._getDfReferenceIdPromisePlus=new F,this.setupSongbird(i),this._cardinalEvents=[]}function extractAddressData(i,d,p){d[p+"Line1"]=i.streetAddress,d[p+"Line2"]=i.extendedAddress,d[p+"Line3"]=i.line3,d[p+"City"]=i.locality,d[p+"State"]=i.region,d[p+"PostalCode"]=i.postalCode,d[p+"CountryCode"]=i.countryCodeAlpha2}SongbirdFramework.prototype=Object.create(v.prototype,{constructor:SongbirdFramework}),SongbirdFramework.events=k(["LOOKUP_COMPLETE","CUSTOMER_CANCELED","UI.CLOSE","UI.RENDER","UI.RENDERHIDDEN","UI.LOADING.CLOSE","UI.LOADING.RENDER"],"songbird-framework:"),SongbirdFramework.prototype.setUpEventListeners=function(i){this.on(SongbirdFramework.events.LOOKUP_COMPLETE,(function(d,p){i("lookup-complete",d,p)})),this.on(SongbirdFramework.events.CUSTOMER_CANCELED,(function(){i("customer-canceled")})),this.on(SongbirdFramework.events["UI.CLOSE"],(function(){i("authentication-modal-close")})),this.on(SongbirdFramework.events["UI.RENDER"],(function(){i("authentication-modal-render")})),this.on(SongbirdFramework.events["UI.RENDERHIDDEN"],(function(){i("authentication-modal-render-hidden")})),this.on(SongbirdFramework.events["UI.LOADING.CLOSE"],(function(){i("authentication-modal-loader-close")})),this.on(SongbirdFramework.events["UI.LOADING.RENDER"],(function(){i("authentication-modal-loader-render")}))},SongbirdFramework.prototype.prepareLookup=function(i){var d=S({},i),p=this;return this.getDfReferenceId().then((function(i){d.dfReferenceId=i})).then((function(){return p._triggerCardinalBinProcess(i.bin)})).catch((function(){})).then((function(){return p._waitForClient()})).then((function(){return d.clientMetadata=p._clientMetadata,d.authorizationFingerprint=p._client.getConfiguration().authorizationFingerprint,d.braintreeLibraryVersion="braintree/web/"+H,d}))},SongbirdFramework.prototype.initializeChallengeWithLookupResponse=function(i,d){return this.setupSongbird().then(function(){return v.prototype.initializeChallengeWithLookupResponse.call(this,i,d)}.bind(this))},SongbirdFramework.prototype._initiateV1Fallback=function(i){this._useV1Fallback=!0,N.sendEvent(this._createPromise,"three-d-secure.v1-fallback."+i),this._songbirdPromise.resolve()},SongbirdFramework.prototype._triggerCardinalBinProcess=function(i){var d=this,p=Date.now();return i?window.Cardinal.trigger("bin.process",i).then((function(i){d._clientMetadata.issuerDeviceDataCollectionTimeElapsed=Date.now()-p,d._clientMetadata.issuerDeviceDataCollectionResult=i&&i.Status})):M.resolve()},SongbirdFramework.prototype.transformBillingAddress=function(i,d){return d&&(extractAddressData(d,i,"billing"),i.billingPhoneNumber=d.phoneNumber,i.billingGivenName=d.givenName,i.billingSurname=d.surname),i},SongbirdFramework.prototype.transformShippingAddress=function(i){var d=i.shippingAddress;return d&&(extractAddressData(d,i,"shipping"),delete i.shippingAddress),i},SongbirdFramework.prototype._createV1IframeModalElement=function(i){var d=document.createElement("div");return d.innerHTML='<div data-braintree-v1-fallback-iframe-container="true" style="height: 400px;"></div>',d.querySelector('[data-braintree-v1-fallback-iframe-container="true"]').appendChild(i),d},SongbirdFramework.prototype._createV1IframeModal=function(i){var d=this._createV1IframeModalElement(i),p=d.querySelector("[data-braintree-v1-fallback-close-button]"),v=d.querySelector("[data-braintree-v1-fallback-backdrop]"),S=this;function closeHandler(){d.parentNode.removeChild(d),S.cancelVerifyCard(P.THREEDS_CARDINAL_SDK_CANCELED),document.removeEventListener("keyup",S._onV1Keyup),S._onV1Keyup=null}return this._onV1Keyup=function(i){"Escape"===i.key&&d.parentNode&&closeHandler()},p&&p.addEventListener("click",closeHandler),v&&v.addEventListener("click",closeHandler),document.addEventListener("keyup",this._onV1Keyup),d},SongbirdFramework.prototype._addV1IframeToPage=function(){document.body.appendChild(this._v1Modal)},SongbirdFramework.prototype._handleAuthResponseFromV1Fallback=function(i){this._teardownV1Elements(),this._v1Modal.parentNode.removeChild(this._v1Modal),this._handleV1AuthResponse(i)},SongbirdFramework.prototype._presentChallengeWithV1Fallback=function(i){var d=this;this._setupV1Elements({lookupResponse:i,showLoader:!0,handleAuthResponse:function(i){d._handleAuthResponseFromV1Fallback(i)}}),this._v1Modal=this._createV1IframeModal(this._v1Iframe),this._addV1IframeToPage()},SongbirdFramework.prototype.setupSongbird=function(i){var d=this,p=Date.now();return this._songbirdPromise||(i=i||{},this._songbirdPromise=new F,this._v2SetupFailureReason="reason-unknown",d._loadCardinalScript(i).then((function(){return window.Cardinal?d._configureCardinalSdk({setupOptions:i,setupStartTime:p}):(d._v2SetupFailureReason="cardinal-global-unavailable",M.reject(new O(P.THREEDS_CARDINAL_SDK_SETUP_FAILED)))})).catch((function(i){var p=I(i,{type:P.THREEDS_CARDINAL_SDK_SETUP_FAILED.type,code:P.THREEDS_CARDINAL_SDK_SETUP_FAILED.code,message:P.THREEDS_CARDINAL_SDK_SETUP_FAILED.message});d._getDfReferenceIdPromisePlus.reject(p),window.clearTimeout(d._songbirdSetupTimeoutReference),N.sendEvent(d._client,"three-d-secure.cardinal-sdk.init.setup-failed"),d._initiateV1Fallback("cardinal-sdk-setup-failed."+d._v2SetupFailureReason)}))),this._songbirdPromise},SongbirdFramework.prototype._configureCardinalSdk=function(i){var d=this;return this._waitForClient().then((function(){var i=d._client.getConfiguration().gatewayConfiguration.threeDSecure;return i.hasOwnProperty("versionTwo")&&"cardinal"!==i.versionTwo?M.reject(new Error("cardinal-api-not-available-or-configured")):i})).then((function(p){var v=p.cardinalAuthenticationJWT,S=i.setupOptions,T=i.setupStartTime,O=d._createCardinalConfigurationOptions(S);Y.forEach((function(i){d.setCardinalListener(i,(function(){d._emit(SongbirdFramework.events[i.toUpperCase()])}))})),d.setCardinalListener("payments.setupComplete",d._createPaymentsSetupCompleteCallback()),d._setupFrameworkSpecificListeners(),window.Cardinal.configure(O),window.Cardinal.setup("init",{jwt:v}),d._clientMetadata.cardinalDeviceDataCollectionTimeElapsed=Date.now()-T,d.setCardinalListener("payments.validated",d._createPaymentsValidatedCallback())})).catch((function(i){return"cardinal-api-not-available-or-configured"===i.message?d._v2SetupFailureReason="cardinal-api-not-available-or-configured":d._v2SetupFailureReason="cardinal-configuration-threw-error",M.reject(i)}))},SongbirdFramework.prototype.setCardinalListener=function(i,d){this._cardinalEvents.push(i),window.Cardinal.on(i,d)},SongbirdFramework.prototype._setupFrameworkSpecificListeners=function(){},SongbirdFramework.prototype._createCardinalConfigurationOptions=function(i){var d=i.cardinalSDKConfig||{},p=d.payment||{};return!d.logging&&i.loggingEnabled&&(d.logging={level:"verbose"}),d.payment={},p.hasOwnProperty("displayLoading")&&(d.payment.displayLoading=p.displayLoading),p.hasOwnProperty("displayExitButton")&&(d.payment.displayExitButton=p.displayExitButton),d},SongbirdFramework.prototype._loadCardinalScript=function(i){var d=this,p=L.CARDINAL_SCRIPT_SOURCE.sandbox;return this._waitForClient().then((function(){var v="production"===d._client.getConfiguration().gatewayConfiguration.environment;return d._songbirdSetupTimeoutReference=window.setTimeout((function(){N.sendEvent(d._client,"three-d-secure.cardinal-sdk.init.setup-timeout"),d._initiateV1Fallback("cardinal-sdk-setup-timeout")}),i.timeout||U),v&&(p=L.CARDINAL_SCRIPT_SOURCE.production),R.loadScript({src:p})})).catch((function(i){return d._v2SetupFailureReason="songbird-js-failed-to-load",M.reject(I(i,P.THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED))}))},SongbirdFramework.prototype._createPaymentsSetupCompleteCallback=function(){var i=this;return function(d){i._getDfReferenceIdPromisePlus.resolve(d.sessionId),window.clearTimeout(i._songbirdSetupTimeoutReference),N.sendEvent(i._createPromise,"three-d-secure.cardinal-sdk.init.setup-completed"),i._songbirdPromise.resolve()}},SongbirdFramework.prototype.getDfReferenceId=function(){return this._getDfReferenceIdPromisePlus},SongbirdFramework.prototype._performJWTValidation=function(i,d){var p=this,v=this._lookupPaymentMethod.nonce,S="payment_methods/"+v+"/three_d_secure/authenticate_from_jwt",T=i&&i.Payment&&i.Payment.ExtendedData&&i.Payment.ExtendedData.ChallengeCancel;return T&&(N.sendEvent(this._createPromise,"three-d-secure.verification-flow.cardinal-sdk.cancel-code."+T),T===V&&this._emit(SongbirdFramework.events.CUSTOMER_CANCELED)),N.sendEvent(this._createPromise,"three-d-secure.verification-flow.upgrade-payment-method.started"),this._waitForClient().then((function(){return p._client.request({method:"post",endpoint:S,data:{jwt:d,paymentMethodNonce:v}})})).then((function(d){var v=d.paymentMethod||p._lookupPaymentMethod,S=p._formatAuthResponse(v,d.threeDSecureInfo);return S.rawCardinalSDKVerificationData=i,N.sendEvent(p._client,"three-d-secure.verification-flow.upgrade-payment-method.succeeded"),M.resolve(S)})).catch((function(i){var d=new O({type:P.THREEDS_JWT_AUTHENTICATION_FAILED.type,code:P.THREEDS_JWT_AUTHENTICATION_FAILED.code,message:P.THREEDS_JWT_AUTHENTICATION_FAILED.message,details:{originalError:i}});return N.sendEvent(p._client,"three-d-secure.verification-flow.upgrade-payment-method.errored"),M.reject(d)}))},SongbirdFramework.prototype._createPaymentsValidatedCallback=function(){var i=this;return function(d,p){var v;if(N.sendEvent(i._createPromise,"three-d-secure.verification-flow.cardinal-sdk.action-code."+d.ActionCode.toLowerCase()),i._verifyCardPromisePlus)switch(d.ActionCode){case"SUCCESS":case"NOACTION":case"FAILURE":i._performJWTValidation(d,p).then((function(d){i._verifyCardPromisePlus.resolve(d)})).catch((function(d){i._verifyCardPromisePlus.reject(d)}));break;case"ERROR":switch(N.sendEvent(i._createPromise,"three-d-secure.verification-flow.cardinal-sdk-error."+d.ErrorNumber),d.ErrorNumber){case 10001:case 10002:v=new O(P.THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT);break;case 10003:case 10007:case 10009:v=new O(P.THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT);break;case 10005:case 10006:v=new O(P.THREEDS_CARDINAL_SDK_BAD_CONFIG);break;case 10008:case 10010:v=new O(P.THREEDS_CARDINAL_SDK_BAD_JWT);break;case 10011:N.sendEvent(i._createPromise,"three-d-secure.verification-flow.canceled"),v=new O(P.THREEDS_CARDINAL_SDK_CANCELED);break;default:v=new O(P.THREEDS_CARDINAL_SDK_ERROR)}v.details={originalError:{code:d.ErrorNumber,description:d.ErrorDescription}},i._verifyCardPromisePlus.reject(v)}else i._initiateV1Fallback("cardinal-sdk-setup-error.number-"+d.ErrorNumber)}},SongbirdFramework.prototype._checkForVerifyCardError=function(i,d){return v.prototype._checkForVerifyCardError.call(this,i,d)},SongbirdFramework.prototype._checkForFrameworkSpecificVerifyCardErrors=function(i,d){var p;return"function"==typeof i.onLookupComplete||d.ignoreOnLookupCompleteRequirement||(p="an onLookupComplete function"),p},SongbirdFramework.prototype._formatVerifyCardOptions=function(i){var d=v.prototype._formatVerifyCardOptions.call(this,i),p=d.additionalInformation||{};return p=this.transformBillingAddress(p,i.billingAddress),p=this.transformShippingAddress(p),i.onLookupComplete&&(d.onLookupComplete=T(i.onLookupComplete)),i.email&&(p.email=i.email),i.mobilePhoneNumber&&(p.mobilePhoneNumber=i.mobilePhoneNumber),d.additionalInformation=p,d},SongbirdFramework.prototype._onLookupComplete=function(i,d){var p=this;return v.prototype._onLookupComplete.call(this,i).then((function(i){return new M((function(v,S){function next(){v(i)}i.requiresUserAuthentication=Boolean(i.lookup&&i.lookup.acsUrl),p._verifyCardPromisePlus.catch(S),d.onLookupComplete?d.onLookupComplete(i,next):p._emit(SongbirdFramework.events.LOOKUP_COMPLETE,i,next)}))}))},SongbirdFramework.prototype._presentChallenge=function(i){!this._useV1Fallback&&i.lookup.transactionId?window.Cardinal.continue("cca",{AcsUrl:i.lookup.acsUrl,Payload:i.lookup.pareq},{OrderDetails:{TransactionId:i.lookup.transactionId}}):this._presentChallengeWithV1Fallback(i.lookup)},SongbirdFramework.prototype._formatLookupData=function(i){var d=this;return v.prototype._formatLookupData.call(this,i).then((function(p){return p.additionalInfo=i.additionalInformation,i.accountType&&(p.accountType=i.accountType),i.challengeRequested&&(p.challengeRequested=i.challengeRequested),i.dataOnlyRequested&&(p.dataOnlyRequested=i.dataOnlyRequested),i.exemptionRequested&&(p.exemptionRequested=i.exemptionRequested),i.bin&&(p.bin=i.bin),i.cardAdd&&(p.cardAdd=i.cardAdd),d.prepareLookup(p)}))},SongbirdFramework.prototype.cancelVerifyCard=function(i){var d=this;return v.prototype.cancelVerifyCard.call(this).then((function(p){return d._verifyCardPromisePlus&&(i=i||new O(P.THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT),d._verifyCardPromisePlus.reject(i)),p}))},SongbirdFramework.prototype.teardown=function(){return window.Cardinal&&this._cardinalEvents.forEach((function(i){window.Cardinal.off(i)})),v.prototype.teardown.call(this)},d.exports=SongbirdFramework},{"../../../lib/analytics":125,"../../../lib/assets":126,"../../../lib/assign":127,"../../../lib/braintree-error":130,"../../../lib/constants":132,"../../../lib/convert-to-braintree-error":134,"../../../lib/deferred":138,"../../../lib/enumerate":140,"../../../lib/promise":163,"../../shared/constants":199,"../../shared/errors":200,"./base":190,"@braintree/extended-promise":39}],197:[function(i,d,p){"use strict";var v=i("@braintree/wrap-promise"),S=i("../../lib/methods"),T=i("../../lib/convert-methods-to-error"),O=i("@braintree/event-emitter"),I=i("./frameworks");function ThreeDSecure(i){var d=this,p=I[i.framework];O.call(this),this._framework=new p(i),this._framework.setUpEventListeners((function(){d._emit.apply(d,arguments)}))}O.createChild(ThreeDSecure),ThreeDSecure.prototype.verifyCard=function(i){var d;return this.hasListener("lookup-complete")&&(d={ignoreOnLookupCompleteRequirement:!0}),this._framework.verifyCard(i,d)},ThreeDSecure.prototype.initializeChallengeWithLookupResponse=function(i){return"string"==typeof i&&(i=JSON.parse(i)),this._framework.initializeChallengeWithLookupResponse(i)},ThreeDSecure.prototype.prepareLookup=function(i){return this._framework.prepareLookup(i).then((function(i){return JSON.stringify(i)}))},ThreeDSecure.prototype.cancelVerifyCard=function(){return this._framework.cancelVerifyCard()},ThreeDSecure.prototype.teardown=function(){var i=S(ThreeDSecure.prototype).concat(S(O.prototype));return T(this,i),this._framework.teardown()},d.exports=v.wrapPrototype(ThreeDSecure)},{"../../lib/convert-methods-to-error":133,"../../lib/methods":161,"./frameworks":193,"@braintree/event-emitter":38,"@braintree/wrap-promise":48}],198:[function(i,d,p){"use strict";var v=i("./external/three-d-secure"),S=i("../lib/is-https").isHTTPS,T=i("../lib/basic-component-verification"),O=i("../lib/create-deferred-client"),I=i("../lib/create-assets-url"),N=i("../lib/braintree-error"),R=i("../lib/analytics"),P=i("./shared/errors"),k="3.79.1",L=i("../lib/promise"),M=i("@braintree/wrap-promise");function create(i){var d="3D Secure";return T.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){var p=I.create(i.authorization),T=getFramework(i),k=O.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:p,name:d}).then((function(d){var p,v=d.getConfiguration(),O=v.gatewayConfiguration;return i.client=d,O.threeDSecureEnabled||(p=P.THREEDS_NOT_ENABLED),"TOKENIZATION_KEY"===v.authorizationType&&(p=P.THREEDS_CAN_NOT_USE_TOKENIZATION_KEY),"production"===O.environment&&!S()&&(p=P.THREEDS_HTTPS_REQUIRED),"legacy"===T||O.threeDSecure&&O.threeDSecure.cardinalAuthenticationJWT||(R.sendEvent(i.client,"three-d-secure.initialization.failed.missing-cardinalAuthenticationJWT"),p=P.THREEDS_NOT_ENABLED_FOR_V2),p?L.reject(new N(p)):(R.sendEvent(i.client,"three-d-secure.initialized"),d)})),M=new v({client:i.client,assetsUrl:p,createPromise:k,loggingEnabled:i.loggingEnabled,cardinalSDKConfig:i.cardinalSDKConfig,framework:T});return i.client?k.then((function(){return M})):M}))}function getFramework(i){var d=String(i.version||"");if(!d||"1"===d)return"legacy";switch(d){case"2":case"2-cardinal-modal":return"cardinal-modal";case"2-bootstrap3-modal":return"bootstrap3-modal";case"2-inline-iframe":return"inline-iframe";default:throw new N({code:P.THREEDS_UNRECOGNIZED_VERSION.code,type:P.THREEDS_UNRECOGNIZED_VERSION.type,message:"Version `"+i.version+"` is not a recognized version. You may need to update the version of your Braintree SDK to support this version."})}}d.exports={create:M(create),VERSION:k}},{"../lib/analytics":125,"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/is-https":158,"../lib/promise":163,"./external/three-d-secure":197,"./shared/errors":200,"@braintree/wrap-promise":48}],199:[function(i,d,p){"use strict";d.exports={LANDING_FRAME_NAME:"braintreethreedsecurelanding",CARDINAL_SCRIPT_SOURCE:{production:"https://songbird.cardinalcommerce.com/edge/v1/songbird.js",sandbox:"https://songbirdstag.cardinalcommerce.com/edge/v1/songbird.js"}}},{}],200:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={THREEDS_NOT_ENABLED:{type:v.types.MERCHANT,code:"THREEDS_NOT_ENABLED",message:"3D Secure is not enabled for this merchant."},THREEDS_CAN_NOT_USE_TOKENIZATION_KEY:{type:v.types.MERCHANT,code:"THREEDS_CAN_NOT_USE_TOKENIZATION_KEY",message:"3D Secure can not use a tokenization key for authorization."},THREEDS_HTTPS_REQUIRED:{type:v.types.MERCHANT,code:"THREEDS_HTTPS_REQUIRED",message:"3D Secure requires HTTPS."},THREEDS_NOT_ENABLED_FOR_V2:{type:v.types.MERCHANT,code:"THREEDS_NOT_ENABLED_FOR_V2",message:"3D Secure version 2 is not enabled for this merchant. Contact Braintree Support for assistance at https://help.braintreepayments.com/"},THREEDS_UNRECOGNIZED_VERSION:{type:v.types.MERCHANT,code:"THREEDS_UNRECOGNIZED_VERSION"},THREEDS_CARDINAL_SDK_SETUP_FAILED:{type:v.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_FAILED",message:"Something went wrong setting up Cardinal's Songbird.js library."},THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED:{type:v.types.NETWORK,code:"THREEDS_CARDINAL_SDK_SCRIPT_LOAD_FAILED",message:"Cardinal's Songbird.js library could not be loaded."},THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT:{type:v.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_SETUP_TIMEDOUT",message:"Cardinal's Songbird.js took too long to setup."},THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT:{type:v.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_RESPONSE_TIMEDOUT",message:"Cardinal's API took too long to respond."},THREEDS_CARDINAL_SDK_BAD_CONFIG:{type:v.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_CONFIG",message:"JWT or other required field missing. Please check your setup configuration."},THREEDS_CARDINAL_SDK_BAD_JWT:{type:v.types.MERCHANT,code:"THREEDS_CARDINAL_SDK_BAD_JWT",message:"Cardinal JWT missing or malformed. Please check your setup configuration."},THREEDS_CARDINAL_SDK_ERROR:{type:v.types.UNKNOWN,code:"THREEDS_CARDINAL_SDK_ERROR",message:"A general error has occurred with Cardinal. See description for more information."},THREEDS_CARDINAL_SDK_CANCELED:{type:v.types.CUSTOMER,code:"THREEDS_CARDINAL_SDK_CANCELED",message:"Canceled by user."},THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT:{type:v.types.MERCHANT,code:"THREEDS_VERIFY_CARD_CANCELED_BY_MERCHANT",message:"3D Secure verfication canceled by merchant."},THREEDS_AUTHENTICATION_IN_PROGRESS:{type:v.types.MERCHANT,code:"THREEDS_AUTHENTICATION_IN_PROGRESS",message:"Cannot call verifyCard while existing authentication is in progress."},THREEDS_MISSING_VERIFY_CARD_OPTION:{type:v.types.MERCHANT,code:"THREEDS_MISSING_VERIFY_CARD_OPTION"},THREEDS_JWT_AUTHENTICATION_FAILED:{type:v.types.UNKNOWN,code:"THREEDS_JWT_AUTHENTICATION_FAILED",message:"Something went wrong authenticating the JWT from Cardinal"},THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR:{type:v.types.MERCHANT,code:"THREEDS_LOOKUP_TOKENIZED_CARD_NOT_FOUND_ERROR",message:"Either the payment method nonce passed to `verifyCard` does not exist, or it was already consumed"},THREEDS_LOOKUP_VALIDATION_ERROR:{type:v.types.CUSTOMER,code:"THREEDS_LOOKUP_VALIDATION_ERROR",message:"The data passed in `verifyCard` did not pass validation checks. See details for more info"},THREEDS_LOOKUP_ERROR:{type:v.types.UNKNOWN,code:"THREEDS_LOOKUP_ERROR",message:"Something went wrong during the 3D Secure lookup"},THREEDS_INLINE_IFRAME_DETAILS_INCORRECT:{type:v.types.UNKNOWN,code:"THREEDS_INLINE_IFRAME_DETAILS_INCORRECT",message:"Something went wrong when attempting to add the authentication iframe to the page."},THREEDS_NO_VERIFICATION_PAYLOAD:{type:v.types.MERCHANT,code:"THREEDS_NO_VERIFICATION_PAYLOAD",message:"No verification payload available."},THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN:{type:v.types.INTERNAL,code:"THREEDS_TERM_URL_REQUIRES_BRAINTREE_DOMAIN",message:"Term Url must be on a Braintree domain."},THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED:{type:v.types.INTERNAL,code:"THREEDS_FRAMEWORK_METHOD_NOT_IMPLEMENTED",message:"Method not implemented for this framework."}}},{"../../lib/braintree-error":130}],201:[function(i,d,p){"use strict";var v=i("../../lib/enumerate");d.exports=v(["AUTHENTICATION_COMPLETE"],"threedsecure:")},{"../../lib/enumerate":140}],202:[function(i,d,p){"use strict";var v=i("./shared/unionpay"),S=i("../lib/basic-component-verification"),T=i("../lib/braintree-error"),O=i("../lib/create-deferred-client"),I=i("../lib/create-assets-url"),N=i("../lib/analytics"),R=i("./shared/errors"),P="3.79.1",k=i("../lib/promise"),L=i("@braintree/wrap-promise");function create(i){var d="UnionPay";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return O.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:I.create(i.authorization),name:d})})).then((function(d){var p=d.getConfiguration();return i.client=d,p.gatewayConfiguration.unionPay&&!0===p.gatewayConfiguration.unionPay.enabled?(N.sendEvent(i.client,"unionpay.initialized"),new v(i)):k.reject(new T(R.UNIONPAY_NOT_ENABLED))}))}d.exports={create:L(create),VERSION:P}},{"../lib/analytics":125,"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./shared/errors":204,"./shared/unionpay":205,"@braintree/wrap-promise":48}],203:[function(i,d,p){"use strict";var v=i("../../lib/enumerate");d.exports={events:v(["HOSTED_FIELDS_FETCH_CAPABILITIES","HOSTED_FIELDS_ENROLL","HOSTED_FIELDS_TOKENIZE"],"union-pay:"),HOSTED_FIELDS_FRAME_NAME:"braintreeunionpayhostedfields"}},{"../../lib/enumerate":140}],204:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={UNIONPAY_NOT_ENABLED:{type:v.types.MERCHANT,code:"UNIONPAY_NOT_ENABLED",message:"UnionPay is not enabled for this merchant."},UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID:{type:v.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID",message:"Found an invalid Hosted Fields instance. Please use a valid Hosted Fields instance."},UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:v.types.MERCHANT,code:"UNIONPAY_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"Could not find the Hosted Fields instance."},UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED:{type:v.types.MERCHANT,code:"UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED",message:"A card or a Hosted Fields instance is required. Please supply a card or a Hosted Fields instance."},UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES:{type:v.types.MERCHANT,code:"UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES",message:"Please supply either a card or a Hosted Fields instance, not both."},UNIONPAY_EXPIRATION_DATE_INCOMPLETE:{type:v.types.MERCHANT,code:"UNIONPAY_EXPIRATION_DATE_INCOMPLETE",message:"You must supply expiration month and year or neither."},UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID:{type:v.types.CUSTOMER,code:"UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID",message:"Enrollment failed due to user input error."},UNIONPAY_ENROLLMENT_NETWORK_ERROR:{type:v.types.NETWORK,code:"UNIONPAY_ENROLLMENT_NETWORK_ERROR",message:"Could not enroll UnionPay card."},UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR:{type:v.types.NETWORK,code:"UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR",message:"Could not fetch card capabilities."},UNIONPAY_TOKENIZATION_NETWORK_ERROR:{type:v.types.NETWORK,code:"UNIONPAY_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},UNIONPAY_MISSING_MOBILE_PHONE_DATA:{type:v.types.MERCHANT,code:"UNIONPAY_MISSING_MOBILE_PHONE_DATA",message:"A `mobile` with `countryCode` and `number` is required."},UNIONPAY_FAILED_TOKENIZATION:{type:v.types.CUSTOMER,code:"UNIONPAY_FAILED_TOKENIZATION",message:"The supplied card data failed tokenization."}}},{"../../lib/braintree-error":130}],205:[function(i,d,p){"use strict";var v=i("../../lib/analytics"),S=i("../../lib/braintree-error"),T=i("framebus"),O=i("./constants"),I=i("../../lib/is-verified-domain"),N=i("../../lib/use-min"),R=i("../../lib/convert-methods-to-error"),P=i("./errors"),k=O.events,L=i("@braintree/iframer"),M=i("../../lib/methods"),F="3.79.1",U=i("@braintree/uuid"),j=i("../../lib/promise"),H=i("@braintree/wrap-promise"),V=i("../../lib/constants").BUS_CONFIGURATION_REQUEST_EVENT;function UnionPay(i){this._options=i}UnionPay.prototype.fetchCapabilities=function(i){var d=this,p=this._options.client,T=i.card?i.card.number:null,O=i.hostedFields;return T&&O?j.reject(new S(P.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):T?p.request({method:"get",endpoint:"payment_methods/credit_cards/capabilities",data:{_meta:{source:"unionpay"},creditCard:{number:T}}}).then((function(i){return v.sendEvent(p,"unionpay.capabilities-received"),i})).catch((function(i){var d=i.details&&i.details.httpStatus;return v.sendEvent(p,"unionpay.capabilities-failed"),403===d?j.reject(i):j.reject(new S({type:P.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.type,code:P.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.code,message:P.UNIONPAY_FETCH_CAPABILITIES_NETWORK_ERROR.message,details:{originalError:i}}))})):O?O._bus?d._initializeHostedFields().then((function(){return new j((function(i,p){d._bus.emit(k.HOSTED_FIELDS_FETCH_CAPABILITIES,{hostedFields:O},(function(d){d.err?p(new S(d.err)):i(d.payload)}))}))})):j.reject(new S(P.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):j.reject(new S(P.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},UnionPay.prototype.enroll=function(i){var d,p=this,T=this._options.client,O=i.card,I=i.mobile,N=i.hostedFields;if(!I)return j.reject(new S(P.UNIONPAY_MISSING_MOBILE_PHONE_DATA));if(N)return N._bus?O?j.reject(new S(P.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):new j((function(i,d){p._initializeHostedFields().then((function(){p._bus.emit(k.HOSTED_FIELDS_ENROLL,{hostedFields:N,mobile:I},(function(p){p.err?d(new S(p.err)):i(p.payload)}))}))})):j.reject(new S(P.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID));if(O&&O.number){if(d={_meta:{source:"unionpay"},unionPayEnrollment:{number:O.number,mobileCountryCode:I.countryCode,mobileNumber:I.number}},O.expirationDate)d.unionPayEnrollment.expirationDate=O.expirationDate;else if(O.expirationMonth||O.expirationYear){if(!O.expirationMonth||!O.expirationYear)return j.reject(new S(P.UNIONPAY_EXPIRATION_DATE_INCOMPLETE));d.unionPayEnrollment.expirationYear=O.expirationYear,d.unionPayEnrollment.expirationMonth=O.expirationMonth}return T.request({method:"post",endpoint:"union_pay_enrollments",data:d}).then((function(i){return v.sendEvent(T,"unionpay.enrollment-succeeded"),{enrollmentId:i.unionPayEnrollmentId,smsCodeRequired:i.smsCodeRequired}})).catch((function(i){var d,p=i.details&&i.details.httpStatus;return 403===p?d=i:p<500?(d=new S(P.UNIONPAY_ENROLLMENT_CUSTOMER_INPUT_INVALID)).details={originalError:i}:(d=new S(P.UNIONPAY_ENROLLMENT_NETWORK_ERROR)).details={originalError:i},v.sendEvent(T,"unionpay.enrollment-failed"),j.reject(d)}))}return j.reject(new S(P.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},UnionPay.prototype.tokenize=function(i){var d,p=this,T=this._options.client,O=i.card,I=i.hostedFields;return O&&I?j.reject(new S(P.UNIONPAY_CARD_AND_HOSTED_FIELDS_INSTANCES)):O?(d={_meta:{source:"unionpay"},creditCard:{number:i.card.number,options:{unionPayEnrollment:{id:i.enrollmentId}}}},i.smsCode&&(d.creditCard.options.unionPayEnrollment.smsCode=i.smsCode),O.expirationDate?d.creditCard.expirationDate=O.expirationDate:O.expirationMonth&&O.expirationYear&&(d.creditCard.expirationYear=O.expirationYear,d.creditCard.expirationMonth=O.expirationMonth),i.card.cvv&&(d.creditCard.cvv=i.card.cvv),T.request({method:"post",endpoint:"payment_methods/credit_cards",data:d}).then((function(i){var d=i.creditCards[0];return delete d.consumed,delete d.threeDSecureInfo,v.sendEvent(T,"unionpay.nonce-received"),d})).catch((function(i){var d,p=i.details&&i.details.httpStatus;return v.sendEvent(T,"unionpay.nonce-failed"),403===p?d=i:p<500?(d=new S(P.UNIONPAY_FAILED_TOKENIZATION)).details={originalError:i}:(d=new S(P.UNIONPAY_TOKENIZATION_NETWORK_ERROR)).details={originalError:i},j.reject(d)}))):I?I._bus?new j((function(d,v){p._initializeHostedFields().then((function(){p._bus.emit(k.HOSTED_FIELDS_TOKENIZE,i,(function(i){i.err?v(new S(i.err)):d(i.payload)}))}))})):j.reject(new S(P.UNIONPAY_HOSTED_FIELDS_INSTANCE_INVALID)):j.reject(new S(P.UNIONPAY_CARD_OR_HOSTED_FIELDS_INSTANCE_REQUIRED))},UnionPay.prototype.teardown=function(){return this._bus&&(this._hostedFieldsFrame.parentNode.removeChild(this._hostedFieldsFrame),this._bus.teardown()),R(this,M(UnionPay.prototype)),j.resolve()},UnionPay.prototype._initializeHostedFields=function(){var i,d,p=U(),v=this;return this._hostedFieldsInitializePromise||(this._hostedFieldsInitializePromise=new j((function(S){i=v._options.client.getConfiguration().gatewayConfiguration.assetsUrl,d=v._options.client.getConfiguration().isDebug,v._bus=new T({channel:p,verifyDomain:I}),v._hostedFieldsFrame=L({name:O.HOSTED_FIELDS_FRAME_NAME+"_"+p,src:i+"/web/"+F+"/html/unionpay-hosted-fields-frame"+N(d)+".html",height:0,width:0}),v._bus.on(V,(function(i){i(v._options.client),S()})),document.body.appendChild(v._hostedFieldsFrame)}))),this._hostedFieldsInitializePromise},d.exports=H.wrapPrototype(UnionPay)},{"../../lib/analytics":125,"../../lib/braintree-error":130,"../../lib/constants":132,"../../lib/convert-methods-to-error":133,"../../lib/is-verified-domain":159,"../../lib/methods":161,"../../lib/promise":163,"../../lib/use-min":166,"./constants":203,"./errors":204,"@braintree/iframer":40,"@braintree/uuid":44,"@braintree/wrap-promise":48,framebus:57}],206:[function(i,d,p){"use strict";d.exports={PLAID_LINK_JS:"https://cdn.plaid.com/link/v2/stable/link-initialize.js"}},{}],207:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={US_BANK_ACCOUNT_OPTION_REQUIRED:{type:v.types.MERCHANT,code:"US_BANK_ACCOUNT_OPTION_REQUIRED"},US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS:{type:v.types.MERCHANT,code:"US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS"},US_BANK_ACCOUNT_LOGIN_LOAD_FAILED:{type:v.types.NETWORK,code:"US_BANK_ACCOUNT_LOGIN_LOAD_FAILED",message:"Bank login flow failed to load."},US_BANK_ACCOUNT_LOGIN_CLOSED:{type:v.types.CUSTOMER,code:"US_BANK_ACCOUNT_LOGIN_CLOSED",message:"Customer closed bank login flow before authorizing."},US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE:{type:v.types.MERCHANT,code:"US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE",message:"Another bank login tokenization request is active."},US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR:{type:v.types.NETWORK,code:"US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR",message:"A tokenization network error occurred."},US_BANK_ACCOUNT_FAILED_TOKENIZATION:{type:v.types.CUSTOMER,code:"US_BANK_ACCOUNT_FAILED_TOKENIZATION",message:"The supplied data failed tokenization."},US_BANK_ACCOUNT_NOT_ENABLED:{type:v.types.MERCHANT,code:"US_BANK_ACCOUNT_NOT_ENABLED",message:"US bank account is not enabled."},US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED:{type:v.types.MERCHANT,code:"US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED",message:"Bank login is not enabled."}}},{"../lib/braintree-error":130}],208:[function(i,d,p){"use strict";var v=i("../lib/basic-component-verification"),S=i("../lib/braintree-error"),T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I=i("./errors"),N=i("./us-bank-account"),R="3.79.1",P=i("../lib/promise"),k=i("@braintree/wrap-promise");function create(i){var d="US Bank Account";return v.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d})})).then((function(d){return i.client=d,i.client.getConfiguration().gatewayConfiguration.usBankAccount?new N(i):P.reject(new S(I.US_BANK_ACCOUNT_NOT_ENABLED))}))}d.exports={create:k(create),VERSION:R}},{"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./errors":207,"./us-bank-account":209,"@braintree/wrap-promise":48}],209:[function(i,d,p){"use strict";var v=i("../lib/braintree-error"),S=i("./constants"),T=i("./errors"),O=i("../lib/errors"),I=i("../lib/analytics"),N=i("../lib/once"),R=i("../lib/convert-methods-to-error"),P=i("../lib/methods"),k=i("../lib/promise"),L=i("@braintree/wrap-promise"),M=createGraphQLMutation("UsBankAccount"),F=createGraphQLMutation("UsBankLogin");function USBankAccount(i){this._client=i.client,this._isTokenizingBankLogin=!1,I.sendEvent(this._client,"usbankaccount.initialized")}function errorFrom(i){var d,p=i.details&&i.details.httpStatus;return(d=new v(401===p?O.BRAINTREE_API_ACCESS_RESTRICTED:p<500?T.US_BANK_ACCOUNT_FAILED_TOKENIZATION:T.US_BANK_ACCOUNT_TOKENIZATION_NETWORK_ERROR)).details={originalError:i},d}function formatTokenizeResponseFromGraphQL(i,d){var p=i.data[d].paymentMethod,v="US bank account ending in - "+p.details.last4;return{nonce:p.id,details:{},description:v,type:"us_bank_account"}}function addLoadListeners(i,d){function loadHandler(){var i=this.readyState;i&&"loaded"!==i&&"complete"!==i||(removeLoadListeners(),d(null,window.Plaid))}function errorHandler(){i.parentNode.removeChild(i),d(new v(T.US_BANK_ACCOUNT_LOGIN_LOAD_FAILED))}function removeLoadListeners(){i.removeEventListener("error",errorHandler),i.removeEventListener("load",loadHandler),i.removeEventListener("readystatechange",loadHandler)}i.addEventListener("error",errorHandler),i.addEventListener("load",loadHandler),i.addEventListener("readystatechange",loadHandler)}function formatBillingAddressForGraphQL(i){return{streetAddress:i.streetAddress,extendedAddress:i.extendedAddress,city:i.locality,state:i.region,zipCode:i.postalCode}}function formatDataForOwnershipType(i,d){"personal"===d.ownershipType?i.individualOwner={firstName:d.firstName,lastName:d.lastName}:"business"===d.ownershipType&&(i.businessOwner={businessName:d.businessName})}function createGraphQLMutation(i){return"mutation Tokenize"+i+"($input: Tokenize"+i+"Input!) {  tokenize"+i+"(input: $input) {    paymentMethod {      id      details {        ... on UsBankAccountDetails {          last4        }      }    }  }}"}USBankAccount.prototype.tokenize=function(i){return(i=i||{}).mandateText?i.bankDetails&&i.bankLogin?k.reject(new v({type:T.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.type,code:T.US_BANK_ACCOUNT_MUTUALLY_EXCLUSIVE_OPTIONS.code,message:"tokenize must be called with bankDetails or bankLogin, not both."})):i.bankDetails?this._tokenizeBankDetails(i):i.bankLogin?this._tokenizeBankLogin(i):k.reject(new v({type:T.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:T.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"tokenize must be called with bankDetails or bankLogin."})):k.reject(new v({type:T.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:T.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"mandateText property is required."}))},USBankAccount.prototype._tokenizeBankDetails=function(i){var d=this._client,p=i.bankDetails,v={achMandate:i.mandateText,routingNumber:p.routingNumber,accountNumber:p.accountNumber,accountType:p.accountType.toUpperCase(),billingAddress:formatBillingAddressForGraphQL(p.billingAddress||{})};return formatDataForOwnershipType(v,p),d.request({api:"graphQLApi",data:{query:M,variables:{input:{usBankAccount:v}}}}).then((function(i){return I.sendEvent(d,"usbankaccount.bankdetails.tokenization.succeeded"),k.resolve(formatTokenizeResponseFromGraphQL(i,"tokenizeUsBankAccount"))})).catch((function(i){var p=errorFrom(i);return I.sendEvent(d,"usbankaccount.bankdetails.tokenization.failed"),k.reject(p)}))},USBankAccount.prototype._tokenizeBankLogin=function(i){var d=this,p=this._client,S=p.getConfiguration().gatewayConfiguration,O="production"===S.environment,N=S.usBankAccount.plaid;return i.bankLogin.displayName?N?this._isTokenizingBankLogin?k.reject(new v(T.US_BANK_ACCOUNT_LOGIN_REQUEST_ACTIVE)):(this._isTokenizingBankLogin=!0,new k((function(S,R){d._loadPlaid((function(P,k){P?R(P):(k.create({clientName:i.bankLogin.displayName,apiVersion:"v2",env:O?"production":"sandbox",key:N.publicKey,product:"auth",selectAccount:!0,onExit:function(){d._isTokenizingBankLogin=!1,I.sendEvent(p,"usbankaccount.banklogin.tokenization.closed.by-user"),R(new v(T.US_BANK_ACCOUNT_LOGIN_CLOSED))},onSuccess:function(v,T){var N=i.bankLogin,P={publicToken:v,accountId:O?T.account_id:"plaid_account_id",accountType:T.account.subtype.toUpperCase(),achMandate:i.mandateText,billingAddress:formatBillingAddressForGraphQL(N.billingAddress||{})};formatDataForOwnershipType(P,N),p.request({api:"graphQLApi",data:{query:F,variables:{input:{usBankLogin:P}}}}).then((function(i){d._isTokenizingBankLogin=!1,I.sendEvent(p,"usbankaccount.banklogin.tokenization.succeeded"),S(formatTokenizeResponseFromGraphQL(i,"tokenizeUsBankLogin"))})).catch((function(i){var v;d._isTokenizingBankLogin=!1,v=errorFrom(i),I.sendEvent(p,"usbankaccount.banklogin.tokenization.failed"),R(v)}))}}).open(),I.sendEvent(p,"usbankaccount.banklogin.tokenization.started"))}))}))):k.reject(new v(T.US_BANK_ACCOUNT_BANK_LOGIN_NOT_ENABLED)):k.reject(new v({type:T.US_BANK_ACCOUNT_OPTION_REQUIRED.type,code:T.US_BANK_ACCOUNT_OPTION_REQUIRED.code,message:"displayName property is required when using bankLogin."}))},USBankAccount.prototype._loadPlaid=function(i){var d,p;i=N(i),window.Plaid?i(null,window.Plaid):(d=document.querySelector('script[src="'+S.PLAID_LINK_JS+'"]'))?addLoadListeners(d,i):((p=document.createElement("script")).src=S.PLAID_LINK_JS,p.async=!0,addLoadListeners(p,i),document.body.appendChild(p),this._plaidScript=p)},USBankAccount.prototype.teardown=function(){return this._plaidScript&&document.body.removeChild(this._plaidScript),R(this,P(USBankAccount.prototype)),k.resolve()},d.exports=L.wrapPrototype(USBankAccount)},{"../lib/analytics":125,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/errors":141,"../lib/methods":161,"../lib/once":162,"../lib/promise":163,"./constants":206,"./errors":207,"@braintree/wrap-promise":48}],210:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN:{type:v.types.MERCHANT,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN",message:"A client token with a customer id must be used to delete a payment method nonce."},VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND:{type:v.types.MERCHANT,code:"VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND"},VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR:{type:v.types.UNKNOWN,code:"VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR"}}},{"../lib/braintree-error":130}],211:[function(i,d,p){"use strict";var v=i("../lib/basic-component-verification"),S=i("../lib/create-deferred-client"),T=i("../lib/create-assets-url"),O=i("./vault-manager"),I="3.79.1",N=i("@braintree/wrap-promise");function create(i){var d="Vault Manager";return v.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return new O({createPromise:S.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:T.create(i.authorization),name:d})})}))}d.exports={create:N(create),VERSION:I}},{"../lib/basic-component-verification":128,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"./vault-manager":212,"@braintree/wrap-promise":48}],212:[function(i,d,p){"use strict";var v=i("../lib/analytics"),S=i("../lib/braintree-error"),T=i("./errors"),O=i("../lib/convert-methods-to-error"),I=i("../lib/methods"),N=i("../lib/promise"),R=i("@braintree/wrap-promise"),P="mutation DeletePaymentMethodFromSingleUseToken($input: DeletePaymentMethodFromSingleUseTokenInput!) {  deletePaymentMethodFromSingleUseToken(input: $input) {    clientMutationId  }}";function VaultManager(i){this._createPromise=i.createPromise}function formatPaymentMethodPayload(i){var d={nonce:i.nonce,default:i.default,details:i.details,hasSubscription:i.hasSubscription,type:i.type};return i.description&&(d.description=i.description),i.binData&&(d.binData=i.binData),d}VaultManager.prototype.fetchPaymentMethods=function(i){var d;return d=!0===(i=i||{}).defaultFirst?1:0,this._createPromise.then((function(i){return i.request({endpoint:"payment_methods",method:"get",data:{defaultFirst:d}})})).then(function(i){return v.sendEvent(this._createPromise,"vault-manager.fetch-payment-methods.succeeded"),i.paymentMethods.map(formatPaymentMethodPayload)}.bind(this))},VaultManager.prototype.deletePaymentMethod=function(i){return this._createPromise.then((function(d){return"CLIENT_TOKEN"===d.getConfiguration().authorizationType?d.request({api:"graphQLApi",data:{query:P,variables:{input:{singleUseTokenId:i}},operationName:"DeletePaymentMethodFromSingleUseToken"}}).then((function(){v.sendEvent(d,"vault-manager.delete-payment-method.succeeded")})).catch((function(p){var O,I=p.details.originalError;return v.sendEvent(d,"vault-manager.delete-payment-method.failed"),I[0]&&"NOT_FOUND"===I[0].extensions.errorClass&&(O=new S({type:T.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.type,code:T.VAULT_MANAGER_PAYMENT_METHOD_NONCE_NOT_FOUND.code,message:"A payment method for payment method nonce `"+i+"` could not be found.",details:{originalError:I}})),O||(O=new S({type:T.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.type,code:T.VAULT_MANAGER_DELETE_PAYMENT_METHOD_UNKNOWN_ERROR.code,message:"An unknown error occured when attempting to delete the payment method assocaited with the payment method nonce `"+i+"`.",details:{originalError:I}})),N.reject(O)})):N.reject(new S(T.VAULT_MANAGER_DELETE_PAYMENT_METHOD_NONCE_REQUIRES_CLIENT_TOKEN))}))},VaultManager.prototype.teardown=function(){return O(this,I(VaultManager.prototype)),N.resolve()},d.exports=R.wrapPrototype(VaultManager)},{"../lib/analytics":125,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/methods":161,"../lib/promise":163,"./errors":210,"@braintree/wrap-promise":48}],213:[function(i,d,p){"use strict";var v=(this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}})(i("./venmo-desktop"));d.exports=function createVenmoDesktop(i){return new v.default(i).initialize()}},{"./venmo-desktop":215}],214:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.VENMO_PAYMENT_CONTEXT_STATUS_QUERY=p.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY=p.UPDATE_PAYMENT_CONTEXT_QUERY=p.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY=p.CREATE_PAYMENT_CONTEXT_QUERY=p.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY=void 0,p.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY="mutation CreateVenmoQRCodePaymentContext($input: CreateVenmoQRCodePaymentContextInput!) {\n  createVenmoQRCodePaymentContext(input: $input) {\n    clientMutationId\n    venmoQRCodePaymentContext {\n      id\n      merchantId\n      createdAt\n      expiresAt\n    }\n  }\n}",p.CREATE_PAYMENT_CONTEXT_QUERY="mutation CreateVenmoPaymentContext($input: CreateVenmoPaymentContextInput!) {\n  createVenmoPaymentContext(input: $input) {\n    clientMutationId\n    venmoPaymentContext {\n      id\n      merchantId\n      createdAt\n      expiresAt\n    }\n  }\n}",p.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY="mutation UpdateVenmoQRCodePaymentContext($input: UpdateVenmoQRCodePaymentContextInput!) {\n  updateVenmoQRCodePaymentContext(input: $input) {\n    clientMutationId\n  }\n}",p.UPDATE_PAYMENT_CONTEXT_QUERY="mutation UpdateVenmoPaymentContextStatus($input: UpdateVenmoPaymentContextStatusInput!) {\n  updateVenmoPaymentContextStatus(input: $input) {\n    clientMutationId\n  }\n}",p.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY="query PaymentContext($id: ID!) {\n  node(id: $id) {\n    ... on VenmoQRCodePaymentContext {\n      status\n      paymentMethodId\n      userName\n    }\n  }\n}",p.VENMO_PAYMENT_CONTEXT_STATUS_QUERY="query PaymentContext($id: ID!) {\n  node(id: $id) {\n    ... on VenmoPaymentContext {\n      status\n      paymentMethodId\n      userName\n    }\n  }\n}"},{}],215:[function(i,d,p){"use strict";var v=this&&this.__assign||function(){return v=Object.assign||function(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},v.apply(this,arguments)},S=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(p,"__esModule",{value:!0});var T=S(i("framebus")),O=S(i("@braintree/iframer")),I=S(i("@braintree/uuid")),N=i("../shared/events"),R=i("./queries"),P=1e3,k=2e3,L=function(){function VenmoDesktop(i){this.isHidden=!0,this.env=i.environment,this.id=I.default(),this.profileId=i.profileId,this.displayName=i.displayName,this.paymentMethodUsage=i.paymentMethodUsage,this.shouldUseLegacyQRCodeMutation=!this.paymentMethodUsage;var d=i.url+"#"+this.env+"_"+this.id;this.bus=new T.default({channel:this.id,verifyDomain:i.verifyDomain}),this.apiRequest=i.apiRequest,this.sendEvent=i.sendEvent,this.Promise=i.Promise,this.alertBox=document.createElement("div"),this.alertBox.setAttribute("data-venmo-desktop-id",this.id),this.alertBox.setAttribute("role","alert"),this.alertBox.style.position="fixed",this.alertBox.style.display="none",this.alertBox.style.height="1px",this.alertBox.style.width="1px",this.alertBox.style.overflow="hidden",this.alertBox.style.zIndex="0",this.iframe=O.default({src:d,name:"venmo-desktop-iframe",style:{display:"none",position:"fixed",top:"0",bottom:"0",right:"0",left:"0",height:"100%",width:"100%",zIndex:"9999999"},title:"Venmo Desktop"})}return VenmoDesktop.prototype.initialize=function(){var i=this;return new this.Promise((function(d){i.bus.on(N.VENMO_DESKTOP_IFRAME_READY,(function(){d(i)})),i.bus.on(N.VENMO_DESKTOP_REQUEST_NEW_QR_CODE,(function(){i.sendEvent("venmo.tokenize.desktop.restarted-from-error-view"),i.startPolling()})),document.body.appendChild(i.iframe),document.body.appendChild(i.alertBox)}))},VenmoDesktop.prototype.launchDesktopFlow=function(){var i=this;this.isHidden=!1;var d=new this.Promise((function(d,p){i.launchDesktopPromiseRejectFunction=p;var removeListeners=function(){i.bus.off(N.VENMO_DESKTOP_CUSTOMER_CANCELED,customerCancelledHandler),i.bus.off(N.VENMO_DESKTOP_AUTHORIZATION_COMPLETED,completedHandler),i.bus.off(N.VENMO_DESKTOP_UNKNOWN_ERROR,unknownErrorHandler)},unknownErrorHandler=function(d){removeListeners(),i.sendEvent("venmo.tokenize.desktop.unknown-error"),p({allowUIToHandleError:!1,reason:"UNKNOWN_ERROR",err:d})},customerCancelledHandler=function(){removeListeners(),i.updateVenmoDesktopPaymentContext("CANCELED"),i.sendEvent("venmo.tokenize.desktop.status-change.canceled-from-modal"),p({allowUIToHandleError:!1,reason:"CUSTOMER_CANCELED"})},completedHandler=function(i){removeListeners(),d(i)};i.bus.on(N.VENMO_DESKTOP_CUSTOMER_CANCELED,customerCancelledHandler),i.bus.on(N.VENMO_DESKTOP_AUTHORIZATION_COMPLETED,completedHandler),i.bus.on(N.VENMO_DESKTOP_UNKNOWN_ERROR,unknownErrorHandler)}));return this.iframe.style.display="block",this.setAlert("Generating a QR code, get your Venmo app ready"),this.iframe.focus(),this.startPolling(),d.then((function(d){return delete i.venmoContextId,delete i.launchDesktopPromiseRejectFunction,d})).catch((function(d){return delete i.venmoContextId,delete i.launchDesktopPromiseRejectFunction,i.Promise.reject(d)}))},VenmoDesktop.prototype.triggerCompleted=function(i){var d=this;this.isHidden||setTimeout((function(){d.bus.emit(N.VENMO_DESKTOP_AUTHORIZATION_COMPLETED,i)}),k)},VenmoDesktop.prototype.triggerRejected=function(i){this.launchDesktopPromiseRejectFunction&&this.launchDesktopPromiseRejectFunction(i)},VenmoDesktop.prototype.hideDesktopFlow=function(){this.setAlert(""),this.iframe.style.display="none",this.bus.emit(N.VENMO_DESKTOP_CLOSED_FROM_PARENT),this.isHidden=!0},VenmoDesktop.prototype.displayError=function(i){this.isHidden||(this.bus.emit(N.VENMO_DESKTOP_DISPLAY_ERROR,{message:i}),this.setAlert(i))},VenmoDesktop.prototype.displayQRCode=function(i,d){this.isHidden||(this.bus.emit(N.VENMO_DESKTOP_DISPLAY_QR_CODE,{id:i,merchantId:d}),this.setAlert("To scan the QR code, open your Venmo app"))},VenmoDesktop.prototype.authorize=function(){this.isHidden||(this.bus.emit(N.VENMO_DESKTOP_AUTHORIZE),this.setAlert("Venmo account authorized"))},VenmoDesktop.prototype.authorizing=function(){this.isHidden||(this.bus.emit(N.VENMO_DESKTOP_AUTHORIZING),this.setAlert("Authorize on your Venmo app"))},VenmoDesktop.prototype.startPolling=function(){var i=this;return this.createVenmoDesktopPaymentContext().then((function(d){var p=new Date(d.expiresAt).getTime()-new Date(d.createdAt).getTime(),v=Date.now()+p;return i.displayQRCode(d.id,d.merchantId),i.pollForStatusChange(d.status,v)})).then((function(d){if(d){var p=d.userName||"";p="@"+p.replace("@",""),i.triggerCompleted({paymentMethodNonce:d.paymentMethodId,username:p})}})).catch((function(d){d.allowUIToHandleError||(i.sendEvent("venmo.tokenize.desktop.unhandled-error"),i.triggerRejected(d))}))},VenmoDesktop.prototype.pollForStatusChange=function(i,d){var p=this;return this.venmoContextId?Date.now()>d?this.updateVenmoDesktopPaymentContext("EXPIRED").then((function(){return p.displayError("Something went wrong"),p.sendEvent("venmo.tokenize.desktop.status-change.sdk-timeout"),p.Promise.reject({allowUIToHandleError:!0,reason:"TIMEOUT"})})):this.lookupVenmoDesktopPaymentContext().then((function(v){if(!p.venmoContextId||!v)return p.Promise.resolve();var S=v.status;if(S!==i)switch(i=S,p.sendEvent("venmo.tokenize.desktop.status-change."+i.toLowerCase()),i){case"CREATED":break;case"EXPIRED":case"FAILED":case"CANCELED":var T="CANCELED"===i?"The authorization was canceled":"Something went wrong";return p.displayError(T),p.Promise.reject({allowUIToHandleError:!0,reason:i});case"SCANNED":p.authorizing();break;case"APPROVED":return p.authorize(),p.Promise.resolve(v)}return new p.Promise((function(v,S){setTimeout((function(){p.pollForStatusChange(i,d).then(v).catch(S)}),P)}))})):this.Promise.resolve()},VenmoDesktop.prototype.teardown=function(){this.bus.teardown(),this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),this.alertBox.parentNode&&this.alertBox.parentNode.removeChild(this.alertBox)},VenmoDesktop.prototype.setAlert=function(i){this.alertBox.style.display=i?"block":"none",this.alertBox.textContent=i},VenmoDesktop.prototype.createPaymentContextFromGraphqlLegacyQRCodeMutation=function(i){return this.apiRequest(R.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY,{input:{environment:this.env,intent:i}}).then((function(i){return i.createVenmoQRCodePaymentContext.venmoQRCodePaymentContext}))},VenmoDesktop.prototype.createPaymentContextFromGraphQL=function(i){var d={intent:i,paymentMethodUsage:this.paymentMethodUsage,customerClient:"DESKTOP"};return this.profileId&&(d.merchantProfileId=this.profileId),this.displayName&&(d.displayName=this.displayName),this.apiRequest(R.CREATE_PAYMENT_CONTEXT_QUERY,{input:d}).then((function(i){return i.createVenmoPaymentContext.venmoPaymentContext}))},VenmoDesktop.prototype.createVenmoDesktopPaymentContext=function(){var i=this;return(this.shouldUseLegacyQRCodeMutation?this.createPaymentContextFromGraphqlLegacyQRCodeMutation("PAY_FROM_APP"):this.createPaymentContextFromGraphQL("PAY_FROM_APP")).then((function(d){i.venmoContextId=d.id;var p=i.profileId||d.merchantId;return{id:d.id,status:d.status,merchantId:p,createdAt:d.createdAt,expiresAt:d.expiresAt}}))},VenmoDesktop.prototype.updateVenmoDesktopPaymentContext=function(i,d){if(void 0===d&&(d={}),!this.venmoContextId)return this.Promise.resolve();var p={input:v({id:this.venmoContextId,status:i},d)},S=this.shouldUseLegacyQRCodeMutation?R.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY:R.UPDATE_PAYMENT_CONTEXT_QUERY;return this.apiRequest(S,p).then((function(){}))},VenmoDesktop.prototype.lookupVenmoDesktopPaymentContext=function(){if(!this.venmoContextId)return this.Promise.resolve();var i=this.shouldUseLegacyQRCodeMutation?R.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY:R.VENMO_PAYMENT_CONTEXT_STATUS_QUERY;return this.apiRequest(i,{id:this.venmoContextId}).then((function(i){return i.node}))},VenmoDesktop}();p.default=L},{"../shared/events":220,"./queries":214,"@braintree/iframer":40,"@braintree/uuid":44,framebus:57}],216:[function(i,d,p){"use strict";var v=i("../lib/analytics"),S=i("../lib/basic-component-verification"),T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I=i("./shared/errors"),N=i("@braintree/wrap-promise"),R=i("../lib/braintree-error"),P=i("./venmo"),k=i("../lib/promise"),L=i("./shared/supports-venmo"),M="3.79.1";function create(i){var d="Venmo";return S.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){var p,S;return i.profileId&&"string"!=typeof i.profileId?k.reject(new R(I.VENMO_INVALID_PROFILE_ID)):i.deepLinkReturnUrl&&"string"!=typeof i.deepLinkReturnUrl?k.reject(new R(I.VENMO_INVALID_DEEP_LINK_RETURN_URL)):(p=T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d}).then((function(d){var p=d.getConfiguration();return i.client=d,p.gatewayConfiguration.payWithVenmo?d:k.reject(new R(I.VENMO_NOT_ENABLED))})),i.createPromise=p,S=new P(i),v.sendEvent(p,"venmo.initialized"),p.then((function(){return S})))}))}function isBrowserSupported(i){return L.isBrowserSupported(i)}d.exports={create:N(create),isBrowserSupported,VERSION:M}},{"../lib/analytics":125,"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./shared/errors":219,"./shared/supports-venmo":221,"./venmo":222,"@braintree/wrap-promise":48}],217:[function(i,d,p){"use strict";var v=i("@braintree/browser-detection/is-android"),S=i("@braintree/browser-detection/is-chrome"),T=i("@braintree/browser-detection/is-ios"),O=i("@braintree/browser-detection/is-ios-safari"),I=i("@braintree/browser-detection/is-ios-webview");function isAndroidWebview(){return v()&&window.navigator.userAgent.toLowerCase().indexOf("wv")>-1}function doesNotSupportWindowOpenInIos(){return I()||T()&&S()}d.exports={isAndroid:v,isAndroidWebview,isChrome:S,isIos:T,isIosSafari:O,isIosWebview:I,doesNotSupportWindowOpenInIos}},{"@braintree/browser-detection/is-android":24,"@braintree/browser-detection/is-chrome":26,"@braintree/browser-detection/is-ios":35,"@braintree/browser-detection/is-ios-safari":32,"@braintree/browser-detection/is-ios-webview":33}],218:[function(i,d,p){"use strict";d.exports={DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY:500,DEFAULT_PROCESS_RESULTS_DELAY:1e3,VENMO_OPEN_URL:"https://venmo.com/braintree/checkout"}},{}],219:[function(i,d,p){"use strict";var v=i("../../lib/braintree-error");d.exports={VENMO_NOT_ENABLED:{type:v.types.MERCHANT,code:"VENMO_NOT_ENABLED",message:"Venmo is not enabled for this merchant."},VENMO_TOKENIZATION_REQUEST_ACTIVE:{type:v.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_ACTIVE",message:"Another tokenization request is active."},VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE:{type:v.types.MERCHANT,code:"VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE",message:"No tokenization in progress."},VENMO_APP_FAILED:{type:v.types.UNKNOWN,code:"VENMO_APP_FAILED",message:"Venmo app encountered a problem."},VENMO_APP_CANCELED:{type:v.types.CUSTOMER,code:"VENMO_APP_CANCELED",message:"Venmo app authorization was canceled."},VENMO_CANCELED:{type:v.types.CUSTOMER,code:"VENMO_CANCELED",message:"User canceled Venmo authorization, or Venmo app is not available."},VENMO_DESKTOP_CANCELED:{type:v.types.CUSTOMER,code:"VENMO_DESKTOP_CANCELED",message:"User canceled Venmo authorization by closing the Venmo Desktop modal."},VENMO_TOKENIZATION_CANCELED_BY_MERCHANT:{type:v.types.MERCHANT,code:"VENMO_TOKENIZATION_CANCELED_BY_MERCHANT",message:"The Venmo tokenization was canceled by the merchant."},VENMO_DESKTOP_UNKNOWN_ERROR:{type:v.types.UNKNOWN,code:"VENMO_DESKTOP_UNKNOWN_ERROR",message:"Something went wrong with the Venmo Desktop flow."},VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED:{type:v.types.NETWORK,code:"VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED",message:"Something went wrong creating the Venmo Payment Context."},VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR:{type:v.types.UNKNOWN,code:"VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR",message:"Something went wrong during mobile polling."},VENMO_MOBILE_POLLING_TOKENIZATION_EXPIRED:{type:v.types.CUSTOMER,code:"VENMO_MOBILE_POLLING_TOKENIZATION_EXPIRED",message:"The Venmo authorization request is expired."},VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED:{type:v.types.CUSTOMER,code:"VENMO_MOBILE_POLLING_TOKENIZATION_CANCELED",message:"The Venmo authorization was canceled"},VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT:{type:v.types.CUSTOMER,code:"VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT",message:"Customer took too long to authorize Venmo payment."},VENMO_MOBILE_POLLING_TOKENIZATION_FAILED:{type:v.types.UNKNOWN,code:"VENMO_MOBILE_POLLING_TOKENIZATION_FAILED",message:"The Venmo authorization failed."},VENMO_INVALID_PROFILE_ID:{type:v.types.MERCHANT,code:"VENMO_INVALID_PROFILE_ID",message:"Venmo profile ID is invalid."},VENMO_INVALID_DEEP_LINK_RETURN_URL:{type:v.types.MERCHANT,code:"VENMO_INVALID_DEEP_LINK_RETURN_URL",message:"Venmo deep link return URL is invalid."}}},{"../../lib/braintree-error":130}],220:[function(i,d,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.VENMO_DESKTOP_UNKNOWN_ERROR=p.VENMO_DESKTOP_REQUEST_NEW_QR_CODE=p.VENMO_DESKTOP_CLOSED_FROM_PARENT=p.VENMO_DESKTOP_IFRAME_READY=p.VENMO_DESKTOP_DISPLAY_QR_CODE=p.VENMO_DESKTOP_DISPLAY_ERROR=p.VENMO_DESKTOP_CUSTOMER_CANCELED=p.VENMO_DESKTOP_AUTHORIZATION_COMPLETED=p.VENMO_DESKTOP_AUTHORIZING=p.VENMO_DESKTOP_AUTHORIZE=p.VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT=void 0,p.VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT="VENMO_DESKTOP_AUTHORIZATION_TIMED_OUT",p.VENMO_DESKTOP_AUTHORIZE="VENMO_DESKTOP_AUTHORIZE",p.VENMO_DESKTOP_AUTHORIZING="VENMO_DESKTOP_AUTHORIZING",p.VENMO_DESKTOP_AUTHORIZATION_COMPLETED="VENMO_DESKTOP_AUTHORIZATION_COMPLETED",p.VENMO_DESKTOP_CUSTOMER_CANCELED="VENMO_DESKTOP_CUSTOMER_CANCELED",p.VENMO_DESKTOP_DISPLAY_ERROR="VENMO_DESKTOP_DISPLAY_ERROR",p.VENMO_DESKTOP_DISPLAY_QR_CODE="VENMO_DESKTOP_DISPLAY_QR_CODE",p.VENMO_DESKTOP_IFRAME_READY="VENMO_DESKTOP_IFRAME_READY",p.VENMO_DESKTOP_CLOSED_FROM_PARENT="VENMO_DESKTOP_CLOSED_FROM_PARENT",p.VENMO_DESKTOP_REQUEST_NEW_QR_CODE="VENMO_DESKTOP_REQUEST_NEW_QR_CODE",p.VENMO_DESKTOP_UNKNOWN_ERROR="VENMO_DESKTOP_UNKNOWN_ERROR"},{}],221:[function(i,d,p){"use strict";var v=i("./browser-detection");function isBrowserSupported(i){var d,p,S=v.isAndroid(),T=S||v.isIos(),O=S&&v.isChrome(),I=v.isIosSafari()||O;return p=!0===(i=i||{}).allowDesktop,d=!i.hasOwnProperty("allowNewBrowserTab")||i.allowNewBrowserTab,!(i.hasOwnProperty("allowWebviews")&&!i.allowWebviews&&(v.isAndroidWebview()||v.isIosWebview()))&&(d?!!p||T:!!I||p&&!T)}d.exports={isBrowserSupported}},{"./browser-detection":217}],222:[function(i,d,p){"use strict";var v=i("../lib/analytics"),S=i("./shared/supports-venmo"),T=i("./shared/browser-detection"),O=i("./shared/constants"),I=i("./shared/errors"),N=i("../lib/querystring"),R=i("../lib/is-verified-domain"),P=i("../lib/methods"),k=i("../lib/convert-methods-to-error"),L=i("@braintree/wrap-promise"),M=i("../lib/braintree-error"),F=i("../lib/in-iframe"),U=i("../lib/promise"),j=i("@braintree/extended-promise"),H=i("./external/"),V=i("./external/queries"),Y="3.79.1",G=250,W=3e5;function Venmo(i){var d=this;this._createPromise=i.createPromise,this._allowNewBrowserTab=!1!==i.allowNewBrowserTab,this._allowWebviews=!1!==i.allowWebviews,this._allowDesktop=!0===i.allowDesktop,this._requireManualReturn=!0===i.requireManualReturn,this._useRedirectForIOS=!0===i.useRedirectForIOS,this._profileId=i.profileId,this._displayName=i.displayName,this._deepLinkReturnUrl=i.deepLinkReturnUrl,this._ignoreHistoryChanges=i.ignoreHistoryChanges,this._paymentMethodUsage=(i.paymentMethodUsage||"").toUpperCase(),this._shouldUseLegacyFlow=!this._paymentMethodUsage,this._useDesktopFlow=this._allowDesktop&&this._isDesktop(),this._cannotHaveReturnUrls=F()||this._requireManualReturn,this._shouldCreateVenmoPaymentContext=this._cannotHaveReturnUrls||!this._shouldUseLegacyFlow,v.sendEvent(this._createPromise,"venmo.desktop-flow.configured."+String(Boolean(this._allowDesktop))),this.hasTokenizationResult()?v.sendEvent(this._createPromise,"venmo.appswitch.return-in-new-tab"):this._useDesktopFlow?this._createPromise=this._createPromise.then((function(i){var p=i.getConfiguration().gatewayConfiguration;return H({url:p.assetsUrl+"/web/"+Y+"/html/venmo-desktop-frame.html",environment:"production"===p.environment?"PRODUCTION":"SANDBOX",profileId:d._profileId||p.payWithVenmo.merchantId,paymentMethodUsage:d._paymentMethodUsage,displayName:d._displayName,Promise:U,apiRequest:function(d,p){return i.request({api:"graphQLApi",data:{query:d,variables:p}}).then((function(i){return i.data}))},sendEvent:function(i){v.sendEvent(d._createPromise,i)},verifyDomain:R}).then((function(p){return d._venmoDesktopInstance=p,v.sendEvent(d._createPromise,"venmo.desktop-flow.presented"),i})).catch((function(){return v.sendEvent(d._createPromise,"venmo.desktop-flow.setup-failed"),d._useDesktopFlow=!1,i}))})):this._shouldCreateVenmoPaymentContext&&(this._mobilePollingInterval=G,this._mobilePollingExpiresThreshold=W,this._createPromise=this._createPromise.then((function(i){var p=d._cannotHaveReturnUrls?"manual-return":"mobile-payment-context",S=i.getConfiguration().gatewayConfiguration;return d._mobilePollingContextEnvironment=S.environment.toUpperCase(),d._createVenmoPaymentContext(i).then((function(){return v.sendEvent(d._createPromise,"venmo."+p+".presented"),i})).catch((function(i){return v.sendEvent(d._createPromise,"venmo."+p+".setup-failed"),U.reject(new M({type:I.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.type,code:I.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.code,message:I.VENMO_MOBILE_PAYMENT_CONTEXT_SETUP_FAILED.message,details:{originalError:i}}))}))})))}function getFragmentParameters(i){return(i||window.location.hash.substring(1)).split("&").reduce((function(i,d){var p=d.split("="),v=decodeURIComponent(p[0]).replace(/\W/g,""),S=decodeURIComponent(p[1]);return i[v]=S,i}),{})}function formatTokenizePayload(i){return{nonce:i.paymentMethodNonce,type:"VenmoAccount",details:{username:i.username}}}function documentVisibilityChangeEventName(){var i;return void 0!==window.document.hidden?i="visibilitychange":void 0!==window.document.msHidden?i="msvisibilitychange":void 0!==window.document.webkitHidden&&(i="webkitvisibilitychange"),i}function isIosWebviewInDeepLinkReturnUrlFlow(){return window.navigator.platform&&/iPhone|iPad|iPod/.test(window.navigator.platform)}Venmo.prototype._createVenmoPaymentContext=function(i,d){var p=this;return this._shouldCreateVenmoPaymentContext?(this._shouldUseLegacyFlow?i.request({api:"graphQLApi",data:{query:V.LEGACY_CREATE_PAYMENT_CONTEXT_QUERY,variables:{input:{environment:this._mobilePollingContextEnvironment,intent:"PAY_FROM_APP"}}}}).then((function(i){return i.data.createVenmoQRCodePaymentContext.venmoQRCodePaymentContext})):i.request({api:"graphQLApi",data:{query:V.CREATE_PAYMENT_CONTEXT_QUERY,variables:{input:{paymentMethodUsage:this._paymentMethodUsage,intent:"CONTINUE",customerClient:"MOBILE_WEB",displayName:this._displayName}}}}).then((function(i){return i.data.createVenmoPaymentContext.venmoPaymentContext}))).then((function(v){var S=.6666*(new Date(v.expiresAt)-new Date(v.createdAt));clearTimeout(p._refreshPaymentContextTimeout),p._refreshPaymentContextTimeout=setTimeout((function(){p._tokenizationInProgress||p._createVenmoPaymentContext(i,!0)}),S),d&&p._tokenizationInProgress||(p._venmoPaymentContextStatus=v.status,p._venmoPaymentContextId=v.id)})):U.resolve()},Venmo.prototype.appSwitch=function(i){this._deepLinkReturnUrl?isIosWebviewInDeepLinkReturnUrlFlow()?(v.sendEvent(this._createPromise,"venmo.appswitch.start.ios-webview"),window.location.href=i):window.popupBridge&&"function"==typeof window.popupBridge.open?(v.sendEvent(this._createPromise,"venmo.appswitch.start.popup-bridge"),window.popupBridge.open(i)):(v.sendEvent(this._createPromise,"venmo.appswitch.start.webview"),window.open(i)):(v.sendEvent(this._createPromise,"venmo.appswitch.start.browser"),T.doesNotSupportWindowOpenInIos()||this._shouldUseRedirectStrategy()?window.location.href=i:window.open(i))},Venmo.prototype.getUrl=function(){return this._createPromise.then(function(i){var d=i.getConfiguration(),p={},v=this._deepLinkReturnUrl||window.location.href.replace(window.location.hash,""),S=d.gatewayConfiguration.payWithVenmo,T=d.analyticsMetadata,I=S.accessToken,R={_meta:{version:T.sdkVersion,integration:T.integration,platform:T.platform,sessionId:T.sessionId}};return v=v.replace(/#*$/,""),this._venmoPaymentContextId&&(this._shouldUseLegacyFlow?I+="|pcid:"+this._venmoPaymentContextId:p.resource_id=this._venmoPaymentContextId),this._shouldIncludeReturnUrls()?(p["x-success"]=v+"#venmoSuccess=1",p["x-cancel"]=v+"#venmoCancel=1",p["x-error"]=v+"#venmoError=1"):(p["x-success"]="NOOP",p["x-cancel"]="NOOP",p["x-error"]="NOOP"),p.ua=window.navigator.userAgent,p.braintree_merchant_id=this._profileId||S.merchantId,p.braintree_access_token=I,p.braintree_environment=S.environment,p.braintree_sdk_data=btoa(JSON.stringify(R)),O.VENMO_OPEN_URL+"?"+N.stringify(p)}.bind(this))},Venmo.prototype.isBrowserSupported=function(){return S.isBrowserSupported({allowNewBrowserTab:this._allowNewBrowserTab,allowWebviews:this._allowWebviews,allowDesktop:this._allowDesktop})},Venmo.prototype.hasTokenizationResult=function(){return this._hasTokenizationResult()},Venmo.prototype._hasTokenizationResult=function(i){var d=getFragmentParameters(i);return void 0!==(d.venmoSuccess||d.venmoError||d.venmoCancel)},Venmo.prototype._shouldIncludeReturnUrls=function(){return!!this._deepLinkReturnUrl||!this._cannotHaveReturnUrls},Venmo.prototype._isDesktop=function(){return!(T.isIos()||T.isAndroid())},Venmo.prototype.tokenize=function(i){var d=this;return i=i||{},!0===this._tokenizationInProgress?U.reject(new M(I.VENMO_TOKENIZATION_REQUEST_ACTIVE)):(this._tokenizationInProgress=!0,(this._useDesktopFlow?this._tokenizeForDesktop(i):this._cannotHaveReturnUrls?this._tokenizeForMobileWithManualReturn():this._tokenizeForMobileWithHashChangeListeners(i)).then((function(i){return d._createPromise.then((function(i){return d._createVenmoPaymentContext(i)})).then((function(){return d._tokenizationInProgress=!1,formatTokenizePayload(i)}))})).catch((function(i){return d._createPromise.then((function(i){return d._createVenmoPaymentContext(i)})).then((function(){return d._tokenizationInProgress=!1,U.reject(i)}))})))},Venmo.prototype.cancelTokenization=function(){return this._tokenizationInProgress?(this._removeVisibilityEventListener(),this._tokenizePromise&&this._tokenizePromise.reject(new M(I.VENMO_TOKENIZATION_CANCELED_BY_MERCHANT)),U.all([this._cancelMobilePaymentContext(),this._cancelVenmoDesktopContext()])):U.reject(new M(I.VENMO_TOKENIZATION_REQUEST_NOT_ACTIVE))},Venmo.prototype._queryPaymentContextStatus=function(i){var d=this;return this._createPromise.then((function(p){var v=d._shouldUseLegacyFlow?V.LEGACY_VENMO_PAYMENT_CONTEXT_STATUS_QUERY:V.VENMO_PAYMENT_CONTEXT_STATUS_QUERY;return p.request({api:"graphQLApi",data:{query:v,variables:{id:i}}})})).then((function(i){return i.data.node}))},Venmo.prototype._pollForStatusChange=function(){var i=this;return Date.now()>i._mobilePollingContextExpiresIn?U.reject(new M(I.VENMO_MOBILE_POLLING_TOKENIZATION_TIMEOUT)):this._queryPaymentContextStatus(this._venmoPaymentContextId).catch((function(i){return U.reject(new M({type:I.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.type,code:I.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.code,message:I.VENMO_MOBILE_POLLING_TOKENIZATION_NETWORK_ERROR.message,details:{originalError:i}}))})).then((function(d){var p=d.status;if(p!==i._venmoPaymentContextStatus)switch(i._venmoPaymentContextStatus=p,v.sendEvent(i._createPromise,"venmo.tokenize.manual-return.status-change."+p.toLowerCase()),p){case"EXPIRED":case"FAILED":case"CANCELED":return U.reject(new M(I["VENMO_MOBILE_POLLING_TOKENIZATION_"+p]));case"APPROVED":return U.resolve(d)}return new U((function(d,p){setTimeout((function(){i._pollForStatusChange().then(d).catch(p)}),i._mobilePollingInterval)}))}))},Venmo.prototype._tokenizeForMobileWithManualReturn=function(){var i=this;return v.sendEvent(this._createPromise,"venmo.tokenize.manual-return.start"),this._mobilePollingContextExpiresIn=Date.now()+this._mobilePollingExpiresThreshold,this._tokenizePromise=new j,this._pollForStatusChange().then((function(d){v.sendEvent(i._createPromise,"venmo.tokenize.manual-return.success"),i._tokenizePromise.resolve({paymentMethodNonce:d.paymentMethodId,username:"@"+(d.userName||"").replace("@","")})})).catch((function(d){v.sendEvent(i._createPromise,"venmo.tokenize.manual-return.failure"),i._tokenizePromise.reject(d)})),this.getUrl().then((function(d){return i.appSwitch(d),i._tokenizePromise}))},Venmo.prototype._shouldUseRedirectStrategy=function(){return!!T.isIos()&&this._useRedirectForIOS},Venmo.prototype._tokenizeForMobileWithHashChangeListeners=function(i){var d,p,S=this;if(this.hasTokenizationResult())return this.processResultsFromHash();function completeFlow(i){var d;S.processResultsFromHash(i).catch((function(i){d=i})).then((function(i){S._ignoreHistoryChanges||window.location.hash===S._previousHash||(window.location.hash=S._previousHash),S._removeVisibilityEventListener(),d?S._tokenizePromise.reject(d):S._tokenizePromise.resolve(i),delete S._tokenizePromise}))}return v.sendEvent(this._createPromise,"venmo.tokenize.mobile.start"),this._tokenizePromise=new j,this._previousHash=window.location.hash,this._onHashChangeListener=function(i){var v=i.newURL.split("#")[1];S._hasTokenizationResult(v)&&(d=!0,clearTimeout(p),completeFlow(v))},window.addEventListener("hashchange",this._onHashChangeListener,!1),this._visibilityChangeListener=function(){var v=i.processResultsDelay||O.DEFAULT_PROCESS_RESULTS_DELAY;window.document.hidden||d||(p=setTimeout(completeFlow,v))},this.getUrl().then((function(i){return S.appSwitch(i),setTimeout((function(){window.document.addEventListener(documentVisibilityChangeEventName(),S._visibilityChangeListener)}),O.DOCUMENT_VISIBILITY_CHANGE_EVENT_DELAY),S._tokenizePromise}))},Venmo.prototype._tokenizeForDesktop=function(){var i=this;return v.sendEvent(this._createPromise,"venmo.tokenize.desktop.start"),this._tokenizePromise=new j,this._createPromise.then((function(){return i._venmoDesktopInstance.launchDesktopFlow()})).then((function(d){i._venmoDesktopInstance.hideDesktopFlow(),v.sendEvent(i._createPromise,"venmo.tokenize.desktop.success"),i._tokenizePromise.resolve(d)})).catch((function(d){v.sendEvent(i._createPromise,"venmo.tokenize.desktop.failure"),i._venmoDesktopInstance&&i._venmoDesktopInstance.hideDesktopFlow(),d&&"CUSTOMER_CANCELED"===d.reason?i._tokenizePromise.reject(new M(I.VENMO_DESKTOP_CANCELED)):i._tokenizePromise.reject(new M({type:I.VENMO_DESKTOP_UNKNOWN_ERROR.type,code:I.VENMO_DESKTOP_UNKNOWN_ERROR.code,message:I.VENMO_DESKTOP_UNKNOWN_ERROR.message,details:{originalError:d}}))})),this._tokenizePromise},Venmo.prototype._updateVenmoDesktopPaymentContext=function(i,d){return this._venmoDesktopInstance.updateVenmoDesktopPaymentContext(i,d)},Venmo.prototype._cancelMobilePaymentContext=function(){var i=this;return this._createPromise.then((function(d){var p;return i._venmoPaymentContextId?(p=i._shouldUseLegacyFlow?V.LEGACY_UPDATE_PAYMENT_CONTEXT_QUERY:V.UPDATE_PAYMENT_CONTEXT_QUERY,d.request({api:"graphQLApi",data:{query:p,variables:{input:{id:i._venmoPaymentContextId,status:"CANCELED"}}}})):U.resolve()}))},Venmo.prototype._cancelVenmoDesktopContext=function(){var i=this;return this._createPromise.then((function(){return i._venmoDesktopInstance&&i._venmoDesktopInstance.updateVenmoDesktopPaymentContext("CANCELED"),U.resolve()}))},Venmo.prototype.teardown=function(){var i=this;return this._removeVisibilityEventListener(),this._createPromise.then(function(){i._venmoDesktopInstance&&i._venmoDesktopInstance.teardown(),clearTimeout(i._refreshPaymentContextTimeout),i._cancelMobilePaymentContext(),k(this,P(Venmo.prototype))}.bind(this))},Venmo.prototype._removeVisibilityEventListener=function(){window.removeEventListener("hashchange",this._onHashChangeListener),window.document.removeEventListener(documentVisibilityChangeEventName(),this._visibilityChangeListener),delete this._visibilityChangeListener,delete this._onHashChangeListener},Venmo.prototype.processResultsFromHash=function(i){var d=this,p=getFragmentParameters(i);return new U((function(i,S){p.venmoSuccess?(v.sendEvent(d._createPromise,"venmo.appswitch.handle.success"),p.resource_id&&!d._shouldUseLegacyFlow?d._queryPaymentContextStatus(p.resource_id).then((function(S){if("APPROVED"!==S.status)return v.sendEvent(d._createPromise,"venmo.process-results.unexpected-payment-context-status."+S.status.toLowerCase()),void i(p);i({paymentMethodNonce:S.paymentMethodId,username:S.userName})})).catch((function(){v.sendEvent(d._createPromise,"venmo.process-results.payment-context-status-query-failed"),i(p)})):i(p)):p.venmoError?(v.sendEvent(d._createPromise,"venmo.appswitch.handle.error"),S(new M({type:I.VENMO_APP_FAILED.type,code:I.VENMO_APP_FAILED.code,message:I.VENMO_APP_FAILED.message,details:{originalError:{message:decodeURIComponent(p.errorMessage),code:p.errorCode}}}))):p.venmoCancel?(v.sendEvent(d._createPromise,"venmo.appswitch.handle.cancel"),S(new M(I.VENMO_APP_CANCELED))):(v.sendEvent(d._createPromise,"venmo.appswitch.cancel-or-unavailable"),S(new M(I.VENMO_CANCELED))),d._clearFragmentParameters()}))},Venmo.prototype._clearFragmentParameters=function(){this._ignoreHistoryChanges||"function"==typeof window.history.replaceState&&window.location.hash&&history.pushState({},"",window.location.href.slice(0,window.location.href.indexOf("#")))},d.exports=L.wrapPrototype(Venmo)},{"../lib/analytics":125,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/in-iframe":156,"../lib/is-verified-domain":159,"../lib/methods":161,"../lib/promise":163,"../lib/querystring":164,"./external/":213,"./external/queries":214,"./shared/browser-detection":217,"./shared/constants":218,"./shared/errors":219,"./shared/supports-venmo":221,"@braintree/extended-promise":39,"@braintree/wrap-promise":48}],223:[function(i,d,p){"use strict";var v=i("../lib/braintree-error");d.exports={VISA_CHECKOUT_NOT_ENABLED:{type:v.types.MERCHANT,code:"VISA_CHECKOUT_NOT_ENABLED",message:"Visa Checkout is not enabled for this merchant."},VISA_CHECKOUT_INIT_OPTIONS_REQUIRED:{type:v.types.MERCHANT,code:"VISA_CHECKOUT_INIT_OPTIONS_REQUIRED",message:"initOptions requires an object."},VISA_CHECKOUT_PAYMENT_REQUIRED:{type:v.types.MERCHANT,code:"VISA_CHECKOUT_PAYMENT_REQUIRED",message:"tokenize requires callid, encKey, and encPaymentData."},VISA_CHECKOUT_TOKENIZATION:{type:v.types.NETWORK,code:"VISA_CHECKOUT_TOKENIZATION",message:"A network error occurred when processing the Visa Checkout payment."}}},{"../lib/braintree-error":130}],224:[function(i,d,p){"use strict";var v=i("../lib/basic-component-verification"),S=i("../lib/braintree-error"),T=i("../lib/create-deferred-client"),O=i("../lib/create-assets-url"),I=i("./visa-checkout"),N=i("../lib/analytics"),R=i("./errors"),P="3.79.1",k=i("../lib/promise"),L=i("@braintree/wrap-promise");function create(i){var d="Visa Checkout";return v.verify({name:d,client:i.client,authorization:i.authorization}).then((function(){return T.create({authorization:i.authorization,client:i.client,debug:i.debug,assetsUrl:O.create(i.authorization),name:d})})).then((function(d){return i.client=d,i.client.getConfiguration().gatewayConfiguration.visaCheckout?(N.sendEvent(i.client,"visacheckout.initialized"),new I(i)):k.reject(new S(R.VISA_CHECKOUT_NOT_ENABLED))}))}d.exports={create:L(create),VERSION:P}},{"../lib/analytics":125,"../lib/basic-component-verification":128,"../lib/braintree-error":130,"../lib/create-assets-url":135,"../lib/create-deferred-client":137,"../lib/promise":163,"./errors":223,"./visa-checkout":225,"@braintree/wrap-promise":48}],225:[function(i,d,p){"use strict";var v=i("../lib/braintree-error"),S=i("../lib/analytics"),T=i("./errors"),O=i("../lib/json-clone"),I=i("../lib/methods"),N=i("../lib/convert-methods-to-error"),R=i("../lib/promise"),P=i("@braintree/wrap-promise"),k={Visa:"VISA",MasterCard:"MASTERCARD",Discover:"DISCOVER","American Express":"AMEX"};function VisaCheckout(i){this._client=i.client}function transformCardTypes(i){return i.reduce((function(i,d){return k.hasOwnProperty(d)?i.concat(k[d]):i}),[])}VisaCheckout.prototype.createInitOptions=function(i){var d,p=this._client.getConfiguration().gatewayConfiguration,S=p.visaCheckout;if(!i)throw new v(T.VISA_CHECKOUT_INIT_OPTIONS_REQUIRED);return(d=O(i)).apikey=d.apikey||S.apikey,d.externalClientId=d.externalClientId||S.externalClientId,d.settings=d.settings||{},d.settings.dataLevel="FULL",d.settings.payment=d.settings.payment||{},d.settings.payment.cardBrands||(d.settings.payment.cardBrands=transformCardTypes(p.visaCheckout.supportedCardTypes)),d},VisaCheckout.prototype.tokenize=function(i){var d=this;return i.callid&&i.encKey&&i.encPaymentData?this._client.request({method:"post",endpoint:"payment_methods/visa_checkout_cards",data:{_meta:{source:"visa-checkout"},visaCheckoutCard:{callId:i.callid,encryptedPaymentData:i.encPaymentData,encryptedKey:i.encKey}}}).then((function(i){return S.sendEvent(d._client,"visacheckout.tokenize.succeeded"),i.visaCheckoutCards[0]})).catch((function(i){return S.sendEvent(d._client,"visacheckout.tokenize.failed"),R.reject(new v({type:T.VISA_CHECKOUT_TOKENIZATION.type,code:T.VISA_CHECKOUT_TOKENIZATION.code,message:T.VISA_CHECKOUT_TOKENIZATION.message,details:{originalError:i}}))})):R.reject(new v(T.VISA_CHECKOUT_PAYMENT_REQUIRED))},VisaCheckout.prototype.teardown=function(){return N(this,I(VisaCheckout.prototype)),R.resolve()},d.exports=P.wrapPrototype(VisaCheckout)},{"../lib/analytics":125,"../lib/braintree-error":130,"../lib/convert-methods-to-error":133,"../lib/json-clone":160,"../lib/methods":161,"../lib/promise":163,"./errors":223,"@braintree/wrap-promise":48}]},{},[123])(123)},28055:(i,d,p)=>{"use strict";function e(i,d,p,v){return new(p||(p=Promise))((function(S,T){function a(i){try{c(v.next(i))}catch(i){T(i)}}function u(i){try{c(v.throw(i))}catch(i){T(i)}}function c(i){var d;i.done?S(i.value):(d=i.value,d instanceof p?d:new p((function(i){i(d)}))).then(a,u)}c((v=v.apply(i,d||[])).next())}))}function t(i,d){var p,v,S,T,O={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return T={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(T[Symbol.iterator]=function(){return this}),T;function u(T){return function(I){return function(T){if(p)throw new TypeError("Generator is already executing.");for(;O;)try{if(p=1,v&&(S=2&T[0]?v.return:T[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,T[1])).done)return S;switch(v=0,S&&(T=[2&T[0],S.value]),T[0]){case 0:case 1:S=T;break;case 4:return O.label++,{value:T[1],done:!1};case 5:O.label++,v=T[1],T=[0];continue;case 7:T=O.ops.pop(),O.trys.pop();continue;default:if(!((S=(S=O.trys).length>0&&S[S.length-1])||6!==T[0]&&2!==T[0])){O=0;continue}if(3===T[0]&&(!S||T[1]>S[0]&&T[1]<S[3])){O.label=T[1];break}if(6===T[0]&&O.label<S[1]){O.label=S[1],S=T;break}if(S&&O.label<S[2]){O.label=S[2],O.ops.push(T);break}S[2]&&O.ops.pop(),O.trys.pop();continue}T=d.call(i,O)}catch(i){T=[6,i],v=0}finally{p=S=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,I])}}}p.d(d,{nx:()=>C});var n=function(i){};function r(i){n(i)}(function(){(console.warn||console.log).apply(console,arguments)}).bind("[clipboard-polyfill]");var v,S,T,O,I="undefined"==typeof navigator?void 0:navigator,N=null==I?void 0:I.clipboard,R=(null===(v=null==N?void 0:N.read)||void 0===v||v.bind(N),null===(S=null==N?void 0:N.readText)||void 0===S||S.bind(N),null===(T=null==N?void 0:N.write)||void 0===T||T.bind(N),null===(O=null==N?void 0:N.writeText)||void 0===O?void 0:O.bind(N)),P="undefined"==typeof window?void 0:window,k=(null==P||P.ClipboardItem,P);function b(){return"undefined"==typeof ClipboardEvent&&void 0!==k.clipboardData&&void 0!==k.clipboardData.setData}var m=function(){this.success=!1};function h(i,d,p){for(var v in r("listener called"),i.success=!0,d){var S=d[v],T=p.clipboardData;T.setData(v,S),"text/plain"===v&&T.getData(v)!==S&&(r("setting text/plain failed"),i.success=!1)}p.preventDefault()}function w(i){var d=new m,p=h.bind(this,d,i);document.addEventListener("copy",p);try{document.execCommand("copy")}finally{document.removeEventListener("copy",p)}return d.success}function g(i,d){x(i);var p=w(d);return E(),p}function x(i){var d=document.getSelection();if(d){var p=document.createRange();p.selectNodeContents(i),d.removeAllRanges(),d.addRange(p)}}function E(){var i=document.getSelection();i&&i.removeAllRanges()}function D(i){return e(this,void 0,void 0,(function(){var d;return t(this,(function(p){if(d="text/plain"in i,b()){if(!d)throw new Error("No `text/plain` value was specified.");if(v=i["text/plain"],k.clipboardData.setData("Text",v))return[2,!0];throw new Error("Copying failed, possibly because the user rejected it.")}var v;return w(i)?(r("regular execCopy worked"),[2,!0]):navigator.userAgent.indexOf("Edge")>-1?(r('UA "Edge" => assuming success'),[2,!0]):g(document.body,i)?(r("copyUsingTempSelection worked"),[2,!0]):function(i){var d=document.createElement("div");d.setAttribute("style","-webkit-user-select: text !important"),d.textContent="temporary element",document.body.appendChild(d);var p=g(d,i);return document.body.removeChild(d),p}(i)?(r("copyUsingTempElem worked"),[2,!0]):function(i){r("copyTextUsingDOM");var d=document.createElement("div");d.setAttribute("style","-webkit-user-select: text !important");var p=d;d.attachShadow&&(r("Using shadow DOM."),p=d.attachShadow({mode:"open"}));var v=document.createElement("span");v.innerText=i,p.appendChild(v),document.body.appendChild(d),x(v);var S=document.execCommand("copy");return E(),document.body.removeChild(d),S}(i["text/plain"])?(r("copyTextUsingDOM worked"),[2,!0]):[2,!1]}))}))}function C(i){return e(this,void 0,void 0,(function(){return t(this,(function(d){if(R)return r("Using `navigator.clipboard.writeText()`."),[2,R(i)];if(!D(function(i){var d={};return d["text/plain"]=i,d}(i)))throw new Error("writeText() failed");return[2]}))}))}},27360:function(i,d,p){var v;!function(S,T){"use strict";var factory=function(i){if("object"!=typeof i.document)throw new Error("Cookies.js requires a `window` with a `document` object");var Cookies=function(i,d,p){return 1===arguments.length?Cookies.get(i):Cookies.set(i,d,p)};return Cookies._document=i.document,Cookies._cacheKeyPrefix="cookey.",Cookies._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),Cookies.defaults={path:"/",secure:!1},Cookies.get=function(i){Cookies._cachedDocumentCookie!==Cookies._document.cookie&&Cookies._renewCache();var d=Cookies._cache[Cookies._cacheKeyPrefix+i];return d===T?T:decodeURIComponent(d)},Cookies.set=function(i,d,p){return(p=Cookies._getExtendedOptions(p)).expires=Cookies._getExpiresDate(d===T?-1:p.expires),Cookies._document.cookie=Cookies._generateCookieString(i,d,p),Cookies},Cookies.expire=function(i,d){return Cookies.set(i,T,d)},Cookies._getExtendedOptions=function(i){return{path:i&&i.path||Cookies.defaults.path,domain:i&&i.domain||Cookies.defaults.domain,expires:i&&i.expires||Cookies.defaults.expires,secure:i&&i.secure!==T?i.secure:Cookies.defaults.secure}},Cookies._isValidDate=function(i){return"[object Date]"===Object.prototype.toString.call(i)&&!isNaN(i.getTime())},Cookies._getExpiresDate=function(i,d){if(d=d||new Date,"number"==typeof i?i=i===1/0?Cookies._maxExpireDate:new Date(d.getTime()+1e3*i):"string"==typeof i&&(i=new Date(i)),i&&!Cookies._isValidDate(i))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return i},Cookies._generateCookieString=function(i,d,p){var v=(i=(i=i.replace(/[^#$&+\^`|]/g,encodeURIComponent)).replace(/\(/g,"%28").replace(/\)/g,"%29"))+"="+(d=(d+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent));return v+=(p=p||{}).path?";path="+p.path:"",v+=p.domain?";domain="+p.domain:"",v+=p.expires?";expires="+p.expires.toUTCString():"",v+=p.secure?";secure":""},Cookies._getCacheFromString=function(i){for(var d={},p=i?i.split("; "):[],v=0;v<p.length;v++){var S=Cookies._getKeyValuePairFromCookieString(p[v]);d[Cookies._cacheKeyPrefix+S.key]===T&&(d[Cookies._cacheKeyPrefix+S.key]=S.value)}return d},Cookies._getKeyValuePairFromCookieString=function(i){var d=i.indexOf("=");d=d<0?i.length:d;var p,v=i.substr(0,d);try{p=decodeURIComponent(v)}catch(i){console&&"function"==typeof console.error&&console.error('Could not decode cookie with key "'+v+'"',i)}return{key:p,value:i.substr(d+1)}},Cookies._renewCache=function(){Cookies._cache=Cookies._getCacheFromString(Cookies._document.cookie),Cookies._cachedDocumentCookie=Cookies._document.cookie},Cookies._areEnabled=function(){var i="cookies.js",d="1"===Cookies.set(i,1).get(i);return Cookies.expire(i),d},Cookies.enabled=Cookies._areEnabled(),Cookies},O=S&&"object"==typeof S.document?factory(S):factory;(v=function(){return O}.call(d,p,d,i))===T||(i.exports=v)}("undefined"==typeof window?this:window)},36511:(i,d,p)=>{"use strict";var v=p(27418),S=p(83677),T=p(73759),O="mixins";i.exports=function factory(i,d,p){var I=[],N={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",UNSAFE_componentWillMount:"DEFINE_MANY",UNSAFE_componentWillReceiveProps:"DEFINE_MANY",UNSAFE_componentWillUpdate:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},R={getDerivedStateFromProps:"DEFINE_MANY_MERGED"},P={displayName:function(i,d){i.displayName=d},mixins:function(i,d){if(d)for(var p=0;p<d.length;p++)mixSpecIntoComponent(i,d[p])},childContextTypes:function(i,d){i.childContextTypes=v({},i.childContextTypes,d)},contextTypes:function(i,d){i.contextTypes=v({},i.contextTypes,d)},getDefaultProps:function(i,d){i.getDefaultProps?i.getDefaultProps=createMergedResultFunction(i.getDefaultProps,d):i.getDefaultProps=d},propTypes:function(i,d){i.propTypes=v({},i.propTypes,d)},statics:function(i,d){!function mixStaticSpecIntoComponent(i,d){if(!d)return;for(var p in d){var v=d[p];if(d.hasOwnProperty(p)){if(T(!(p in P),'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',p),p in i){var S=R.hasOwnProperty(p)?R[p]:null;return T("DEFINE_MANY_MERGED"===S,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",p),void(i[p]=createMergedResultFunction(i[p],v))}i[p]=v}}}(i,d)},autobind:function(){}};function validateMethodOverride(i,d){var p=N.hasOwnProperty(d)?N[d]:null;M.hasOwnProperty(d)&&T("OVERRIDE_BASE"===p,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",d),i&&T("DEFINE_MANY"===p||"DEFINE_MANY_MERGED"===p,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",d)}function mixSpecIntoComponent(i,p){if(p){T("function"!=typeof p,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."),T(!d(p),"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object.");var v=i.prototype,S=v.__reactAutoBindPairs;for(var I in p.hasOwnProperty(O)&&P.mixins(i,p.mixins),p)if(p.hasOwnProperty(I)&&I!==O){var R=p[I],k=v.hasOwnProperty(I);if(validateMethodOverride(k,I),P.hasOwnProperty(I))P[I](i,R);else{var L=N.hasOwnProperty(I);if("function"==typeof R&&!L&&!k&&!1!==p.autobind)S.push(I,R),v[I]=R;else if(k){var M=N[I];T(L&&("DEFINE_MANY_MERGED"===M||"DEFINE_MANY"===M),"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",M,I),"DEFINE_MANY_MERGED"===M?v[I]=createMergedResultFunction(v[I],R):"DEFINE_MANY"===M&&(v[I]=createChainedFunction(v[I],R))}else v[I]=R}}}else;}function mergeIntoWithNoDuplicateKeys(i,d){for(var p in T(i&&d&&"object"==typeof i&&"object"==typeof d,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."),d)d.hasOwnProperty(p)&&(T(void 0===i[p],"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",p),i[p]=d[p]);return i}function createMergedResultFunction(i,d){return function mergedResult(){var p=i.apply(this,arguments),v=d.apply(this,arguments);if(null==p)return v;if(null==v)return p;var S={};return mergeIntoWithNoDuplicateKeys(S,p),mergeIntoWithNoDuplicateKeys(S,v),S}}function createChainedFunction(i,d){return function chainedFunction(){i.apply(this,arguments),d.apply(this,arguments)}}function bindAutoBindMethod(i,d){return d.bind(i)}var k={componentDidMount:function(){this.__isMounted=!0}},L={componentWillUnmount:function(){this.__isMounted=!1}},M={replaceState:function(i,d){this.updater.enqueueReplaceState(this,i,d)},isMounted:function(){return!!this.__isMounted}},ReactClassComponent=function(){};return v(ReactClassComponent.prototype,i.prototype,M),function createClass(i){var Constructor=function(i,d,v){this.__reactAutoBindPairs.length&&function bindAutoBindMethods(i){for(var d=i.__reactAutoBindPairs,p=0;p<d.length;p+=2){var v=d[p],S=d[p+1];i[v]=bindAutoBindMethod(i,S)}}(this),this.props=i,this.context=d,this.refs=S,this.updater=v||p,this.state=null;var O=this.getInitialState?this.getInitialState():null;T("object"==typeof O&&!Array.isArray(O),"%s.getInitialState(): must return an object or null",Constructor.displayName||"ReactCompositeComponent"),this.state=O};for(var d in Constructor.prototype=new ReactClassComponent,Constructor.prototype.constructor=Constructor,Constructor.prototype.__reactAutoBindPairs=[],I.forEach(mixSpecIntoComponent.bind(null,Constructor)),mixSpecIntoComponent(Constructor,k),mixSpecIntoComponent(Constructor,i),mixSpecIntoComponent(Constructor,L),Constructor.getDefaultProps&&(Constructor.defaultProps=Constructor.getDefaultProps()),T(Constructor.prototype.render,"createClass(...): Class specification must implement a `render` method."),N)Constructor.prototype[d]||(Constructor.prototype[d]=null);return Constructor}}},72555:(i,d,p)=>{"use strict";var v=p(85351),S=p(36511);if(void 0===v)throw Error("create-react-class could not find the React object. If you are using script tags, make sure that React is being loaded before create-react-class.");var T=(new v.Component).updater;i.exports=S(v.Component,v.isValidElement,T)},62600:function(i,d){!function(i){"use strict";var extendStatics=function(i,d){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,d){i.__proto__=d}||function(i,d){for(var p in d)d.hasOwnProperty(p)&&(i[p]=d[p])},extendStatics(i,d)};function __extends(i,d){function __(){this.constructor=i}extendStatics(i,d),i.prototype=null===d?Object.create(d):(__.prototype=d.prototype,new __)}var __assign=function(){return __assign=Object.assign||function __assign(i){for(var d,p=1,v=arguments.length;p<v;p++)for(var S in d=arguments[p])Object.prototype.hasOwnProperty.call(d,S)&&(i[S]=d[S]);return i},__assign.apply(this,arguments)};function __rest(i,d){var p={};for(var v in i)Object.prototype.hasOwnProperty.call(i,v)&&d.indexOf(v)<0&&(p[v]=i[v]);if(null!=i&&"function"==typeof Object.getOwnPropertySymbols){var S=0;for(v=Object.getOwnPropertySymbols(i);S<v.length;S++)d.indexOf(v[S])<0&&(p[v[S]]=i[v[S]])}return p}!function(i){if(!i.fetch){var d={searchParams:"URLSearchParams"in i,iterable:"Symbol"in i&&"iterator"in Symbol,blob:"FileReader"in i&&"Blob"in i&&function(){try{return new Blob,!0}catch(i){return!1}}(),formData:"FormData"in i,arrayBuffer:"ArrayBuffer"in i};if(d.arrayBuffer)var p=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],isDataView=function(i){return i&&DataView.prototype.isPrototypeOf(i)},v=ArrayBuffer.isView||function(i){return i&&p.indexOf(Object.prototype.toString.call(i))>-1};Headers.prototype.append=function(i,d){i=normalizeName(i),d=normalizeValue(d);var p=this.map[i];this.map[i]=p?p+","+d:d},Headers.prototype.delete=function(i){delete this.map[normalizeName(i)]},Headers.prototype.get=function(i){return i=normalizeName(i),this.has(i)?this.map[i]:null},Headers.prototype.has=function(i){return this.map.hasOwnProperty(normalizeName(i))},Headers.prototype.set=function(i,d){this.map[normalizeName(i)]=normalizeValue(d)},Headers.prototype.forEach=function(i,d){for(var p in this.map)this.map.hasOwnProperty(p)&&i.call(d,this.map[p],p,this)},Headers.prototype.keys=function(){var i=[];return this.forEach((function(d,p){i.push(p)})),iteratorFor(i)},Headers.prototype.values=function(){var i=[];return this.forEach((function(d){i.push(d)})),iteratorFor(i)},Headers.prototype.entries=function(){var i=[];return this.forEach((function(d,p){i.push([p,d])})),iteratorFor(i)},d.iterable&&(Headers.prototype[Symbol.iterator]=Headers.prototype.entries);var S=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];Request.prototype.clone=function(){return new Request(this,{body:this._bodyInit})},Body.call(Request.prototype),Body.call(Response.prototype),Response.prototype.clone=function(){return new Response(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new Headers(this.headers),url:this.url})},Response.error=function(){var i=new Response(null,{status:0,statusText:""});return i.type="error",i};var T=[301,302,303,307,308];Response.redirect=function(i,d){if(-1===T.indexOf(d))throw new RangeError("Invalid status code");return new Response(null,{status:d,headers:{location:i}})},i.Headers=Headers,i.Request=Request,i.Response=Response,i.fetch=function(i,p){return new Promise((function(v,S){var T=new Request(i,p),O=new XMLHttpRequest;O.onload=function(){var i={status:O.status,statusText:O.statusText,headers:parseHeaders(O.getAllResponseHeaders()||"")};i.url="responseURL"in O?O.responseURL:i.headers.get("X-Request-URL");var d="response"in O?O.response:O.responseText;v(new Response(d,i))},O.onerror=function(){S(new TypeError("Network request failed"))},O.ontimeout=function(){S(new TypeError("Network request failed"))},O.open(T.method,T.url,!0),"include"===T.credentials&&(O.withCredentials=!0),"responseType"in O&&d.blob&&(O.responseType="blob"),T.headers.forEach((function(i,d){O.setRequestHeader(d,i)})),O.send(void 0===T._bodyInit?null:T._bodyInit)}))},i.fetch.polyfill=!0}function normalizeName(i){if("string"!=typeof i&&(i=String(i)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(i))throw new TypeError("Invalid character in header field name");return i.toLowerCase()}function normalizeValue(i){return"string"!=typeof i&&(i=String(i)),i}function iteratorFor(i){var p={next:function(){var d=i.shift();return{done:void 0===d,value:d}}};return d.iterable&&(p[Symbol.iterator]=function(){return p}),p}function Headers(i){this.map={},i instanceof Headers?i.forEach((function(i,d){this.append(d,i)}),this):Array.isArray(i)?i.forEach((function(i){this.append(i[0],i[1])}),this):i&&Object.getOwnPropertyNames(i).forEach((function(d){this.append(d,i[d])}),this)}function consumed(i){if(i.bodyUsed)return Promise.reject(new TypeError("Already read"));i.bodyUsed=!0}function fileReaderReady(i){return new Promise((function(d,p){i.onload=function(){d(i.result)},i.onerror=function(){p(i.error)}}))}function readBlobAsArrayBuffer(i){var d=new FileReader,p=fileReaderReady(d);return d.readAsArrayBuffer(i),p}function readBlobAsText(i){var d=new FileReader,p=fileReaderReady(d);return d.readAsText(i),p}function readArrayBufferAsText(i){for(var d=new Uint8Array(i),p=new Array(d.length),v=0;v<d.length;v++)p[v]=String.fromCharCode(d[v]);return p.join("")}function bufferClone(i){if(i.slice)return i.slice(0);var d=new Uint8Array(i.byteLength);return d.set(new Uint8Array(i)),d.buffer}function Body(){return this.bodyUsed=!1,this._initBody=function(i){if(this._bodyInit=i,i)if("string"==typeof i)this._bodyText=i;else if(d.blob&&Blob.prototype.isPrototypeOf(i))this._bodyBlob=i;else if(d.formData&&FormData.prototype.isPrototypeOf(i))this._bodyFormData=i;else if(d.searchParams&&URLSearchParams.prototype.isPrototypeOf(i))this._bodyText=i.toString();else if(d.arrayBuffer&&d.blob&&isDataView(i))this._bodyArrayBuffer=bufferClone(i.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!d.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(i)&&!v(i))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=bufferClone(i)}else this._bodyText="";this.headers.get("content-type")||("string"==typeof i?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):d.searchParams&&URLSearchParams.prototype.isPrototypeOf(i)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d.blob&&(this.blob=function(){var i=consumed(this);if(i)return i;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?consumed(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(readBlobAsArrayBuffer)}),this.text=function(){var i=consumed(this);if(i)return i;if(this._bodyBlob)return readBlobAsText(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(decode)}),this.json=function(){return this.text().then(JSON.parse)},this}function normalizeMethod(i){var d=i.toUpperCase();return S.indexOf(d)>-1?d:i}function Request(i,d){var p=(d=d||{}).body;if(i instanceof Request){if(i.bodyUsed)throw new TypeError("Already read");this.url=i.url,this.credentials=i.credentials,d.headers||(this.headers=new Headers(i.headers)),this.method=i.method,this.mode=i.mode,p||null==i._bodyInit||(p=i._bodyInit,i.bodyUsed=!0)}else this.url=String(i);if(this.credentials=d.credentials||this.credentials||"omit",!d.headers&&this.headers||(this.headers=new Headers(d.headers)),this.method=normalizeMethod(d.method||this.method||"GET"),this.mode=d.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&p)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(p)}function decode(i){var d=new FormData;return i.trim().split("&").forEach((function(i){if(i){var p=i.split("="),v=p.shift().replace(/\+/g," "),S=p.join("=").replace(/\+/g," ");d.append(decodeURIComponent(v),decodeURIComponent(S))}})),d}function parseHeaders(i){var d=new Headers;return i.split(/\r?\n/).forEach((function(i){var p=i.split(":"),v=p.shift().trim();if(v){var S=p.join(":").trim();d.append(v,S)}})),d}function Response(i,d){d||(d={}),this.type="default",this.status="status"in d?d.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in d?d.statusText:"OK",this.headers=new Headers(d.headers),this.url=d.url||"",this._initBody(i)}}("undefined"!=typeof self?self:void 0),self.fetch.bind(self);var _checkStatus=function(i){return i.status>=400?Promise.reject(i):Promise.resolve(i)},_tryParseJSON=function(i){try{return i.json().catch((function(){return Promise.reject(i)}))}catch(d){return Promise.reject(i)}},_fetchJSON=function(i,d){void 0===d&&(d={});var p=d.headers,v=void 0===p?{}:p,S=d.method,T=void 0===S?"GET":S,O=d.mode,I=__rest(d,["headers","method","mode"]),N=v;"GET"!==T&&(N=__assign({"Content-Type":"application/json"},v));var R=__assign({method:T,mode:O,headers:N,credentials:"cors"===O?"include":"same-origin"},I);return fetch(i,R).then(_checkStatus).then(_tryParseJSON)},_hasArgumentsError=function(i){return!(!i.error_detail||!i.error_detail.ARGUMENTS_ERROR)},_parseError=function(i){if(!i.error)return null;var d={error:i.error,description:i.error_description};return _hasArgumentsError(i)&&(d=__assign({},d,{argumentErrors:i.error_detail.ARGUMENTS_ERROR})),d},_catchStatusError=function(i){return new Promise((function(d,p){_tryParseJSON(i).then((function(d){return p({response:i,parsedError:_parseError(d)})})).catch((function(){return p({response:i})}))}))},jsonRequest=function(i,d){return _fetchJSON(i,d).catch(_catchStatusError)},d=/_\w/g,snakeToCamel=function(i){return i.replace(d,(function(i){return i[1].toUpperCase()}))},transformKeysSnakeToCamel=function(i){return Object.keys(i).reduce((function(d,p){var v,S=i[p],T=snakeToCamel(p);return S&&"object"==typeof S&&!Array.isArray(S)&&(S=transformKeysSnakeToCamel(S)),__assign({},d,((v={})[T]=S,v))}),{})},makeJsonRequest=function(i,d){return function(p,v){return i(p,v).then((function(i){return d.reduce((function(d,p){return p(i)}),i)}))}},p=function(){function BaseApi(i){this.request=makeJsonRequest(i,[transformKeysSnakeToCamel])}return BaseApi}(),v=function(i){function UserApi(){return null!==i&&i.apply(this,arguments)||this}return __extends(UserApi,i),UserApi.prototype.me=function(){return this.request("/users/me/")},UserApi.prototype.get=function(i){return this.request("/users/"+i+"/")},UserApi}(p),S=function(i){function OrganizationsApi(){return null!==i&&i.apply(this,arguments)||this}return __extends(OrganizationsApi,i),OrganizationsApi.prototype.getByUser=function(i){return this.request("/users/"+i+"/organizations/")},OrganizationsApi}(p),T="page",O="continuation",I="https://www.eventbriteapi.com/v3",makeRequest=function(i,d){return function(p,v){void 0===v&&(v={});var S=""+i+p,T=v;return d&&(T=__assign({},T,{headers:__assign({},T.headers||{},{Authorization:"Bearer "+d})})),jsonRequest(S,T)}},eventbrite=function(i){var d=void 0===i?{}:i,p=d.baseUrl,T=void 0===p?I:p,O=d.token,N=makeRequest(T,O);return{request:N,users:new v(N),organizations:new S(N)}};i.default=eventbrite,i.PAGE_KEY=T,i.CONTINUATION_KEY=O,Object.defineProperty(i,"__esModule",{value:!0})}(d)},83677:i=>{"use strict";i.exports={}},73759:i=>{"use strict";i.exports=function invariant(i,d,p,v,S,T,O,I){if(!i){var N;if(void 0===d)N=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var R=[p,v,S,T,O,I],P=0;(N=new Error(d.replace(/%s/g,(function(){return R[P++]})))).name="Invariant Violation"}throw N.framesToPop=1,N}}},34444:i=>{function isBuffer(i){return i&&i.constructor&&"function"==typeof i.constructor.isBuffer&&i.constructor.isBuffer(i)}function keyIdentity(i){return i}function flatten(i,d){const p=(d=d||{}).delimiter||".",v=d.maxDepth,S=d.transformKey||keyIdentity,T={};return function step(i,O,I){I=I||1,Object.keys(i).forEach((function(N){const R=i[N],P=d.safe&&Array.isArray(R),k=Object.prototype.toString.call(R),L=isBuffer(R),M="[object Object]"===k||"[object Array]"===k,F=O?O+p+S(N):S(N);if(!P&&!L&&M&&Object.keys(R).length&&(!d.maxDepth||I<v))return step(R,F,I+1);T[F]=R}))}(i),T}i.exports=flatten,flatten.flatten=flatten,flatten.unflatten=function unflatten(i,d){const p=(d=d||{}).delimiter||".",v=d.overwrite||!1,S=d.transformKey||keyIdentity,T={};if(isBuffer(i)||"[object Object]"!==Object.prototype.toString.call(i))return i;function getkey(i){const p=Number(i);return isNaN(p)||-1!==i.indexOf(".")||d.object?i:p}return i=Object.keys(i).reduce((function(v,S){const T=Object.prototype.toString.call(i[S]);return!("[object Object]"===T||"[object Array]"===T)||function isEmpty(i){const d=Object.prototype.toString.call(i),p="[object Array]"===d,v="[object Object]"===d;if(!i)return!0;if(p)return!i.length;if(v)return!Object.keys(i).length}(i[S])?(v[S]=i[S],v):function addKeys(i,d,v){return Object.keys(v).reduce((function(d,S){return d[i+p+S]=v[S],d}),d)}(S,v,flatten(i[S],d))}),{}),Object.keys(i).forEach((function(O){const I=O.split(p).map(S);let N=getkey(I.shift()),R=getkey(I[0]),P=T;for(;void 0!==R;){if("__proto__"===N)return;const i=Object.prototype.toString.call(P[N]),p="[object Object]"===i||"[object Array]"===i;if(!v&&!p&&void 0!==P[N])return;(v&&!p||!v&&null==P[N])&&(P[N]="number"!=typeof R||d.object?{}:[]),P=P[N],I.length>0&&(N=getkey(I.shift()),R=getkey(I[0]))}P[N]=unflatten(i[O],d)})),T}},54483:(i,d,p)=>{"use strict";var v=function(){function defineProperties(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&defineProperties(i.prototype,d),p&&defineProperties(i,p),i}}();var S=p(85351),T=p(63172),O=["active","paused","tag","focusTrapOptions","_createFocusTrap"],I=function(i){function FocusTrap(i){!function _classCallCheck(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}(this,FocusTrap);var d=function _possibleConstructorReturn(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?i:d}(this,(FocusTrap.__proto__||Object.getPrototypeOf(FocusTrap)).call(this,i));return d.setNode=function(i){d.node=i},"undefined"!=typeof document&&(d.previouslyFocusedElement=document.activeElement),d}return function _inherits(i,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)}(FocusTrap,i),v(FocusTrap,[{key:"componentDidMount",value:function componentDidMount(){var i=this.props.focusTrapOptions,d={returnFocusOnDeactivate:!1};for(var p in i)i.hasOwnProperty(p)&&"returnFocusOnDeactivate"!==p&&(d[p]=i[p]);this.focusTrap=this.props._createFocusTrap(this.node,d),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()}},{key:"componentDidUpdate",value:function componentDidUpdate(i){i.active&&!this.props.active?this.focusTrap.deactivate():!i.active&&this.props.active&&this.focusTrap.activate(),i.paused&&!this.props.paused?this.focusTrap.unpause():!i.paused&&this.props.paused&&this.focusTrap.pause()}},{key:"componentWillUnmount",value:function componentWillUnmount(){this.focusTrap.deactivate(),!1!==this.props.focusTrapOptions.returnFocusOnDeactivate&&this.previouslyFocusedElement&&this.previouslyFocusedElement.focus&&this.previouslyFocusedElement.focus()}},{key:"render",value:function render(){var i={ref:this.setNode};for(var d in this.props)this.props.hasOwnProperty(d)&&-1===O.indexOf(d)&&(i[d]=this.props[d]);return S.createElement(this.props.tag,i,this.props.children)}}]),FocusTrap}(S.Component);I.defaultProps={active:!0,tag:"div",paused:!1,focusTrapOptions:{},_createFocusTrap:T},i.exports=I},63172:(i,d,p)=>{var v=p(34760),S=null;function tryFocus(i){i&&i.focus&&i!==document.activeElement&&(i.focus(),"input"===i.tagName.toLowerCase()&&i.select())}i.exports=function focusTrap(i,d){var p=[],T=null,O=null,I=null,N=!1,R=!1,P=null,k="string"==typeof i?document.querySelector(i):i,L=d||{};L.returnFocusOnDeactivate=!d||void 0===d.returnFocusOnDeactivate||d.returnFocusOnDeactivate,L.escapeDeactivates=!d||void 0===d.escapeDeactivates||d.escapeDeactivates;var M={activate:function activate(i){if(N)return;var d={onActivate:i&&void 0!==i.onActivate?i.onActivate:L.onActivate};N=!0,R=!1,I=document.activeElement,d.onActivate&&d.onActivate();return addListeners(),M},deactivate,pause:function pause(){if(R||!N)return;R=!0,removeListeners()},unpause:function unpause(){if(!R||!N)return;R=!1,addListeners()}};return M;function deactivate(i){if(N){var d={returnFocus:i&&void 0!==i.returnFocus?i.returnFocus:L.returnFocusOnDeactivate,onDeactivate:i&&void 0!==i.onDeactivate?i.onDeactivate:L.onDeactivate};return removeListeners(),d.onDeactivate&&d.onDeactivate(),d.returnFocus&&setTimeout((function(){tryFocus(I)}),0),N=!1,R=!1,this}}function addListeners(){if(N)return S&&S.pause(),S=M,updateTabbableNodes(),setTimeout((function(){tryFocus(function firstFocusNode(){var i;i=null!==getNodeForOption("initialFocus")?getNodeForOption("initialFocus"):k.contains(document.activeElement)?document.activeElement:p[0]||getNodeForOption("fallbackFocus");if(!i)throw new Error("You can't have a focus-trap without at least one focusable element");return i}())}),0),document.addEventListener("focus",checkFocus,!0),document.addEventListener("click",checkClick,!0),document.addEventListener("mousedown",checkPointerDown,!0),document.addEventListener("touchstart",checkPointerDown,!0),document.addEventListener("keydown",checkKey,!0),M}function removeListeners(){if(N&&S===M)return document.removeEventListener("focus",checkFocus,!0),document.removeEventListener("click",checkClick,!0),document.removeEventListener("mousedown",checkPointerDown,!0),document.removeEventListener("touchstart",checkPointerDown,!0),document.removeEventListener("keydown",checkKey,!0),S=null,M}function getNodeForOption(i){var d=L[i],p=d;if(!d)return null;if("string"==typeof d&&!(p=document.querySelector(d)))throw new Error("`"+i+"` refers to no known node");if("function"==typeof d&&!(p=d()))throw new Error("`"+i+"` did not return a node");return p}function checkPointerDown(i){L.clickOutsideDeactivates&&!k.contains(i.target)&&deactivate({returnFocus:!1})}function checkClick(i){L.clickOutsideDeactivates||k.contains(i.target)||(i.preventDefault(),i.stopImmediatePropagation())}function checkFocus(i){k.contains(i.target)||(i.preventDefault(),i.stopImmediatePropagation(),"function"==typeof i.target.blur&&i.target.blur(),P&&function readjustFocus(i){if(i.shiftKey)return tryFocus(O);tryFocus(T)}(P))}function checkKey(i){"Tab"!==i.key&&9!==i.keyCode||function handleTab(i){if(updateTabbableNodes(),i.target.hasAttribute("tabindex")&&Number(i.target.getAttribute("tabindex"))<0)return P=i;i.preventDefault();var d=p.indexOf(i.target);if(i.shiftKey)return i.target===T||-1===p.indexOf(i.target)?tryFocus(O):tryFocus(p[d-1]);if(i.target===O)return tryFocus(T);tryFocus(p[d+1])}(i),!1!==L.escapeDeactivates&&function isEscapeEvent(i){return"Escape"===i.key||"Esc"===i.key||27===i.keyCode}(i)&&deactivate()}function updateTabbableNodes(){p=v(k),T=p[0],O=p[p.length-1]}}},8679:(i,d,p)=>{"use strict";var v=p(59864),S={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},T={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},O={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},I={};function getStatics(i){return v.isMemo(i)?O:I[i.$$typeof]||S}I[v.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},I[v.Memo]=O;var N=Object.defineProperty,R=Object.getOwnPropertyNames,P=Object.getOwnPropertySymbols,k=Object.getOwnPropertyDescriptor,L=Object.getPrototypeOf,M=Object.prototype;i.exports=function hoistNonReactStatics(i,d,p){if("string"!=typeof d){if(M){var v=L(d);v&&v!==M&&hoistNonReactStatics(i,v,p)}var S=R(d);P&&(S=S.concat(P(d)));for(var O=getStatics(i),I=getStatics(d),F=0;F<S.length;++F){var U=S[F];if(!(T[U]||p&&p[U]||I&&I[U]||O&&O[U])){var j=k(d,U);try{N(i,U,j)}catch(i){}}}}return i}},4467:(i,d,p)=>{"use strict";function _typeof(i){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function _typeof(i){return typeof i}:function _typeof(i){return i&&"function"==typeof Symbol&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(i)}function _defineProperty(i,d,p){return d in i?Object.defineProperty(i,d,{value:p,enumerable:!0,configurable:!0,writable:!0}):i[d]=p,i}function _objectSpread(i){for(var d=1;d<arguments.length;d++){var p=null!=arguments[d]?Object(arguments[d]):{},v=Object.keys(p);"function"==typeof Object.getOwnPropertySymbols&&v.push.apply(v,Object.getOwnPropertySymbols(p).filter((function(i){return Object.getOwnPropertyDescriptor(p,i).enumerable}))),v.forEach((function(d){_defineProperty(i,d,p[d])}))}return i}function _classCallCheck(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}p.d(d,{Z:()=>q});var v=p(43144),S=p(97326);function _possibleConstructorReturn(i,d){if(d&&("object"===_typeof(d)||"function"==typeof d))return d;if(void 0!==d)throw new TypeError("Derived constructors may only return object or undefined");return(0,S.Z)(i)}var T=p(61120),O=p(89611);function _inherits(i,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,writable:!0,configurable:!0}}),d&&(0,O.Z)(i,d)}var I={type:"logger",log:function log(i){this.output("log",i)},warn:function warn(i){this.output("warn",i)},error:function error(i){this.output("error",i)},output:function output(i,d){console&&console[i]&&console[i].apply(console,d)}},N=new(function(){function Logger(i){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,Logger),this.init(i,d)}return(0,v.Z)(Logger,[{key:"init",value:function init(i){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=d.prefix||"i18next:",this.logger=i||I,this.options=d,this.debug=d.debug}},{key:"setDebug",value:function setDebug(i){this.debug=i}},{key:"log",value:function log(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return this.forward(d,"log","",!0)}},{key:"warn",value:function warn(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return this.forward(d,"warn","",!0)}},{key:"error",value:function error(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return this.forward(d,"error","")}},{key:"deprecate",value:function deprecate(){for(var i=arguments.length,d=new Array(i),p=0;p<i;p++)d[p]=arguments[p];return this.forward(d,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function forward(i,d,p,v){return v&&!this.debug?null:("string"==typeof i[0]&&(i[0]="".concat(p).concat(this.prefix," ").concat(i[0])),this.logger[d](i))}},{key:"create",value:function create(i){return new Logger(this.logger,_objectSpread({},{prefix:"".concat(this.prefix,":").concat(i,":")},this.options))}}]),Logger}()),R=function(){function EventEmitter(){_classCallCheck(this,EventEmitter),this.observers={}}return(0,v.Z)(EventEmitter,[{key:"on",value:function on(i,d){var p=this;return i.split(" ").forEach((function(i){p.observers[i]=p.observers[i]||[],p.observers[i].push(d)})),this}},{key:"off",value:function off(i,d){this.observers[i]&&(d?this.observers[i]=this.observers[i].filter((function(i){return i!==d})):delete this.observers[i])}},{key:"emit",value:function emit(i){for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];if(this.observers[i]){var S=[].concat(this.observers[i]);S.forEach((function(i){i.apply(void 0,p)}))}if(this.observers["*"]){var T=[].concat(this.observers["*"]);T.forEach((function(d){d.apply(d,[i].concat(p))}))}}}]),EventEmitter}();function defer(){var i,d,p=new Promise((function(p,v){i=p,d=v}));return p.resolve=i,p.reject=d,p}function makeString(i){return null==i?"":""+i}function copy(i,d,p){i.forEach((function(i){d[i]&&(p[i]=d[i])}))}function getLastOfPath(i,d,p){function cleanKey(i){return i&&i.indexOf("###")>-1?i.replace(/###/g,"."):i}function canNotTraverseDeeper(){return!i||"string"==typeof i}for(var v="string"!=typeof d?[].concat(d):d.split(".");v.length>1;){if(canNotTraverseDeeper())return{};var S=cleanKey(v.shift());!i[S]&&p&&(i[S]=new p),i=Object.prototype.hasOwnProperty.call(i,S)?i[S]:{}}return canNotTraverseDeeper()?{}:{obj:i,k:cleanKey(v.shift())}}function setPath(i,d,p){var v=getLastOfPath(i,d,Object);v.obj[v.k]=p}function getPath(i,d){var p=getLastOfPath(i,d),v=p.obj,S=p.k;if(v)return v[S]}function getPathWithDefaults(i,d,p){var v=getPath(i,p);return void 0!==v?v:getPath(d,p)}function deepExtend(i,d,p){for(var v in d)"__proto__"!==v&&"constructor"!==v&&(v in i?"string"==typeof i[v]||i[v]instanceof String||"string"==typeof d[v]||d[v]instanceof String?p&&(i[v]=d[v]):deepExtend(i[v],d[v],p):i[v]=d[v]);return i}function regexEscape(i){return i.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var P={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function i18next_escape(i){return"string"==typeof i?i.replace(/[&<>"'\/]/g,(function(i){return P[i]})):i}var k="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,L=function(i){function ResourceStore(i){var d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck(this,ResourceStore),d=_possibleConstructorReturn(this,(0,T.Z)(ResourceStore).call(this)),k&&R.call((0,S.Z)(d)),d.data=i||{},d.options=p,void 0===d.options.keySeparator&&(d.options.keySeparator="."),d}return _inherits(ResourceStore,i),(0,v.Z)(ResourceStore,[{key:"addNamespaces",value:function addNamespaces(i){this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}},{key:"removeNamespaces",value:function removeNamespaces(i){var d=this.options.ns.indexOf(i);d>-1&&this.options.ns.splice(d,1)}},{key:"getResource",value:function getResource(i,d,p){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},S=void 0!==v.keySeparator?v.keySeparator:this.options.keySeparator,T=[i,d];return p&&"string"!=typeof p&&(T=T.concat(p)),p&&"string"==typeof p&&(T=T.concat(S?p.split(S):p)),i.indexOf(".")>-1&&(T=i.split(".")),getPath(this.data,T)}},{key:"addResource",value:function addResource(i,d,p,v){var S=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},T=this.options.keySeparator;void 0===T&&(T=".");var O=[i,d];p&&(O=O.concat(T?p.split(T):p)),i.indexOf(".")>-1&&(v=d,d=(O=i.split("."))[1]),this.addNamespaces(d),setPath(this.data,O,v),S.silent||this.emit("added",i,d,p,v)}},{key:"addResources",value:function addResources(i,d,p){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var S in p)"string"!=typeof p[S]&&"[object Array]"!==Object.prototype.toString.apply(p[S])||this.addResource(i,d,S,p[S],{silent:!0});v.silent||this.emit("added",i,d,p)}},{key:"addResourceBundle",value:function addResourceBundle(i,d,p,v,S){var T=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},O=[i,d];i.indexOf(".")>-1&&(v=p,p=d,d=(O=i.split("."))[1]),this.addNamespaces(d);var I=getPath(this.data,O)||{};v?deepExtend(I,p,S):I=_objectSpread({},I,p),setPath(this.data,O,I),T.silent||this.emit("added",i,d,p)}},{key:"removeResourceBundle",value:function removeResourceBundle(i,d){this.hasResourceBundle(i,d)&&delete this.data[i][d],this.removeNamespaces(d),this.emit("removed",i,d)}},{key:"hasResourceBundle",value:function hasResourceBundle(i,d){return void 0!==this.getResource(i,d)}},{key:"getResourceBundle",value:function getResourceBundle(i,d){return d||(d=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_objectSpread({},{},this.getResource(i,d)):this.getResource(i,d)}},{key:"getDataByLanguage",value:function getDataByLanguage(i){return this.data[i]}},{key:"toJSON",value:function toJSON(){return this.data}}]),ResourceStore}(R),M={processors:{},addPostProcessor:function addPostProcessor(i){this.processors[i.name]=i},handle:function handle(i,d,p,v,S){var T=this;return i.forEach((function(i){T.processors[i]&&(d=T.processors[i].process(d,p,v,S))})),d}},F={},U=function(i){function Translator(i){var d,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,Translator),d=_possibleConstructorReturn(this,(0,T.Z)(Translator).call(this)),k&&R.call((0,S.Z)(d)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],i,(0,S.Z)(d)),d.options=p,void 0===d.options.keySeparator&&(d.options.keySeparator="."),d.logger=N.create("translator"),d}return _inherits(Translator,i),(0,v.Z)(Translator,[{key:"changeLanguage",value:function changeLanguage(i){i&&(this.language=i)}},{key:"exists",value:function exists(i){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},p=this.resolve(i,d);return p&&void 0!==p.res}},{key:"extractFromKey",value:function extractFromKey(i,d){var p=void 0!==d.nsSeparator?d.nsSeparator:this.options.nsSeparator;void 0===p&&(p=":");var v=void 0!==d.keySeparator?d.keySeparator:this.options.keySeparator,S=d.ns||this.options.defaultNS;if(p&&i.indexOf(p)>-1){var T=i.match(this.interpolator.nestingRegexp);if(T&&T.length>0)return{key:i,namespaces:S};var O=i.split(p);(p!==v||p===v&&this.options.ns.indexOf(O[0])>-1)&&(S=O.shift()),i=O.join(v)}return"string"==typeof S&&(S=[S]),{key:i,namespaces:S}}},{key:"translate",value:function translate(i,d,p){var v=this;if("object"!==_typeof(d)&&this.options.overloadTranslationOptionHandler&&(d=this.options.overloadTranslationOptionHandler(arguments)),d||(d={}),null==i)return"";Array.isArray(i)||(i=[String(i)]);var S=void 0!==d.keySeparator?d.keySeparator:this.options.keySeparator,T=this.extractFromKey(i[i.length-1],d),O=T.key,I=T.namespaces,N=I[I.length-1],R=d.lng||this.language,P=d.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(R&&"cimode"===R.toLowerCase()){if(P){var k=d.nsSeparator||this.options.nsSeparator;return N+k+O}return O}var L=this.resolve(i,d),M=L&&L.res,F=L&&L.usedKey||O,U=L&&L.exactUsedKey||O,j=Object.prototype.toString.apply(M),H=["[object Number]","[object Function]","[object RegExp]"],V=void 0!==d.joinArrays?d.joinArrays:this.options.joinArrays,Y=!this.i18nFormat||this.i18nFormat.handleAsObject,G="string"!=typeof M&&"boolean"!=typeof M&&"number"!=typeof M;if(Y&&M&&G&&H.indexOf(j)<0&&("string"!=typeof V||"[object Array]"!==j)){if(!d.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(F,M,d):"key '".concat(O," (").concat(this.language,")' returned an object instead of string.");if(S){var W="[object Array]"===j,q=W?[]:{},Q=W?U:F;for(var X in M)if(Object.prototype.hasOwnProperty.call(M,X)){var Z="".concat(Q).concat(S).concat(X);q[X]=this.translate(Z,_objectSpread({},d,{joinArrays:!1,ns:I})),q[X]===Z&&(q[X]=M[X])}M=q}}else if(Y&&"string"==typeof V&&"[object Array]"===j)(M=M.join(V))&&(M=this.extendTranslation(M,i,d,p));else{var J=!1,$=!1,ee=void 0!==d.count&&"string"!=typeof d.count,te=Translator.hasDefaultValue(d),ne=ee?this.pluralResolver.getSuffix(R,d.count):"",re=d["defaultValue".concat(ne)]||d.defaultValue;!this.isValidLookup(M)&&te&&(J=!0,M=re),this.isValidLookup(M)||($=!0,M=O);var ie=te&&re!==M&&this.options.updateMissing;if($||J||ie){if(this.logger.log(ie?"updateKey":"missingKey",R,N,O,ie?re:M),S){var oe=this.resolve(O,_objectSpread({},d,{keySeparator:!1}));oe&&oe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var ae=[],se=this.languageUtils.getFallbackCodes(this.options.fallbackLng,d.lng||this.language);if("fallback"===this.options.saveMissingTo&&se&&se[0])for(var ce=0;ce<se.length;ce++)ae.push(se[ce]);else"all"===this.options.saveMissingTo?ae=this.languageUtils.toResolveHierarchy(d.lng||this.language):ae.push(d.lng||this.language);var ue=function send(i,p,S){v.options.missingKeyHandler?v.options.missingKeyHandler(i,N,p,ie?S:M,ie,d):v.backendConnector&&v.backendConnector.saveMissing&&v.backendConnector.saveMissing(i,N,p,ie?S:M,ie,d),v.emit("missingKey",i,N,p,M)};this.options.saveMissing&&(this.options.saveMissingPlurals&&ee?ae.forEach((function(i){v.pluralResolver.getSuffixes(i).forEach((function(p){ue([i],O+p,d["defaultValue".concat(p)]||re)}))})):ue(ae,O,re))}M=this.extendTranslation(M,i,d,L,p),$&&M===O&&this.options.appendNamespaceToMissingKey&&(M="".concat(N,":").concat(O)),$&&this.options.parseMissingKeyHandler&&(M=this.options.parseMissingKeyHandler(M))}return M}},{key:"extendTranslation",value:function extendTranslation(i,d,p,v,S){var T=this;if(this.i18nFormat&&this.i18nFormat.parse)i=this.i18nFormat.parse(i,p,v.usedLng,v.usedNS,v.usedKey,{resolved:v});else if(!p.skipInterpolation){p.interpolation&&this.interpolator.init(_objectSpread({},p,{interpolation:_objectSpread({},this.options.interpolation,p.interpolation)}));var O,I=p.interpolation&&p.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(I){var N=i.match(this.interpolator.nestingRegexp);O=N&&N.length}var R=p.replace&&"string"!=typeof p.replace?p.replace:p;if(this.options.interpolation.defaultVariables&&(R=_objectSpread({},this.options.interpolation.defaultVariables,R)),i=this.interpolator.interpolate(i,R,p.lng||this.language,p),I){var P=i.match(this.interpolator.nestingRegexp);O<(P&&P.length)&&(p.nest=!1)}!1!==p.nest&&(i=this.interpolator.nest(i,(function(){for(var i=arguments.length,v=new Array(i),O=0;O<i;O++)v[O]=arguments[O];return S&&S[0]===v[0]&&!p.context?(T.logger.warn("It seems you are nesting recursively key: ".concat(v[0]," in key: ").concat(d[0])),null):T.translate.apply(T,v.concat([d]))}),p)),p.interpolation&&this.interpolator.reset()}var k=p.postProcess||this.options.postProcess,L="string"==typeof k?[k]:k;return null!=i&&L&&L.length&&!1!==p.applyPostProcessor&&(i=M.handle(L,i,d,this.options&&this.options.postProcessPassResolved?_objectSpread({i18nResolved:v},p):p,this)),i}},{key:"resolve",value:function resolve(i){var d,p,v,S,T,O=this,I=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof i&&(i=[i]),i.forEach((function(i){if(!O.isValidLookup(d)){var N=O.extractFromKey(i,I),R=N.key;p=R;var P=N.namespaces;O.options.fallbackNS&&(P=P.concat(O.options.fallbackNS));var k=void 0!==I.count&&"string"!=typeof I.count,L=void 0!==I.context&&"string"==typeof I.context&&""!==I.context,M=I.lngs?I.lngs:O.languageUtils.toResolveHierarchy(I.lng||O.language,I.fallbackLng);P.forEach((function(i){O.isValidLookup(d)||(T=i,!F["".concat(M[0],"-").concat(i)]&&O.utils&&O.utils.hasLoadedNamespace&&!O.utils.hasLoadedNamespace(T)&&(F["".concat(M[0],"-").concat(i)]=!0,O.logger.warn('key "'.concat(p,'" for languages "').concat(M.join(", "),'" won\'t get resolved as namespace "').concat(T,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),M.forEach((function(p){if(!O.isValidLookup(d)){S=p;var T,N,P=R,M=[P];if(O.i18nFormat&&O.i18nFormat.addLookupKeys)O.i18nFormat.addLookupKeys(M,R,p,i,I);else k&&(T=O.pluralResolver.getSuffix(p,I.count)),k&&L&&M.push(P+T),L&&M.push(P+="".concat(O.options.contextSeparator).concat(I.context)),k&&M.push(P+=T);for(;N=M.pop();)O.isValidLookup(d)||(v=N,d=O.getResource(p,i,N,I))}})))}))}})),{res:d,usedKey:p,exactUsedKey:v,usedLng:S,usedNS:T}}},{key:"isValidLookup",value:function isValidLookup(i){return!(void 0===i||!this.options.returnNull&&null===i||!this.options.returnEmptyString&&""===i)}},{key:"getResource",value:function getResource(i,d,p){var v=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(i,d,p,v):this.resourceStore.getResource(i,d,p,v)}}],[{key:"hasDefaultValue",value:function hasDefaultValue(i){var d="defaultValue";for(var p in i)if(Object.prototype.hasOwnProperty.call(i,p)&&d===p.substring(0,d.length)&&void 0!==i[p])return!0;return!1}}]),Translator}(R);function capitalize(i){return i.charAt(0).toUpperCase()+i.slice(1)}var j=function(){function LanguageUtil(i){_classCallCheck(this,LanguageUtil),this.options=i,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=N.create("languageUtils")}return(0,v.Z)(LanguageUtil,[{key:"getScriptPartFromCode",value:function getScriptPartFromCode(i){if(!i||i.indexOf("-")<0)return null;var d=i.split("-");return 2===d.length?null:(d.pop(),"x"===d[d.length-1].toLowerCase()?null:this.formatLanguageCode(d.join("-")))}},{key:"getLanguagePartFromCode",value:function getLanguagePartFromCode(i){if(!i||i.indexOf("-")<0)return i;var d=i.split("-");return this.formatLanguageCode(d[0])}},{key:"formatLanguageCode",value:function formatLanguageCode(i){if("string"==typeof i&&i.indexOf("-")>-1){var d=["hans","hant","latn","cyrl","cans","mong","arab"],p=i.split("-");return this.options.lowerCaseLng?p=p.map((function(i){return i.toLowerCase()})):2===p.length?(p[0]=p[0].toLowerCase(),p[1]=p[1].toUpperCase(),d.indexOf(p[1].toLowerCase())>-1&&(p[1]=capitalize(p[1].toLowerCase()))):3===p.length&&(p[0]=p[0].toLowerCase(),2===p[1].length&&(p[1]=p[1].toUpperCase()),"sgn"!==p[0]&&2===p[2].length&&(p[2]=p[2].toUpperCase()),d.indexOf(p[1].toLowerCase())>-1&&(p[1]=capitalize(p[1].toLowerCase())),d.indexOf(p[2].toLowerCase())>-1&&(p[2]=capitalize(p[2].toLowerCase()))),p.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?i.toLowerCase():i}},{key:"isWhitelisted",value:function isWhitelisted(i){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(i)}},{key:"isSupportedCode",value:function isSupportedCode(i){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(i=this.getLanguagePartFromCode(i)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(i)>-1}},{key:"getBestMatchFromCodes",value:function getBestMatchFromCodes(i){var d,p=this;return i?(i.forEach((function(i){if(!d){var v=p.formatLanguageCode(i);p.options.supportedLngs&&!p.isSupportedCode(v)||(d=v)}})),!d&&this.options.supportedLngs&&i.forEach((function(i){if(!d){var v=p.getLanguagePartFromCode(i);if(p.isSupportedCode(v))return d=v;d=p.options.supportedLngs.find((function(i){if(0===i.indexOf(v))return i}))}})),d||(d=this.getFallbackCodes(this.options.fallbackLng)[0]),d):null}},{key:"getFallbackCodes",value:function getFallbackCodes(i,d){if(!i)return[];if("function"==typeof i&&(i=i(d)),"string"==typeof i&&(i=[i]),"[object Array]"===Object.prototype.toString.apply(i))return i;if(!d)return i.default||[];var p=i[d];return p||(p=i[this.getScriptPartFromCode(d)]),p||(p=i[this.formatLanguageCode(d)]),p||(p=i[this.getLanguagePartFromCode(d)]),p||(p=i.default),p||[]}},{key:"toResolveHierarchy",value:function toResolveHierarchy(i,d){var p=this,v=this.getFallbackCodes(d||this.options.fallbackLng||[],i),S=[],T=function addCode(i){i&&(p.isSupportedCode(i)?S.push(i):p.logger.warn("rejecting language code not found in supportedLngs: ".concat(i)))};return"string"==typeof i&&i.indexOf("-")>-1?("languageOnly"!==this.options.load&&T(this.formatLanguageCode(i)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&T(this.getScriptPartFromCode(i)),"currentOnly"!==this.options.load&&T(this.getLanguagePartFromCode(i))):"string"==typeof i&&T(this.formatLanguageCode(i)),v.forEach((function(i){S.indexOf(i)<0&&T(p.formatLanguageCode(i))})),S}}]),LanguageUtil}(),H=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],V={1:function _(i){return Number(i>1)},2:function _(i){return Number(1!=i)},3:function _(i){return 0},4:function _(i){return Number(i%10==1&&i%100!=11?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2)},5:function _(i){return Number(0==i?0:1==i?1:2==i?2:i%100>=3&&i%100<=10?3:i%100>=11?4:5)},6:function _(i){return Number(1==i?0:i>=2&&i<=4?1:2)},7:function _(i){return Number(1==i?0:i%10>=2&&i%10<=4&&(i%100<10||i%100>=20)?1:2)},8:function _(i){return Number(1==i?0:2==i?1:8!=i&&11!=i?2:3)},9:function _(i){return Number(i>=2)},10:function _(i){return Number(1==i?0:2==i?1:i<7?2:i<11?3:4)},11:function _(i){return Number(1==i||11==i?0:2==i||12==i?1:i>2&&i<20?2:3)},12:function _(i){return Number(i%10!=1||i%100==11)},13:function _(i){return Number(0!==i)},14:function _(i){return Number(1==i?0:2==i?1:3==i?2:3)},15:function _(i){return Number(i%10==1&&i%100!=11?0:i%10>=2&&(i%100<10||i%100>=20)?1:2)},16:function _(i){return Number(i%10==1&&i%100!=11?0:0!==i?1:2)},17:function _(i){return Number(1==i||i%10==1&&i%100!=11?0:1)},18:function _(i){return Number(0==i?0:1==i?1:2)},19:function _(i){return Number(1==i?0:0==i||i%100>1&&i%100<11?1:i%100>10&&i%100<20?2:3)},20:function _(i){return Number(1==i?0:0==i||i%100>0&&i%100<20?1:2)},21:function _(i){return Number(i%100==1?1:i%100==2?2:i%100==3||i%100==4?3:0)},22:function _(i){return Number(1==i?0:2==i?1:(i<0||i>10)&&i%10==0?2:3)}};function createRules(){var i={};return H.forEach((function(d){d.lngs.forEach((function(p){i[p]={numbers:d.nr,plurals:V[d.fc]}}))})),i}var Y=function(){function PluralResolver(i){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,PluralResolver),this.languageUtils=i,this.options=d,this.logger=N.create("pluralResolver"),this.rules=createRules()}return(0,v.Z)(PluralResolver,[{key:"addRule",value:function addRule(i,d){this.rules[i]=d}},{key:"getRule",value:function getRule(i){return this.rules[i]||this.rules[this.languageUtils.getLanguagePartFromCode(i)]}},{key:"needsPlural",value:function needsPlural(i){var d=this.getRule(i);return d&&d.numbers.length>1}},{key:"getPluralFormsOfKey",value:function getPluralFormsOfKey(i,d){return this.getSuffixes(i).map((function(i){return d+i}))}},{key:"getSuffixes",value:function getSuffixes(i){var d=this,p=this.getRule(i);return p?p.numbers.map((function(p){return d.getSuffix(i,p)})):[]}},{key:"getSuffix",value:function getSuffix(i,d){var p=this,v=this.getRule(i);if(v){var S=v.noAbs?v.plurals(d):v.plurals(Math.abs(d)),T=v.numbers[S];this.options.simplifyPluralSuffix&&2===v.numbers.length&&1===v.numbers[0]&&(2===T?T="plural":1===T&&(T=""));var O=function returnSuffix(){return p.options.prepend&&T.toString()?p.options.prepend+T.toString():T.toString()};return"v1"===this.options.compatibilityJSON?1===T?"":"number"==typeof T?"_plural_".concat(T.toString()):O():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===v.numbers.length&&1===v.numbers[0]?O():this.options.prepend&&S.toString()?this.options.prepend+S.toString():S.toString()}return this.logger.warn("no plural rule found for: ".concat(i)),""}}]),PluralResolver}(),G=function(){function Interpolator(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,Interpolator),this.logger=N.create("interpolator"),this.options=i,this.format=i.interpolation&&i.interpolation.format||function(i){return i},this.init(i)}return(0,v.Z)(Interpolator,[{key:"init",value:function init(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i.interpolation||(i.interpolation={escapeValue:!0});var d=i.interpolation;this.escape=void 0!==d.escape?d.escape:i18next_escape,this.escapeValue=void 0===d.escapeValue||d.escapeValue,this.useRawValueToEscape=void 0!==d.useRawValueToEscape&&d.useRawValueToEscape,this.prefix=d.prefix?regexEscape(d.prefix):d.prefixEscaped||"{{",this.suffix=d.suffix?regexEscape(d.suffix):d.suffixEscaped||"}}",this.formatSeparator=d.formatSeparator?d.formatSeparator:d.formatSeparator||",",this.unescapePrefix=d.unescapeSuffix?"":d.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":d.unescapeSuffix||"",this.nestingPrefix=d.nestingPrefix?regexEscape(d.nestingPrefix):d.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=d.nestingSuffix?regexEscape(d.nestingSuffix):d.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=d.nestingOptionsSeparator?d.nestingOptionsSeparator:d.nestingOptionsSeparator||",",this.maxReplaces=d.maxReplaces?d.maxReplaces:1e3,this.alwaysFormat=void 0!==d.alwaysFormat&&d.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function reset(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function resetRegExp(){var i="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(i,"g");var d="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(d,"g");var p="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(p,"g")}},{key:"interpolate",value:function interpolate(i,d,p,v){var S,T,O,I=this,N=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function regexSafe(i){return i.replace(/\$/g,"$$$$")}var R=function handleFormat(i){if(i.indexOf(I.formatSeparator)<0){var S=getPathWithDefaults(d,N,i);return I.alwaysFormat?I.format(S,void 0,p):S}var T=i.split(I.formatSeparator),O=T.shift().trim(),R=T.join(I.formatSeparator).trim();return I.format(getPathWithDefaults(d,N,O),R,p,v)};this.resetRegExp();var P=v&&v.missingInterpolationHandler||this.options.missingInterpolationHandler,k=v&&v.interpolation&&v.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function safeValue(i){return regexSafe(i)}},{regex:this.regexp,safeValue:function safeValue(i){return I.escapeValue?regexSafe(I.escape(i)):regexSafe(i)}}].forEach((function(d){for(O=0;S=d.regex.exec(i);){if(void 0===(T=R(S[1].trim())))if("function"==typeof P){var p=P(i,S,v);T="string"==typeof p?p:""}else{if(k){T=S[0];continue}I.logger.warn("missed to pass in variable ".concat(S[1]," for interpolating ").concat(i)),T=""}else"string"==typeof T||I.useRawValueToEscape||(T=makeString(T));if(i=i.replace(S[0],d.safeValue(T)),d.regex.lastIndex=0,++O>=I.maxReplaces)break}})),i}},{key:"nest",value:function nest(i,d){var p,v,S=this,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},O=_objectSpread({},T);function handleHasOptions(i,d){var p=this.nestingOptionsSeparator;if(i.indexOf(p)<0)return i;var v=i.split(new RegExp("".concat(p,"[ ]*{"))),S="{".concat(v[1]);i=v[0],S=(S=this.interpolate(S,O)).replace(/'/g,'"');try{O=JSON.parse(S),d&&(O=_objectSpread({},d,O))}catch(d){return this.logger.warn("failed parsing options string in nesting for key ".concat(i),d),"".concat(i).concat(p).concat(S)}return delete O.defaultValue,i}for(O.applyPostProcessor=!1,delete O.defaultValue;p=this.nestingRegexp.exec(i);){var I=[],N=!1;if(p[0].includes(this.formatSeparator)&&!/{.*}/.test(p[1])){var R=p[1].split(this.formatSeparator).map((function(i){return i.trim()}));p[1]=R.shift(),I=R,N=!0}if((v=d(handleHasOptions.call(this,p[1].trim(),O),O))&&p[0]===i&&"string"!=typeof v)return v;"string"!=typeof v&&(v=makeString(v)),v||(this.logger.warn("missed to resolve ".concat(p[1]," for nesting ").concat(i)),v=""),N&&(v=I.reduce((function(i,d){return S.format(i,d,T.lng,T)}),v.trim())),i=i.replace(p[0],v),this.regexp.lastIndex=0}return i}}]),Interpolator}();var W=function(i){function Connector(i,d,p){var v,O=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,Connector),v=_possibleConstructorReturn(this,(0,T.Z)(Connector).call(this)),k&&R.call((0,S.Z)(v)),v.backend=i,v.store=d,v.services=p,v.languageUtils=p.languageUtils,v.options=O,v.logger=N.create("backendConnector"),v.state={},v.queue=[],v.backend&&v.backend.init&&v.backend.init(p,O.backend,O),v}return _inherits(Connector,i),(0,v.Z)(Connector,[{key:"queueLoad",value:function queueLoad(i,d,p,v){var S=this,T=[],O=[],I=[],N=[];return i.forEach((function(i){var v=!0;d.forEach((function(d){var I="".concat(i,"|").concat(d);!p.reload&&S.store.hasResourceBundle(i,d)?S.state[I]=2:S.state[I]<0||(1===S.state[I]?O.indexOf(I)<0&&O.push(I):(S.state[I]=1,v=!1,O.indexOf(I)<0&&O.push(I),T.indexOf(I)<0&&T.push(I),N.indexOf(d)<0&&N.push(d)))})),v||I.push(i)})),(T.length||O.length)&&this.queue.push({pending:O,loaded:{},errors:[],callback:v}),{toLoad:T,pending:O,toLoadLanguages:I,toLoadNamespaces:N}}},{key:"loaded",value:function loaded(i,d,p){var v=i.split("|"),S=v[0],T=v[1];d&&this.emit("failedLoading",S,T,d),p&&this.store.addResourceBundle(S,T,p),this.state[i]=d?-1:2;var loaded={};this.queue.forEach((function(p){!function pushPath(i,d,p,v){var S=getLastOfPath(i,d,Object),T=S.obj,O=S.k;T[O]=T[O]||[],v&&(T[O]=T[O].concat(p)),v||T[O].push(p)}(p.loaded,[S],T),function remove(i,d){for(var p=i.indexOf(d);-1!==p;)i.splice(p,1),p=i.indexOf(d)}(p.pending,i),d&&p.errors.push(d),0!==p.pending.length||p.done||(Object.keys(p.loaded).forEach((function(i){loaded[i]||(loaded[i]=[]),p.loaded[i].length&&p.loaded[i].forEach((function(d){loaded[i].indexOf(d)<0&&loaded[i].push(d)}))})),p.done=!0,p.errors.length?p.callback(p.errors):p.callback())})),this.emit("loaded",loaded),this.queue=this.queue.filter((function(i){return!i.done}))}},{key:"read",value:function read(i,d,p){var v=this,S=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,T=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,O=arguments.length>5?arguments[5]:void 0;return i.length?this.backend[p](i,d,(function(I,N){I&&N&&S<5?setTimeout((function(){v.read.call(v,i,d,p,S+1,2*T,O)}),T):O(I,N)})):O(null,{})}},{key:"prepareLoading",value:function prepareLoading(i,d){var p=this,v=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},S=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),S&&S();"string"==typeof i&&(i=this.languageUtils.toResolveHierarchy(i)),"string"==typeof d&&(d=[d]);var T=this.queueLoad(i,d,v,S);if(!T.toLoad.length)return T.pending.length||S(),null;T.toLoad.forEach((function(i){p.loadOne(i)}))}},{key:"load",value:function load(i,d,p){this.prepareLoading(i,d,{},p)}},{key:"reload",value:function reload(i,d,p){this.prepareLoading(i,d,{reload:!0},p)}},{key:"loadOne",value:function loadOne(i){var d=this,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",v=i.split("|"),S=v[0],T=v[1];this.read(S,T,"read",void 0,void 0,(function(v,O){v&&d.logger.warn("".concat(p,"loading namespace ").concat(T," for language ").concat(S," failed"),v),!v&&O&&d.logger.log("".concat(p,"loaded namespace ").concat(T," for language ").concat(S),O),d.loaded(i,v,O)}))}},{key:"saveMissing",value:function saveMissing(i,d,p,v,S){var T=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(d)?this.logger.warn('did not save key "'.concat(p,'" as the namespace "').concat(d,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null!=p&&""!==p&&(this.backend&&this.backend.create&&this.backend.create(i,d,p,v,null,_objectSpread({},T,{isUpdate:S})),i&&i[0]&&this.store.addResource(i[0],d,p,v))}}]),Connector}(R);function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function handle(i){var d={};if("object"===_typeof(i[1])&&(d=i[1]),"string"==typeof i[1]&&(d.defaultValue=i[1]),"string"==typeof i[2]&&(d.tDescription=i[2]),"object"===_typeof(i[2])||"object"===_typeof(i[3])){var p=i[3]||i[2];Object.keys(p).forEach((function(i){d[i]=p[i]}))}return d},interpolation:{escapeValue:!0,format:function format(i,d,p,v){return i},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function transformOptions(i){return"string"==typeof i.ns&&(i.ns=[i.ns]),"string"==typeof i.fallbackLng&&(i.fallbackLng=[i.fallbackLng]),"string"==typeof i.fallbackNS&&(i.fallbackNS=[i.fallbackNS]),i.whitelist&&(i.whitelist&&i.whitelist.indexOf("cimode")<0&&(i.whitelist=i.whitelist.concat(["cimode"])),i.supportedLngs=i.whitelist),i.nonExplicitWhitelist&&(i.nonExplicitSupportedLngs=i.nonExplicitWhitelist),i.supportedLngs&&i.supportedLngs.indexOf("cimode")<0&&(i.supportedLngs=i.supportedLngs.concat(["cimode"])),i}function noop(){}const q=new(function(i){function I18n(){var i,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;if(_classCallCheck(this,I18n),i=_possibleConstructorReturn(this,(0,T.Z)(I18n).call(this)),k&&R.call((0,S.Z)(i)),i.options=transformOptions(d),i.services={},i.logger=N,i.modules={external:[]},p&&!i.isInitialized&&!d.isClone){if(!i.options.initImmediate)return i.init(d,p),_possibleConstructorReturn(i,(0,S.Z)(i));setTimeout((function(){i.init(d,p)}),0)}return i}return _inherits(I18n,i),(0,v.Z)(I18n,[{key:"init",value:function init(){var i=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=arguments.length>1?arguments[1]:void 0;function createClassOnDemand(i){return i?"function"==typeof i?new i:i:null}if("function"==typeof d&&(p=d,d={}),d.whitelist&&!d.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),d.nonExplicitWhitelist&&!d.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=_objectSpread({},get(),this.options,transformOptions(d)),this.format=this.options.interpolation.format,p||(p=noop),!this.options.isClone){this.modules.logger?N.init(createClassOnDemand(this.modules.logger),this.options):N.init(null,this.options);var v=new j(this.options);this.store=new L(this.options.resources,this.options);var S=this.services;S.logger=N,S.resourceStore=this.store,S.languageUtils=v,S.pluralResolver=new Y(v,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),S.interpolator=new G(this.options),S.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},S.backendConnector=new W(createClassOnDemand(this.modules.backend),S.resourceStore,S,this.options),S.backendConnector.on("*",(function(d){for(var p=arguments.length,v=new Array(p>1?p-1:0),S=1;S<p;S++)v[S-1]=arguments[S];i.emit.apply(i,[d].concat(v))})),this.modules.languageDetector&&(S.languageDetector=createClassOnDemand(this.modules.languageDetector),S.languageDetector.init(S,this.options.detection,this.options)),this.modules.i18nFormat&&(S.i18nFormat=createClassOnDemand(this.modules.i18nFormat),S.i18nFormat.init&&S.i18nFormat.init(this)),this.translator=new U(this.services,this.options),this.translator.on("*",(function(d){for(var p=arguments.length,v=new Array(p>1?p-1:0),S=1;S<p;S++)v[S-1]=arguments[S];i.emit.apply(i,[d].concat(v))})),this.modules.external.forEach((function(d){d.init&&d.init(i)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var T=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);T.length>0&&"dev"!==T[0]&&(this.options.lng=T[0])}this.services.languageDetector||this.options.lng||this.logger.warn("init: no languageDetector is used and no lng is defined");var O=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];O.forEach((function(d){i[d]=function(){var p;return(p=i.store)[d].apply(p,arguments)}}));var I=["addResource","addResources","addResourceBundle","removeResourceBundle"];I.forEach((function(d){i[d]=function(){var p;return(p=i.store)[d].apply(p,arguments),i}}));var R=defer(),P=function load(){var d=function finish(d,v){i.isInitialized&&i.logger.warn("init: i18next is already initialized. You should call init just once!"),i.isInitialized=!0,i.options.isClone||i.logger.log("initialized",i.options),i.emit("initialized",i.options),R.resolve(v),p(d,v)};if(i.languages&&"v1"!==i.options.compatibilityAPI&&!i.isInitialized)return d(null,i.t.bind(i));i.changeLanguage(i.options.lng,d)};return this.options.resources||!this.options.initImmediate?P():setTimeout(P,0),R}},{key:"loadResources",value:function loadResources(i){var d=this,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,v=p,S="string"==typeof i?i:this.language;if("function"==typeof i&&(v=i),!this.options.resources||this.options.partialBundledLanguages){if(S&&"cimode"===S.toLowerCase())return v();var T=[],O=function append(i){i&&d.services.languageUtils.toResolveHierarchy(i).forEach((function(i){T.indexOf(i)<0&&T.push(i)}))};if(S)O(S);else{var I=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);I.forEach((function(i){return O(i)}))}this.options.preload&&this.options.preload.forEach((function(i){return O(i)})),this.services.backendConnector.load(T,this.options.ns,v)}else v(null)}},{key:"reloadResources",value:function reloadResources(i,d,p){var v=defer();return i||(i=this.languages),d||(d=this.options.ns),p||(p=noop),this.services.backendConnector.reload(i,d,(function(i){v.resolve(),p(i)})),v}},{key:"use",value:function use(i){if(!i)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!i.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===i.type&&(this.modules.backend=i),("logger"===i.type||i.log&&i.warn&&i.error)&&(this.modules.logger=i),"languageDetector"===i.type&&(this.modules.languageDetector=i),"i18nFormat"===i.type&&(this.modules.i18nFormat=i),"postProcessor"===i.type&&M.addPostProcessor(i),"3rdParty"===i.type&&this.modules.external.push(i),this}},{key:"changeLanguage",value:function changeLanguage(i,d){var p=this;this.isLanguageChangingTo=i;var v=defer();this.emit("languageChanging",i);var S=function setLng(i){var S="string"==typeof i?i:p.services.languageUtils.getBestMatchFromCodes(i);S&&(p.language||(p.language=S,p.languages=p.services.languageUtils.toResolveHierarchy(S)),p.translator.language||p.translator.changeLanguage(S),p.services.languageDetector&&p.services.languageDetector.cacheUserLanguage(S)),p.loadResources(S,(function(i){!function done(i,S){S?(p.language=S,p.languages=p.services.languageUtils.toResolveHierarchy(S),p.translator.changeLanguage(S),p.isLanguageChangingTo=void 0,p.emit("languageChanged",S),p.logger.log("languageChanged",S)):p.isLanguageChangingTo=void 0,v.resolve((function(){return p.t.apply(p,arguments)})),d&&d(i,(function(){return p.t.apply(p,arguments)}))}(i,S)}))};return i||!this.services.languageDetector||this.services.languageDetector.async?!i&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(S):S(i):S(this.services.languageDetector.detect()),v}},{key:"getFixedT",value:function getFixedT(i,d){var p=this,v=function fixedT(i,d){var v;if("object"!==_typeof(d)){for(var S=arguments.length,T=new Array(S>2?S-2:0),O=2;O<S;O++)T[O-2]=arguments[O];v=p.options.overloadTranslationOptionHandler([i,d].concat(T))}else v=_objectSpread({},d);return v.lng=v.lng||fixedT.lng,v.lngs=v.lngs||fixedT.lngs,v.ns=v.ns||fixedT.ns,p.t(i,v)};return"string"==typeof i?v.lng=i:v.lngs=i,v.ns=d,v}},{key:"t",value:function t(){var i;return this.translator&&(i=this.translator).translate.apply(i,arguments)}},{key:"exists",value:function exists(){var i;return this.translator&&(i=this.translator).exists.apply(i,arguments)}},{key:"setDefaultNamespace",value:function setDefaultNamespace(i){this.options.defaultNS=i}},{key:"hasLoadedNamespace",value:function hasLoadedNamespace(i){var d=this,p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var v=this.languages[0],S=!!this.options&&this.options.fallbackLng,T=this.languages[this.languages.length-1];if("cimode"===v.toLowerCase())return!0;var O=function loadNotPending(i,p){var v=d.services.backendConnector.state["".concat(i,"|").concat(p)];return-1===v||2===v};if(p.precheck){var I=p.precheck(this,O);if(void 0!==I)return I}return!!this.hasResourceBundle(v,i)||(!this.services.backendConnector.backend||!(!O(v,i)||S&&!O(T,i)))}},{key:"loadNamespaces",value:function loadNamespaces(i,d){var p=this,v=defer();return this.options.ns?("string"==typeof i&&(i=[i]),i.forEach((function(i){p.options.ns.indexOf(i)<0&&p.options.ns.push(i)})),this.loadResources((function(i){v.resolve(),d&&d(i)})),v):(d&&d(),Promise.resolve())}},{key:"loadLanguages",value:function loadLanguages(i,d){var p=defer();"string"==typeof i&&(i=[i]);var v=this.options.preload||[],S=i.filter((function(i){return v.indexOf(i)<0}));return S.length?(this.options.preload=v.concat(S),this.loadResources((function(i){p.resolve(),d&&d(i)})),p):(d&&d(),Promise.resolve())}},{key:"dir",value:function dir(i){if(i||(i=this.languages&&this.languages.length>0?this.languages[0]:this.language),!i)return"rtl";return["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(i))>=0?"rtl":"ltr"}},{key:"createInstance",value:function createInstance(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},d=arguments.length>1?arguments[1]:void 0;return new I18n(i,d)}},{key:"cloneInstance",value:function cloneInstance(){var i=this,d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop,v=_objectSpread({},this.options,d,{isClone:!0}),S=new I18n(v),T=["store","services","language"];return T.forEach((function(d){S[d]=i[d]})),S.services=_objectSpread({},this.services),S.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S.translator=new U(S.services,S.options),S.translator.on("*",(function(i){for(var d=arguments.length,p=new Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];S.emit.apply(S,[i].concat(p))})),S.init(v,p),S.translator.options=S.options,S.translator.backendConnector.services.utils={hasLoadedNamespace:S.hasLoadedNamespace.bind(S)},S}}]),I18n}(R))},72023:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_RESULT__;(function(){"use strict";var ERROR="input is invalid type",WINDOW="object"==typeof window,root=WINDOW?window:{};root.JS_SHA256_NO_WINDOW&&(WINDOW=!1);var WEB_WORKER=!WINDOW&&"object"==typeof self,NODE_JS=!root.JS_SHA256_NO_NODE_JS&&"object"==typeof process&&process.versions&&process.versions.node;NODE_JS?root=__webpack_require__.g:WEB_WORKER&&(root=self);var COMMON_JS=!root.JS_SHA256_NO_COMMON_JS&&module.exports,AMD=__webpack_require__.amdO,ARRAY_BUFFER=!root.JS_SHA256_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,HEX_CHARS="0123456789abcdef".split(""),EXTRA=[-2147483648,8388608,32768,128],SHIFT=[24,16,8,0],K=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],OUTPUT_TYPES=["hex","array","digest","arrayBuffer"],blocks=[];!root.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(i){return"[object Array]"===Object.prototype.toString.call(i)}),!ARRAY_BUFFER||!root.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(i){return"object"==typeof i&&i.buffer&&i.buffer.constructor===ArrayBuffer});var createOutputMethod=function(i,d){return function(p){return new Sha256(d,!0).update(p)[i]()}},createMethod=function(i){var d=createOutputMethod("hex",i);NODE_JS&&(d=nodeWrap(d,i)),d.create=function(){return new Sha256(i)},d.update=function(i){return d.create().update(i)};for(var p=0;p<OUTPUT_TYPES.length;++p){var v=OUTPUT_TYPES[p];d[v]=createOutputMethod(v,i)}return d},nodeWrap=function(method,is224){var crypto=eval("require('crypto')"),Buffer=eval("require('buffer').Buffer"),algorithm=is224?"sha224":"sha256",nodeMethod=function(i){if("string"==typeof i)return crypto.createHash(algorithm).update(i,"utf8").digest("hex");if(null==i)throw new Error(ERROR);return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),Array.isArray(i)||ArrayBuffer.isView(i)||i.constructor===Buffer?crypto.createHash(algorithm).update(new Buffer(i)).digest("hex"):method(i)};return nodeMethod},createHmacOutputMethod=function(i,d){return function(p,v){return new HmacSha256(p,d,!0).update(v)[i]()}},createHmacMethod=function(i){var d=createHmacOutputMethod("hex",i);d.create=function(d){return new HmacSha256(d,i)},d.update=function(i,p){return d.create(i).update(p)};for(var p=0;p<OUTPUT_TYPES.length;++p){var v=OUTPUT_TYPES[p];d[v]=createHmacOutputMethod(v,i)}return d};function Sha256(i,d){d?(blocks[0]=blocks[16]=blocks[1]=blocks[2]=blocks[3]=blocks[4]=blocks[5]=blocks[6]=blocks[7]=blocks[8]=blocks[9]=blocks[10]=blocks[11]=blocks[12]=blocks[13]=blocks[14]=blocks[15]=0,this.blocks=blocks):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],i?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=i}function HmacSha256(i,d,p){var v,S=typeof i;if("string"===S){var T,O=[],I=i.length,N=0;for(v=0;v<I;++v)(T=i.charCodeAt(v))<128?O[N++]=T:T<2048?(O[N++]=192|T>>6,O[N++]=128|63&T):T<55296||T>=57344?(O[N++]=224|T>>12,O[N++]=128|T>>6&63,O[N++]=128|63&T):(T=65536+((1023&T)<<10|1023&i.charCodeAt(++v)),O[N++]=240|T>>18,O[N++]=128|T>>12&63,O[N++]=128|T>>6&63,O[N++]=128|63&T);i=O}else{if("object"!==S)throw new Error(ERROR);if(null===i)throw new Error(ERROR);if(ARRAY_BUFFER&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!(Array.isArray(i)||ARRAY_BUFFER&&ArrayBuffer.isView(i)))throw new Error(ERROR)}i.length>64&&(i=new Sha256(d,!0).update(i).array());var R=[],P=[];for(v=0;v<64;++v){var k=i[v]||0;R[v]=92^k,P[v]=54^k}Sha256.call(this,d,p),this.update(P),this.oKeyPad=R,this.inner=!0,this.sharedMemory=p}Sha256.prototype.update=function(i){if(!this.finalized){var d,p=typeof i;if("string"!==p){if("object"!==p)throw new Error(ERROR);if(null===i)throw new Error(ERROR);if(ARRAY_BUFFER&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!(Array.isArray(i)||ARRAY_BUFFER&&ArrayBuffer.isView(i)))throw new Error(ERROR);d=!0}for(var v,S,T=0,O=i.length,I=this.blocks;T<O;){if(this.hashed&&(this.hashed=!1,I[0]=this.block,I[16]=I[1]=I[2]=I[3]=I[4]=I[5]=I[6]=I[7]=I[8]=I[9]=I[10]=I[11]=I[12]=I[13]=I[14]=I[15]=0),d)for(S=this.start;T<O&&S<64;++T)I[S>>2]|=i[T]<<SHIFT[3&S++];else for(S=this.start;T<O&&S<64;++T)(v=i.charCodeAt(T))<128?I[S>>2]|=v<<SHIFT[3&S++]:v<2048?(I[S>>2]|=(192|v>>6)<<SHIFT[3&S++],I[S>>2]|=(128|63&v)<<SHIFT[3&S++]):v<55296||v>=57344?(I[S>>2]|=(224|v>>12)<<SHIFT[3&S++],I[S>>2]|=(128|v>>6&63)<<SHIFT[3&S++],I[S>>2]|=(128|63&v)<<SHIFT[3&S++]):(v=65536+((1023&v)<<10|1023&i.charCodeAt(++T)),I[S>>2]|=(240|v>>18)<<SHIFT[3&S++],I[S>>2]|=(128|v>>12&63)<<SHIFT[3&S++],I[S>>2]|=(128|v>>6&63)<<SHIFT[3&S++],I[S>>2]|=(128|63&v)<<SHIFT[3&S++]);this.lastByteIndex=S,this.bytes+=S-this.start,S>=64?(this.block=I[16],this.start=S-64,this.hash(),this.hashed=!0):this.start=S}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},Sha256.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var i=this.blocks,d=this.lastByteIndex;i[16]=this.block,i[d>>2]|=EXTRA[3&d],this.block=i[16],d>=56&&(this.hashed||this.hash(),i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),i[14]=this.hBytes<<3|this.bytes>>>29,i[15]=this.bytes<<3,this.hash()}},Sha256.prototype.hash=function(){var i,d,p,v,S,T,O,I,N,R=this.h0,P=this.h1,k=this.h2,L=this.h3,M=this.h4,F=this.h5,U=this.h6,j=this.h7,H=this.blocks;for(i=16;i<64;++i)d=((S=H[i-15])>>>7|S<<25)^(S>>>18|S<<14)^S>>>3,p=((S=H[i-2])>>>17|S<<15)^(S>>>19|S<<13)^S>>>10,H[i]=H[i-16]+d+H[i-7]+p<<0;for(N=P&k,i=0;i<64;i+=4)this.first?(this.is224?(T=300032,j=(S=H[0]-1413257819)-150054599<<0,L=S+24177077<<0):(T=704751109,j=(S=H[0]-210244248)-1521486534<<0,L=S+143694565<<0),this.first=!1):(d=(R>>>2|R<<30)^(R>>>13|R<<19)^(R>>>22|R<<10),v=(T=R&P)^R&k^N,j=L+(S=j+(p=(M>>>6|M<<26)^(M>>>11|M<<21)^(M>>>25|M<<7))+(M&F^~M&U)+K[i]+H[i])<<0,L=S+(d+v)<<0),d=(L>>>2|L<<30)^(L>>>13|L<<19)^(L>>>22|L<<10),v=(O=L&R)^L&P^T,U=k+(S=U+(p=(j>>>6|j<<26)^(j>>>11|j<<21)^(j>>>25|j<<7))+(j&M^~j&F)+K[i+1]+H[i+1])<<0,d=((k=S+(d+v)<<0)>>>2|k<<30)^(k>>>13|k<<19)^(k>>>22|k<<10),v=(I=k&L)^k&R^O,F=P+(S=F+(p=(U>>>6|U<<26)^(U>>>11|U<<21)^(U>>>25|U<<7))+(U&j^~U&M)+K[i+2]+H[i+2])<<0,d=((P=S+(d+v)<<0)>>>2|P<<30)^(P>>>13|P<<19)^(P>>>22|P<<10),v=(N=P&k)^P&L^I,M=R+(S=M+(p=(F>>>6|F<<26)^(F>>>11|F<<21)^(F>>>25|F<<7))+(F&U^~F&j)+K[i+3]+H[i+3])<<0,R=S+(d+v)<<0;this.h0=this.h0+R<<0,this.h1=this.h1+P<<0,this.h2=this.h2+k<<0,this.h3=this.h3+L<<0,this.h4=this.h4+M<<0,this.h5=this.h5+F<<0,this.h6=this.h6+U<<0,this.h7=this.h7+j<<0},Sha256.prototype.hex=function(){this.finalize();var i=this.h0,d=this.h1,p=this.h2,v=this.h3,S=this.h4,T=this.h5,O=this.h6,I=this.h7,N=HEX_CHARS[i>>28&15]+HEX_CHARS[i>>24&15]+HEX_CHARS[i>>20&15]+HEX_CHARS[i>>16&15]+HEX_CHARS[i>>12&15]+HEX_CHARS[i>>8&15]+HEX_CHARS[i>>4&15]+HEX_CHARS[15&i]+HEX_CHARS[d>>28&15]+HEX_CHARS[d>>24&15]+HEX_CHARS[d>>20&15]+HEX_CHARS[d>>16&15]+HEX_CHARS[d>>12&15]+HEX_CHARS[d>>8&15]+HEX_CHARS[d>>4&15]+HEX_CHARS[15&d]+HEX_CHARS[p>>28&15]+HEX_CHARS[p>>24&15]+HEX_CHARS[p>>20&15]+HEX_CHARS[p>>16&15]+HEX_CHARS[p>>12&15]+HEX_CHARS[p>>8&15]+HEX_CHARS[p>>4&15]+HEX_CHARS[15&p]+HEX_CHARS[v>>28&15]+HEX_CHARS[v>>24&15]+HEX_CHARS[v>>20&15]+HEX_CHARS[v>>16&15]+HEX_CHARS[v>>12&15]+HEX_CHARS[v>>8&15]+HEX_CHARS[v>>4&15]+HEX_CHARS[15&v]+HEX_CHARS[S>>28&15]+HEX_CHARS[S>>24&15]+HEX_CHARS[S>>20&15]+HEX_CHARS[S>>16&15]+HEX_CHARS[S>>12&15]+HEX_CHARS[S>>8&15]+HEX_CHARS[S>>4&15]+HEX_CHARS[15&S]+HEX_CHARS[T>>28&15]+HEX_CHARS[T>>24&15]+HEX_CHARS[T>>20&15]+HEX_CHARS[T>>16&15]+HEX_CHARS[T>>12&15]+HEX_CHARS[T>>8&15]+HEX_CHARS[T>>4&15]+HEX_CHARS[15&T]+HEX_CHARS[O>>28&15]+HEX_CHARS[O>>24&15]+HEX_CHARS[O>>20&15]+HEX_CHARS[O>>16&15]+HEX_CHARS[O>>12&15]+HEX_CHARS[O>>8&15]+HEX_CHARS[O>>4&15]+HEX_CHARS[15&O];return this.is224||(N+=HEX_CHARS[I>>28&15]+HEX_CHARS[I>>24&15]+HEX_CHARS[I>>20&15]+HEX_CHARS[I>>16&15]+HEX_CHARS[I>>12&15]+HEX_CHARS[I>>8&15]+HEX_CHARS[I>>4&15]+HEX_CHARS[15&I]),N},Sha256.prototype.toString=Sha256.prototype.hex,Sha256.prototype.digest=function(){this.finalize();var i=this.h0,d=this.h1,p=this.h2,v=this.h3,S=this.h4,T=this.h5,O=this.h6,I=this.h7,N=[i>>24&255,i>>16&255,i>>8&255,255&i,d>>24&255,d>>16&255,d>>8&255,255&d,p>>24&255,p>>16&255,p>>8&255,255&p,v>>24&255,v>>16&255,v>>8&255,255&v,S>>24&255,S>>16&255,S>>8&255,255&S,T>>24&255,T>>16&255,T>>8&255,255&T,O>>24&255,O>>16&255,O>>8&255,255&O];return this.is224||N.push(I>>24&255,I>>16&255,I>>8&255,255&I),N},Sha256.prototype.array=Sha256.prototype.digest,Sha256.prototype.arrayBuffer=function(){this.finalize();var i=new ArrayBuffer(this.is224?28:32),d=new DataView(i);return d.setUint32(0,this.h0),d.setUint32(4,this.h1),d.setUint32(8,this.h2),d.setUint32(12,this.h3),d.setUint32(16,this.h4),d.setUint32(20,this.h5),d.setUint32(24,this.h6),this.is224||d.setUint32(28,this.h7),i},HmacSha256.prototype=new Sha256,HmacSha256.prototype.finalize=function(){if(Sha256.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();Sha256.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),Sha256.prototype.finalize.call(this)}};var exports=createMethod();exports.sha256=exports,exports.sha224=createMethod(!0),exports.sha256.hmac=createHmacMethod(),exports.sha224.hmac=createHmacMethod(!0),COMMON_JS?module.exports=exports:(root.sha256=exports.sha256,root.sha224=exports.sha224,AMD&&(__WEBPACK_AMD_DEFINE_RESULT__=function(){return exports}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)))})()},48094:i=>{var d=Object.prototype.toString;i.exports=function isBoolean(i){return!0===i||!1===i||function isObjectLike(i){return!!i&&"object"==typeof i}(i)&&"[object Boolean]"==d.call(i)}},72307:(i,d,p)=>{i=p.nmd(i);var v="__lodash_hash_undefined__",S=9007199254740991,T="[object Arguments]",O="[object Array]",I="[object Boolean]",N="[object Date]",R="[object Error]",P="[object Function]",k="[object Map]",L="[object Number]",M="[object Object]",F="[object Promise]",U="[object RegExp]",j="[object Set]",H="[object String]",V="[object Symbol]",Y="[object WeakMap]",G="[object ArrayBuffer]",W="[object DataView]",q=/^\[object .+?Constructor\]$/,Q=/^(?:0|[1-9]\d*)$/,X={};X["[object Float32Array]"]=X["[object Float64Array]"]=X["[object Int8Array]"]=X["[object Int16Array]"]=X["[object Int32Array]"]=X["[object Uint8Array]"]=X["[object Uint8ClampedArray]"]=X["[object Uint16Array]"]=X["[object Uint32Array]"]=!0,X[T]=X[O]=X[G]=X[I]=X[W]=X[N]=X[R]=X[P]=X[k]=X[L]=X[M]=X[U]=X[j]=X[H]=X[Y]=!1;var Z="object"==typeof p.g&&p.g&&p.g.Object===Object&&p.g,J="object"==typeof self&&self&&self.Object===Object&&self,$=Z||J||Function("return this")(),ee=d&&!d.nodeType&&d,te=ee&&i&&!i.nodeType&&i,ne=te&&te.exports===ee,re=ne&&Z.process,ie=function(){try{return re&&re.binding&&re.binding("util")}catch(i){}}(),oe=ie&&ie.isTypedArray;function arraySome(i,d){for(var p=-1,v=null==i?0:i.length;++p<v;)if(d(i[p],p,i))return!0;return!1}function mapToArray(i){var d=-1,p=Array(i.size);return i.forEach((function(i,v){p[++d]=[v,i]})),p}function setToArray(i){var d=-1,p=Array(i.size);return i.forEach((function(i){p[++d]=i})),p}var ae,se=Array.prototype,ce=Function.prototype,ue=Object.prototype,le=$["__core-js_shared__"],de=ce.toString,pe=ue.hasOwnProperty,fe=(ae=/[^.]+$/.exec(le&&le.keys&&le.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"",he=ue.toString,me=RegExp("^"+de.call(pe).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ge=ne?$.Buffer:void 0,ye=$.Symbol,_e=$.Uint8Array,ve=ue.propertyIsEnumerable,Ee=se.splice,be=ye?ye.toStringTag:void 0,Se=Object.getOwnPropertySymbols,Te=ge?ge.isBuffer:void 0,Ae=function overArg(i,d){return function(p){return i(d(p))}}(Object.keys,Object),Oe=getNative($,"DataView"),Ie=getNative($,"Map"),Ce=getNative($,"Promise"),we=getNative($,"Set"),Ne=getNative($,"WeakMap"),Re=getNative(Object,"create"),Pe=toSource(Oe),De=toSource(Ie),ke=toSource(Ce),Le=toSource(we),xe=toSource(Ne),Me=ye?ye.prototype:void 0,Fe=Me?Me.valueOf:void 0;function Hash(i){var d=-1,p=null==i?0:i.length;for(this.clear();++d<p;){var v=i[d];this.set(v[0],v[1])}}function ListCache(i){var d=-1,p=null==i?0:i.length;for(this.clear();++d<p;){var v=i[d];this.set(v[0],v[1])}}function MapCache(i){var d=-1,p=null==i?0:i.length;for(this.clear();++d<p;){var v=i[d];this.set(v[0],v[1])}}function SetCache(i){var d=-1,p=null==i?0:i.length;for(this.__data__=new MapCache;++d<p;)this.add(i[d])}function Stack(i){var d=this.__data__=new ListCache(i);this.size=d.size}function arrayLikeKeys(i,d){var p=Ke(i),v=!p&&He(i),S=!p&&!v&&Be(i),T=!p&&!v&&!S&&Ve(i),O=p||v||S||T,I=O?function baseTimes(i,d){for(var p=-1,v=Array(i);++p<i;)v[p]=d(p);return v}(i.length,String):[],N=I.length;for(var R in i)!d&&!pe.call(i,R)||O&&("length"==R||S&&("offset"==R||"parent"==R)||T&&("buffer"==R||"byteLength"==R||"byteOffset"==R)||isIndex(R,N))||I.push(R);return I}function assocIndexOf(i,d){for(var p=i.length;p--;)if(eq(i[p][0],d))return p;return-1}function baseGetTag(i){return null==i?void 0===i?"[object Undefined]":"[object Null]":be&&be in Object(i)?function getRawTag(i){var d=pe.call(i,be),p=i[be];try{i[be]=void 0;var v=!0}catch(i){}var S=he.call(i);v&&(d?i[be]=p:delete i[be]);return S}(i):function objectToString(i){return he.call(i)}(i)}function baseIsArguments(i){return isObjectLike(i)&&baseGetTag(i)==T}function baseIsEqual(i,d,p,v,S){return i===d||(null==i||null==d||!isObjectLike(i)&&!isObjectLike(d)?i!=i&&d!=d:function baseIsEqualDeep(i,d,p,v,S,P){var F=Ke(i),Y=Ke(d),q=F?O:je(i),Q=Y?O:je(d),X=(q=q==T?M:q)==M,Z=(Q=Q==T?M:Q)==M,J=q==Q;if(J&&Be(i)){if(!Be(d))return!1;F=!0,X=!1}if(J&&!X)return P||(P=new Stack),F||Ve(i)?equalArrays(i,d,p,v,S,P):function equalByTag(i,d,p,v,S,T,O){switch(p){case W:if(i.byteLength!=d.byteLength||i.byteOffset!=d.byteOffset)return!1;i=i.buffer,d=d.buffer;case G:return!(i.byteLength!=d.byteLength||!T(new _e(i),new _e(d)));case I:case N:case L:return eq(+i,+d);case R:return i.name==d.name&&i.message==d.message;case U:case H:return i==d+"";case k:var P=mapToArray;case j:var M=1&v;if(P||(P=setToArray),i.size!=d.size&&!M)return!1;var F=O.get(i);if(F)return F==d;v|=2,O.set(i,d);var Y=equalArrays(P(i),P(d),v,S,T,O);return O.delete(i),Y;case V:if(Fe)return Fe.call(i)==Fe.call(d)}return!1}(i,d,q,p,v,S,P);if(!(1&p)){var $=X&&pe.call(i,"__wrapped__"),ee=Z&&pe.call(d,"__wrapped__");if($||ee){var te=$?i.value():i,ne=ee?d.value():d;return P||(P=new Stack),S(te,ne,p,v,P)}}if(!J)return!1;return P||(P=new Stack),function equalObjects(i,d,p,v,S,T){var O=1&p,I=getAllKeys(i),N=I.length,R=getAllKeys(d).length;if(N!=R&&!O)return!1;var P=N;for(;P--;){var k=I[P];if(!(O?k in d:pe.call(d,k)))return!1}var L=T.get(i);if(L&&T.get(d))return L==d;var M=!0;T.set(i,d),T.set(d,i);var F=O;for(;++P<N;){var U=i[k=I[P]],j=d[k];if(v)var H=O?v(j,U,k,d,i,T):v(U,j,k,i,d,T);if(!(void 0===H?U===j||S(U,j,p,v,T):H)){M=!1;break}F||(F="constructor"==k)}if(M&&!F){var V=i.constructor,Y=d.constructor;V==Y||!("constructor"in i)||!("constructor"in d)||"function"==typeof V&&V instanceof V&&"function"==typeof Y&&Y instanceof Y||(M=!1)}return T.delete(i),T.delete(d),M}(i,d,p,v,S,P)}(i,d,p,v,baseIsEqual,S))}function baseIsNative(i){return!(!isObject(i)||function isMasked(i){return!!fe&&fe in i}(i))&&(isFunction(i)?me:q).test(toSource(i))}function baseKeys(i){if(!function isPrototype(i){var d=i&&i.constructor,p="function"==typeof d&&d.prototype||ue;return i===p}(i))return Ae(i);var d=[];for(var p in Object(i))pe.call(i,p)&&"constructor"!=p&&d.push(p);return d}function equalArrays(i,d,p,v,S,T){var O=1&p,I=i.length,N=d.length;if(I!=N&&!(O&&N>I))return!1;var R=T.get(i);if(R&&T.get(d))return R==d;var P=-1,k=!0,L=2&p?new SetCache:void 0;for(T.set(i,d),T.set(d,i);++P<I;){var M=i[P],F=d[P];if(v)var U=O?v(F,M,P,d,i,T):v(M,F,P,i,d,T);if(void 0!==U){if(U)continue;k=!1;break}if(L){if(!arraySome(d,(function(i,d){if(O=d,!L.has(O)&&(M===i||S(M,i,p,v,T)))return L.push(d);var O}))){k=!1;break}}else if(M!==F&&!S(M,F,p,v,T)){k=!1;break}}return T.delete(i),T.delete(d),k}function getAllKeys(i){return function baseGetAllKeys(i,d,p){var v=d(i);return Ke(i)?v:function arrayPush(i,d){for(var p=-1,v=d.length,S=i.length;++p<v;)i[S+p]=d[p];return i}(v,p(i))}(i,keys,Ue)}function getMapData(i,d){var p=i.__data__;return function isKeyable(i){var d=typeof i;return"string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==i:null===i}(d)?p["string"==typeof d?"string":"hash"]:p.map}function getNative(i,d){var p=function getValue(i,d){return null==i?void 0:i[d]}(i,d);return baseIsNative(p)?p:void 0}Hash.prototype.clear=function hashClear(){this.__data__=Re?Re(null):{},this.size=0},Hash.prototype.delete=function hashDelete(i){var d=this.has(i)&&delete this.__data__[i];return this.size-=d?1:0,d},Hash.prototype.get=function hashGet(i){var d=this.__data__;if(Re){var p=d[i];return p===v?void 0:p}return pe.call(d,i)?d[i]:void 0},Hash.prototype.has=function hashHas(i){var d=this.__data__;return Re?void 0!==d[i]:pe.call(d,i)},Hash.prototype.set=function hashSet(i,d){var p=this.__data__;return this.size+=this.has(i)?0:1,p[i]=Re&&void 0===d?v:d,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(i){var d=this.__data__,p=assocIndexOf(d,i);return!(p<0)&&(p==d.length-1?d.pop():Ee.call(d,p,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(i){var d=this.__data__,p=assocIndexOf(d,i);return p<0?void 0:d[p][1]},ListCache.prototype.has=function listCacheHas(i){return assocIndexOf(this.__data__,i)>-1},ListCache.prototype.set=function listCacheSet(i,d){var p=this.__data__,v=assocIndexOf(p,i);return v<0?(++this.size,p.push([i,d])):p[v][1]=d,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Ie||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(i){var d=getMapData(this,i).delete(i);return this.size-=d?1:0,d},MapCache.prototype.get=function mapCacheGet(i){return getMapData(this,i).get(i)},MapCache.prototype.has=function mapCacheHas(i){return getMapData(this,i).has(i)},MapCache.prototype.set=function mapCacheSet(i,d){var p=getMapData(this,i),v=p.size;return p.set(i,d),this.size+=p.size==v?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function setCacheAdd(i){return this.__data__.set(i,v),this},SetCache.prototype.has=function setCacheHas(i){return this.__data__.has(i)},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(i){var d=this.__data__,p=d.delete(i);return this.size=d.size,p},Stack.prototype.get=function stackGet(i){return this.__data__.get(i)},Stack.prototype.has=function stackHas(i){return this.__data__.has(i)},Stack.prototype.set=function stackSet(i,d){var p=this.__data__;if(p instanceof ListCache){var v=p.__data__;if(!Ie||v.length<199)return v.push([i,d]),this.size=++p.size,this;p=this.__data__=new MapCache(v)}return p.set(i,d),this.size=p.size,this};var Ue=Se?function(i){return null==i?[]:(i=Object(i),function arrayFilter(i,d){for(var p=-1,v=null==i?0:i.length,S=0,T=[];++p<v;){var O=i[p];d(O,p,i)&&(T[S++]=O)}return T}(Se(i),(function(d){return ve.call(i,d)})))}:function stubArray(){return[]},je=baseGetTag;function isIndex(i,d){return!!(d=null==d?S:d)&&("number"==typeof i||Q.test(i))&&i>-1&&i%1==0&&i<d}function toSource(i){if(null!=i){try{return de.call(i)}catch(i){}try{return i+""}catch(i){}}return""}function eq(i,d){return i===d||i!=i&&d!=d}(Oe&&je(new Oe(new ArrayBuffer(1)))!=W||Ie&&je(new Ie)!=k||Ce&&je(Ce.resolve())!=F||we&&je(new we)!=j||Ne&&je(new Ne)!=Y)&&(je=function(i){var d=baseGetTag(i),p=d==M?i.constructor:void 0,v=p?toSource(p):"";if(v)switch(v){case Pe:return W;case De:return k;case ke:return F;case Le:return j;case xe:return Y}return d});var He=baseIsArguments(function(){return arguments}())?baseIsArguments:function(i){return isObjectLike(i)&&pe.call(i,"callee")&&!ve.call(i,"callee")},Ke=Array.isArray;var Be=Te||function stubFalse(){return!1};function isFunction(i){if(!isObject(i))return!1;var d=baseGetTag(i);return d==P||"[object GeneratorFunction]"==d||"[object AsyncFunction]"==d||"[object Proxy]"==d}function isLength(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=S}function isObject(i){var d=typeof i;return null!=i&&("object"==d||"function"==d)}function isObjectLike(i){return null!=i&&"object"==typeof i}var Ve=oe?function baseUnary(i){return function(d){return i(d)}}(oe):function baseIsTypedArray(i){return isObjectLike(i)&&isLength(i.length)&&!!X[baseGetTag(i)]};function keys(i){return function isArrayLike(i){return null!=i&&isLength(i.length)&&!isFunction(i)}(i)?arrayLikeKeys(i):baseKeys(i)}i.exports=function isEqual(i,d){return baseIsEqual(i,d)}},62753:i=>{i.exports=function isObject(i){var d=typeof i;return!!i&&("object"==d||"function"==d)}},18552:(i,d,p)=>{var v=p(10852)(p(55639),"DataView");i.exports=v},1989:(i,d,p)=>{var v=p(51789),S=p(80401),T=p(57667),O=p(21327),I=p(81866);function Hash(i){var d=-1,p=null==i?0:i.length;for(this.clear();++d<p;){var v=i[d];this.set(v[0],v[1])}}Hash.prototype.clear=v,Hash.prototype.delete=S,Hash.prototype.get=T,Hash.prototype.has=O,Hash.prototype.set=I,i.exports=Hash},96425:(i,d,p)=>{var v=p(3118),S=p(9435);function LazyWrapper(i){this.__wrapped__=i,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}LazyWrapper.prototype=v(S.prototype),LazyWrapper.prototype.constructor=LazyWrapper,i.exports=LazyWrapper},38407:(i,d,p)=>{var v=p(27040),S=p(14125),T=p(82117),O=p(67518),I=p(54705);function ListCache(i){var d=-1,p=null==i?0:i.length;for(this.clear();++d<p;){var v=i[d];this.set(v[0],v[1])}}ListCache.prototype.clear=v,ListCache.prototype.delete=S,ListCache.prototype.get=T,ListCache.prototype.has=O,ListCache.prototype.set=I,i.exports=ListCache},7548:(i,d,p)=>{var v=p(3118),S=p(9435);function LodashWrapper(i,d){this.__wrapped__=i,this.__actions__=[],this.__chain__=!!d,this.__index__=0,this.__values__=void 0}LodashWrapper.prototype=v(S.prototype),LodashWrapper.prototype.constructor=LodashWrapper,i.exports=LodashWrapper},57071:(i,d,p)=>{var v=p(10852)(p(55639),"Map");i.exports=v},83369:(i,d,p)=>{var v=p(24785),S=p(11285),T=p(96e3),O=p(49916),I=p(95265);function MapCache(i){var d=-1,p=null==i?0:i.length;for(this.clear();++d<p;){var v=i[d];this.set(v[0],v[1])}}MapCache.prototype.clear=v,MapCache.prototype.delete=S,MapCache.prototype.get=T,MapCache.prototype.has=O,MapCache.prototype.set=I,i.exports=MapCache},53818:(i,d,p)=>{var v=p(10852)(p(55639),"Promise");i.exports=v},58525:(i,d,p)=>{var v=p(10852)(p(55639),"Set");i.exports=v},88668:(i,d,p)=>{var v=p(83369),S=p(90619),T=p(72385);function SetCache(i){var d=-1,p=null==i?0:i.length;for(this.__data__=new v;++d<p;)this.add(i[d])}SetCache.prototype.add=SetCache.prototype.push=S,SetCache.prototype.has=T,i.exports=SetCache},46384:(i,d,p)=>{var v=p(38407),S=p(37465),T=p(63779),O=p(67599),I=p(44758),N=p(34309);function Stack(i){var d=this.__data__=new v(i);this.size=d.size}Stack.prototype.clear=S,Stack.prototype.delete=T,Stack.prototype.get=O,Stack.prototype.has=I,Stack.prototype.set=N,i.exports=Stack},62705:(i,d,p)=>{var v=p(55639).Symbol;i.exports=v},11149:(i,d,p)=>{var v=p(55639).Uint8Array;i.exports=v},70577:(i,d,p)=>{var v=p(10852)(p(55639),"WeakMap");i.exports=v},96874:i=>{i.exports=function apply(i,d,p){switch(p.length){case 0:return i.call(d);case 1:return i.call(d,p[0]);case 2:return i.call(d,p[0],p[1]);case 3:return i.call(d,p[0],p[1],p[2])}return i.apply(d,p)}},44174:i=>{i.exports=function arrayAggregator(i,d,p,v){for(var S=-1,T=null==i?0:i.length;++S<T;){var O=i[S];d(v,O,p(O),i)}return v}},77412:i=>{i.exports=function arrayEach(i,d){for(var p=-1,v=null==i?0:i.length;++p<v&&!1!==d(i[p],p,i););return i}},66193:i=>{i.exports=function arrayEvery(i,d){for(var p=-1,v=null==i?0:i.length;++p<v;)if(!d(i[p],p,i))return!1;return!0}},34963:i=>{i.exports=function arrayFilter(i,d){for(var p=-1,v=null==i?0:i.length,S=0,T=[];++p<v;){var O=i[p];d(O,p,i)&&(T[S++]=O)}return T}},47443:(i,d,p)=>{var v=p(42118);i.exports=function arrayIncludes(i,d){return!!(null==i?0:i.length)&&v(i,d,0)>-1}},1196:i=>{i.exports=function arrayIncludesWith(i,d,p){for(var v=-1,S=null==i?0:i.length;++v<S;)if(p(d,i[v]))return!0;return!1}},14636:(i,d,p)=>{var v=p(22545),S=p(35694),T=p(1469),O=p(44144),I=p(65776),N=p(36719),R=Object.prototype.hasOwnProperty;i.exports=function arrayLikeKeys(i,d){var p=T(i),P=!p&&S(i),k=!p&&!P&&O(i),L=!p&&!P&&!k&&N(i),M=p||P||k||L,F=M?v(i.length,String):[],U=F.length;for(var j in i)!d&&!R.call(i,j)||M&&("length"==j||k&&("offset"==j||"parent"==j)||L&&("buffer"==j||"byteLength"==j||"byteOffset"==j)||I(j,U))||F.push(j);return F}},29932:i=>{i.exports=function arrayMap(i,d){for(var p=-1,v=null==i?0:i.length,S=Array(v);++p<v;)S[p]=d(i[p],p,i);return S}},62488:i=>{i.exports=function arrayPush(i,d){for(var p=-1,v=d.length,S=i.length;++p<v;)i[S+p]=d[p];return i}},62663:i=>{i.exports=function arrayReduce(i,d,p,v){var S=-1,T=null==i?0:i.length;for(v&&T&&(p=i[++S]);++S<T;)p=d(p,i[S],S,i);return p}},82908:i=>{i.exports=function arraySome(i,d){for(var p=-1,v=null==i?0:i.length;++p<v;)if(d(i[p],p,i))return!0;return!1}},48983:(i,d,p)=>{var v=p(40371)("length");i.exports=v},44286:i=>{i.exports=function asciiToArray(i){return i.split("")}},49029:i=>{var d=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;i.exports=function asciiWords(i){return i.match(d)||[]}},86556:(i,d,p)=>{var v=p(89465),S=p(77813);i.exports=function assignMergeValue(i,d,p){(void 0!==p&&!S(i[d],p)||void 0===p&&!(d in i))&&v(i,d,p)}},34865:(i,d,p)=>{var v=p(89465),S=p(77813),T=Object.prototype.hasOwnProperty;i.exports=function assignValue(i,d,p){var O=i[d];T.call(i,d)&&S(O,p)&&(void 0!==p||d in i)||v(i,d,p)}},18470:(i,d,p)=>{var v=p(77813);i.exports=function assocIndexOf(i,d){for(var p=i.length;p--;)if(v(i[p][0],d))return p;return-1}},81119:(i,d,p)=>{var v=p(89881);i.exports=function baseAggregator(i,d,p,S){return v(i,(function(i,v,T){d(S,i,p(i),T)})),S}},44037:(i,d,p)=>{var v=p(98363),S=p(3674);i.exports=function baseAssign(i,d){return i&&v(d,S(d),i)}},63886:(i,d,p)=>{var v=p(98363),S=p(81704);i.exports=function baseAssignIn(i,d){return i&&v(d,S(d),i)}},89465:(i,d,p)=>{var v=p(38777);i.exports=function baseAssignValue(i,d,p){"__proto__"==d&&v?v(i,d,{configurable:!0,enumerable:!0,value:p,writable:!0}):i[d]=p}},29750:i=>{i.exports=function baseClamp(i,d,p){return i==i&&(void 0!==p&&(i=i<=p?i:p),void 0!==d&&(i=i>=d?i:d)),i}},85990:(i,d,p)=>{var v=p(46384),S=p(77412),T=p(34865),O=p(44037),I=p(63886),N=p(64626),R=p(278),P=p(18805),k=p(1911),L=p(58234),M=p(46904),F=p(64160),U=p(43824),j=p(29148),H=p(38517),V=p(1469),Y=p(44144),G=p(56688),W=p(13218),q=p(72928),Q=p(3674),X=p(81704),Z="[object Arguments]",J="[object Function]",$="[object Object]",ee={};ee[Z]=ee["[object Array]"]=ee["[object ArrayBuffer]"]=ee["[object DataView]"]=ee["[object Boolean]"]=ee["[object Date]"]=ee["[object Float32Array]"]=ee["[object Float64Array]"]=ee["[object Int8Array]"]=ee["[object Int16Array]"]=ee["[object Int32Array]"]=ee["[object Map]"]=ee["[object Number]"]=ee[$]=ee["[object RegExp]"]=ee["[object Set]"]=ee["[object String]"]=ee["[object Symbol]"]=ee["[object Uint8Array]"]=ee["[object Uint8ClampedArray]"]=ee["[object Uint16Array]"]=ee["[object Uint32Array]"]=!0,ee["[object Error]"]=ee[J]=ee["[object WeakMap]"]=!1,i.exports=function baseClone(i,d,p,te,ne,re){var ie,oe=1&d,ae=2&d,se=4&d;if(p&&(ie=ne?p(i,te,ne,re):p(i)),void 0!==ie)return ie;if(!W(i))return i;var ce=V(i);if(ce){if(ie=U(i),!oe)return R(i,ie)}else{var ue=F(i),le=ue==J||"[object GeneratorFunction]"==ue;if(Y(i))return N(i,oe);if(ue==$||ue==Z||le&&!ne){if(ie=ae||le?{}:H(i),!oe)return ae?k(i,I(ie,i)):P(i,O(ie,i))}else{if(!ee[ue])return ne?i:{};ie=j(i,ue,oe)}}re||(re=new v);var de=re.get(i);if(de)return de;re.set(i,ie),q(i)?i.forEach((function(v){ie.add(baseClone(v,d,p,v,i,re))})):G(i)&&i.forEach((function(v,S){ie.set(S,baseClone(v,d,p,S,i,re))}));var pe=ce?void 0:(se?ae?M:L:ae?X:Q)(i);return S(pe||i,(function(v,S){pe&&(v=i[S=v]),T(ie,S,baseClone(v,d,p,S,i,re))})),ie}},3118:(i,d,p)=>{var v=p(13218),S=Object.create,T=function(){function object(){}return function(i){if(!v(i))return{};if(S)return S(i);object.prototype=i;var d=new object;return object.prototype=void 0,d}}();i.exports=T},20731:(i,d,p)=>{var v=p(88668),S=p(47443),T=p(1196),O=p(29932),I=p(7518),N=p(74757);i.exports=function baseDifference(i,d,p,R){var P=-1,k=S,L=!0,M=i.length,F=[],U=d.length;if(!M)return F;p&&(d=O(d,I(p))),R?(k=T,L=!1):d.length>=200&&(k=N,L=!1,d=new v(d));e:for(;++P<M;){var j=i[P],H=null==p?j:p(j);if(j=R||0!==j?j:0,L&&H==H){for(var V=U;V--;)if(d[V]===H)continue e;F.push(j)}else k(d,H,R)||F.push(j)}return F}},89881:(i,d,p)=>{var v=p(47816),S=p(99291)(v);i.exports=S},93239:(i,d,p)=>{var v=p(89881);i.exports=function baseEvery(i,d){var p=!0;return v(i,(function(i,v,S){return p=!!d(i,v,S)})),p}},56029:(i,d,p)=>{var v=p(33448);i.exports=function baseExtremum(i,d,p){for(var S=-1,T=i.length;++S<T;){var O=i[S],I=d(O);if(null!=I&&(void 0===N?I==I&&!v(I):p(I,N)))var N=I,R=O}return R}},80760:(i,d,p)=>{var v=p(89881);i.exports=function baseFilter(i,d){var p=[];return v(i,(function(i,v,S){d(i,v,S)&&p.push(i)})),p}},41848:i=>{i.exports=function baseFindIndex(i,d,p,v){for(var S=i.length,T=p+(v?1:-1);v?T--:++T<S;)if(d(i[T],T,i))return T;return-1}},35744:i=>{i.exports=function baseFindKey(i,d,p){var v;return p(i,(function(i,p,S){if(d(i,p,S))return v=p,!1})),v}},21078:(i,d,p)=>{var v=p(62488),S=p(37285);i.exports=function baseFlatten(i,d,p,T,O){var I=-1,N=i.length;for(p||(p=S),O||(O=[]);++I<N;){var R=i[I];d>0&&p(R)?d>1?baseFlatten(R,d-1,p,T,O):v(O,R):T||(O[O.length]=R)}return O}},28483:(i,d,p)=>{var v=p(25063)();i.exports=v},47816:(i,d,p)=>{var v=p(28483),S=p(3674);i.exports=function baseForOwn(i,d){return i&&v(i,d,S)}},97786:(i,d,p)=>{var v=p(71811),S=p(40327);i.exports=function baseGet(i,d){for(var p=0,T=(d=v(d,i)).length;null!=i&&p<T;)i=i[S(d[p++])];return p&&p==T?i:void 0}},68866:(i,d,p)=>{var v=p(62488),S=p(1469);i.exports=function baseGetAllKeys(i,d,p){var T=d(i);return S(i)?T:v(T,p(i))}},44239:(i,d,p)=>{var v=p(62705),S=p(89607),T=p(2333),O=v?v.toStringTag:void 0;i.exports=function baseGetTag(i){return null==i?void 0===i?"[object Undefined]":"[object Null]":O&&O in Object(i)?S(i):T(i)}},53325:i=>{i.exports=function baseGt(i,d){return i>d}},78565:i=>{var d=Object.prototype.hasOwnProperty;i.exports=function baseHas(i,p){return null!=i&&d.call(i,p)}},13:i=>{i.exports=function baseHasIn(i,d){return null!=i&&d in Object(i)}},42118:(i,d,p)=>{var v=p(41848),S=p(62722),T=p(42351);i.exports=function baseIndexOf(i,d,p){return d==d?T(i,d,p):v(i,S,p)}},9454:(i,d,p)=>{var v=p(44239),S=p(37005);i.exports=function baseIsArguments(i){return S(i)&&"[object Arguments]"==v(i)}},90939:(i,d,p)=>{var v=p(2492),S=p(37005);i.exports=function baseIsEqual(i,d,p,T,O){return i===d||(null==i||null==d||!S(i)&&!S(d)?i!=i&&d!=d:v(i,d,p,T,baseIsEqual,O))}},2492:(i,d,p)=>{var v=p(46384),S=p(67114),T=p(18351),O=p(16096),I=p(64160),N=p(1469),R=p(44144),P=p(36719),k="[object Arguments]",L="[object Array]",M="[object Object]",F=Object.prototype.hasOwnProperty;i.exports=function baseIsEqualDeep(i,d,p,U,j,H){var V=N(i),Y=N(d),G=V?L:I(i),W=Y?L:I(d),q=(G=G==k?M:G)==M,Q=(W=W==k?M:W)==M,X=G==W;if(X&&R(i)){if(!R(d))return!1;V=!0,q=!1}if(X&&!q)return H||(H=new v),V||P(i)?S(i,d,p,U,j,H):T(i,d,G,p,U,j,H);if(!(1&p)){var Z=q&&F.call(i,"__wrapped__"),J=Q&&F.call(d,"__wrapped__");if(Z||J){var $=Z?i.value():i,ee=J?d.value():d;return H||(H=new v),j($,ee,p,U,H)}}return!!X&&(H||(H=new v),O(i,d,p,U,j,H))}},25588:(i,d,p)=>{var v=p(64160),S=p(37005);i.exports=function baseIsMap(i){return S(i)&&"[object Map]"==v(i)}},2958:(i,d,p)=>{var v=p(46384),S=p(90939);i.exports=function baseIsMatch(i,d,p,T){var O=p.length,I=O,N=!T;if(null==i)return!I;for(i=Object(i);O--;){var R=p[O];if(N&&R[2]?R[1]!==i[R[0]]:!(R[0]in i))return!1}for(;++O<I;){var P=(R=p[O])[0],k=i[P],L=R[1];if(N&&R[2]){if(void 0===k&&!(P in i))return!1}else{var M=new v;if(T)var F=T(k,L,P,i,d,M);if(!(void 0===F?S(L,k,3,T,M):F))return!1}}return!0}},62722:i=>{i.exports=function baseIsNaN(i){return i!=i}},28458:(i,d,p)=>{var v=p(23560),S=p(15346),T=p(13218),O=p(80346),I=/^\[object .+?Constructor\]$/,N=Function.prototype,R=Object.prototype,P=N.toString,k=R.hasOwnProperty,L=RegExp("^"+P.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");i.exports=function baseIsNative(i){return!(!T(i)||S(i))&&(v(i)?L:I).test(O(i))}},29221:(i,d,p)=>{var v=p(64160),S=p(37005);i.exports=function baseIsSet(i){return S(i)&&"[object Set]"==v(i)}},38749:(i,d,p)=>{var v=p(44239),S=p(41780),T=p(37005),O={};O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Arguments]"]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object Boolean]"]=O["[object DataView]"]=O["[object Date]"]=O["[object Error]"]=O["[object Function]"]=O["[object Map]"]=O["[object Number]"]=O["[object Object]"]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object WeakMap]"]=!1,i.exports=function baseIsTypedArray(i){return T(i)&&S(i.length)&&!!O[v(i)]}},67206:(i,d,p)=>{var v=p(91573),S=p(16432),T=p(6557),O=p(1469),I=p(39601);i.exports=function baseIteratee(i){return"function"==typeof i?i:null==i?T:"object"==typeof i?O(i)?S(i[0],i[1]):v(i):I(i)}},280:(i,d,p)=>{var v=p(25726),S=p(86916),T=Object.prototype.hasOwnProperty;i.exports=function baseKeys(i){if(!v(i))return S(i);var d=[];for(var p in Object(i))T.call(i,p)&&"constructor"!=p&&d.push(p);return d}},10313:(i,d,p)=>{var v=p(13218),S=p(25726),T=p(33498),O=Object.prototype.hasOwnProperty;i.exports=function baseKeysIn(i){if(!v(i))return T(i);var d=S(i),p=[];for(var I in i)("constructor"!=I||!d&&O.call(i,I))&&p.push(I);return p}},9435:i=>{i.exports=function baseLodash(){}},70433:i=>{i.exports=function baseLt(i,d){return i<d}},69199:(i,d,p)=>{var v=p(89881),S=p(98612);i.exports=function baseMap(i,d){var p=-1,T=S(i)?Array(i.length):[];return v(i,(function(i,v,S){T[++p]=d(i,v,S)})),T}},91573:(i,d,p)=>{var v=p(2958),S=p(1499),T=p(42634);i.exports=function baseMatches(i){var d=S(i);return 1==d.length&&d[0][2]?T(d[0][0],d[0][1]):function(p){return p===i||v(p,i,d)}}},16432:(i,d,p)=>{var v=p(90939),S=p(27361),T=p(79095),O=p(15403),I=p(89162),N=p(42634),R=p(40327);i.exports=function baseMatchesProperty(i,d){return O(i)&&I(d)?N(R(i),d):function(p){var O=S(p,i);return void 0===O&&O===d?T(p,i):v(d,O,3)}}},42980:(i,d,p)=>{var v=p(46384),S=p(86556),T=p(28483),O=p(59783),I=p(13218),N=p(81704),R=p(36390);i.exports=function baseMerge(i,d,p,P,k){i!==d&&T(d,(function(T,N){if(k||(k=new v),I(T))O(i,d,N,p,baseMerge,P,k);else{var L=P?P(R(i,N),T,N+"",i,d,k):void 0;void 0===L&&(L=T),S(i,N,L)}}),N)}},59783:(i,d,p)=>{var v=p(86556),S=p(64626),T=p(77133),O=p(278),I=p(38517),N=p(35694),R=p(1469),P=p(29246),k=p(44144),L=p(23560),M=p(13218),F=p(68630),U=p(36719),j=p(36390),H=p(59881);i.exports=function baseMergeDeep(i,d,p,V,Y,G,W){var q=j(i,p),Q=j(d,p),X=W.get(Q);if(X)v(i,p,X);else{var Z=G?G(q,Q,p+"",i,d,W):void 0,J=void 0===Z;if(J){var $=R(Q),ee=!$&&k(Q),te=!$&&!ee&&U(Q);Z=Q,$||ee||te?R(q)?Z=q:P(q)?Z=O(q):ee?(J=!1,Z=S(Q,!0)):te?(J=!1,Z=T(Q,!0)):Z=[]:F(Q)||N(Q)?(Z=q,N(q)?Z=H(q):M(q)&&!L(q)||(Z=I(Q))):J=!1}J&&(W.set(Q,Z),Y(Z,Q,V,G,W),W.delete(Q)),v(i,p,Z)}}},88360:(i,d,p)=>{var v=p(65776);i.exports=function baseNth(i,d){var p=i.length;if(p)return v(d+=d<0?p:0,p)?i[d]:void 0}},82689:(i,d,p)=>{var v=p(29932),S=p(97786),T=p(67206),O=p(69199),I=p(71131),N=p(7518),R=p(85022),P=p(6557),k=p(1469);i.exports=function baseOrderBy(i,d,p){d=d.length?v(d,(function(i){return k(i)?function(d){return S(d,1===i.length?i[0]:i)}:i})):[P];var L=-1;d=v(d,N(T));var M=O(i,(function(i,p,S){return{criteria:v(d,(function(d){return d(i)})),index:++L,value:i}}));return I(M,(function(i,d){return R(i,d,p)}))}},25970:(i,d,p)=>{var v=p(63012),S=p(79095);i.exports=function basePick(i,d){return v(i,d,(function(d,p){return S(i,p)}))}},63012:(i,d,p)=>{var v=p(97786),S=p(10611),T=p(71811);i.exports=function basePickBy(i,d,p){for(var O=-1,I=d.length,N={};++O<I;){var R=d[O],P=v(i,R);p(P,R)&&S(N,T(R,i),P)}return N}},40371:i=>{i.exports=function baseProperty(i){return function(d){return null==d?void 0:d[i]}}},79152:(i,d,p)=>{var v=p(97786);i.exports=function basePropertyDeep(i){return function(d){return v(d,i)}}},18674:i=>{i.exports=function basePropertyOf(i){return function(d){return null==i?void 0:i[d]}}},15742:(i,d,p)=>{var v=p(57406),S=p(65776),T=Array.prototype.splice;i.exports=function basePullAt(i,d){for(var p=i?d.length:0,O=p-1;p--;){var I=d[p];if(p==O||I!==N){var N=I;S(I)?T.call(i,I,1):v(i,I)}}return i}},40098:i=>{var d=Math.ceil,p=Math.max;i.exports=function baseRange(i,v,S,T){for(var O=-1,I=p(d((v-i)/(S||1)),0),N=Array(I);I--;)N[T?I:++O]=i,i+=S;return N}},10107:i=>{i.exports=function baseReduce(i,d,p,v,S){return S(i,(function(i,S,T){p=v?(v=!1,i):d(p,i,S,T)})),p}},5976:(i,d,p)=>{var v=p(6557),S=p(45357),T=p(30061);i.exports=function baseRest(i,d){return T(S(i,d,v),i+"")}},10611:(i,d,p)=>{var v=p(34865),S=p(71811),T=p(65776),O=p(13218),I=p(40327);i.exports=function baseSet(i,d,p,N){if(!O(i))return i;for(var R=-1,P=(d=S(d,i)).length,k=P-1,L=i;null!=L&&++R<P;){var M=I(d[R]),F=p;if("__proto__"===M||"constructor"===M||"prototype"===M)return i;if(R!=k){var U=L[M];void 0===(F=N?N(U,M,L):void 0)&&(F=O(U)?U:T(d[R+1])?[]:{})}v(L,M,F),L=L[M]}return i}},28045:(i,d,p)=>{var v=p(6557),S=p(89250),T=S?function(i,d){return S.set(i,d),i}:v;i.exports=T},56560:(i,d,p)=>{var v=p(75703),S=p(38777),T=p(6557),O=S?function(i,d){return S(i,"toString",{configurable:!0,enumerable:!1,value:v(d),writable:!0})}:T;i.exports=O},14259:i=>{i.exports=function baseSlice(i,d,p){var v=-1,S=i.length;d<0&&(d=-d>S?0:S+d),(p=p>S?S:p)<0&&(p+=S),S=d>p?0:p-d>>>0,d>>>=0;for(var T=Array(S);++v<S;)T[v]=i[v+d];return T}},5076:(i,d,p)=>{var v=p(89881);i.exports=function baseSome(i,d){var p;return v(i,(function(i,v,S){return!(p=d(i,v,S))})),!!p}},71131:i=>{i.exports=function baseSortBy(i,d){var p=i.length;for(i.sort(d);p--;)i[p]=i[p].value;return i}},22545:i=>{i.exports=function baseTimes(i,d){for(var p=-1,v=Array(i);++p<i;)v[p]=d(p);return v}},48969:(i,d,p)=>{var v=p(29932);i.exports=function baseToPairs(i,d){return v(d,(function(d){return[d,i[d]]}))}},80531:(i,d,p)=>{var v=p(62705),S=p(29932),T=p(1469),O=p(33448),I=v?v.prototype:void 0,N=I?I.toString:void 0;i.exports=function baseToString(i){if("string"==typeof i)return i;if(T(i))return S(i,baseToString)+"";if(O(i))return N?N.call(i):"";var d=i+"";return"0"==d&&1/i==-Infinity?"-0":d}},27561:(i,d,p)=>{var v=p(67990),S=/^\s+/;i.exports=function baseTrim(i){return i?i.slice(0,v(i)+1).replace(S,""):i}},7518:i=>{i.exports=function baseUnary(i){return function(d){return i(d)}}},45652:(i,d,p)=>{var v=p(88668),S=p(47443),T=p(1196),O=p(74757),I=p(23593),N=p(21814);i.exports=function baseUniq(i,d,p){var R=-1,P=S,k=i.length,L=!0,M=[],F=M;if(p)L=!1,P=T;else if(k>=200){var U=d?null:I(i);if(U)return N(U);L=!1,P=O,F=new v}else F=d?[]:M;e:for(;++R<k;){var j=i[R],H=d?d(j):j;if(j=p||0!==j?j:0,L&&H==H){for(var V=F.length;V--;)if(F[V]===H)continue e;d&&F.push(H),M.push(j)}else P(F,H,p)||(F!==M&&F.push(H),M.push(j))}return M}},57406:(i,d,p)=>{var v=p(71811),S=p(10928),T=p(40292),O=p(40327);i.exports=function baseUnset(i,d){return d=v(d,i),null==(i=T(i,d))||delete i[O(S(d))]}},47415:(i,d,p)=>{var v=p(29932);i.exports=function baseValues(i,d){return v(d,(function(d){return i[d]}))}},74757:i=>{i.exports=function cacheHas(i,d){return i.has(d)}},54290:(i,d,p)=>{var v=p(6557);i.exports=function castFunction(i){return"function"==typeof i?i:v}},71811:(i,d,p)=>{var v=p(1469),S=p(15403),T=p(55514),O=p(79833);i.exports=function castPath(i,d){return v(i)?i:S(i,d)?[i]:T(O(i))}},40180:(i,d,p)=>{var v=p(14259);i.exports=function castSlice(i,d,p){var S=i.length;return p=void 0===p?S:p,!d&&p>=S?i:v(i,d,p)}},74318:(i,d,p)=>{var v=p(11149);i.exports=function cloneArrayBuffer(i){var d=new i.constructor(i.byteLength);return new v(d).set(new v(i)),d}},64626:(i,d,p)=>{i=p.nmd(i);var v=p(55639),S=d&&!d.nodeType&&d,T=S&&i&&!i.nodeType&&i,O=T&&T.exports===S?v.Buffer:void 0,I=O?O.allocUnsafe:void 0;i.exports=function cloneBuffer(i,d){if(d)return i.slice();var p=i.length,v=I?I(p):new i.constructor(p);return i.copy(v),v}},57157:(i,d,p)=>{var v=p(74318);i.exports=function cloneDataView(i,d){var p=d?v(i.buffer):i.buffer;return new i.constructor(p,i.byteOffset,i.byteLength)}},93147:i=>{var d=/\w*$/;i.exports=function cloneRegExp(i){var p=new i.constructor(i.source,d.exec(i));return p.lastIndex=i.lastIndex,p}},40419:(i,d,p)=>{var v=p(62705),S=v?v.prototype:void 0,T=S?S.valueOf:void 0;i.exports=function cloneSymbol(i){return T?Object(T.call(i)):{}}},77133:(i,d,p)=>{var v=p(74318);i.exports=function cloneTypedArray(i,d){var p=d?v(i.buffer):i.buffer;return new i.constructor(p,i.byteOffset,i.length)}},26393:(i,d,p)=>{var v=p(33448);i.exports=function compareAscending(i,d){if(i!==d){var p=void 0!==i,S=null===i,T=i==i,O=v(i),I=void 0!==d,N=null===d,R=d==d,P=v(d);if(!N&&!P&&!O&&i>d||O&&I&&R&&!N&&!P||S&&I&&R||!p&&R||!T)return 1;if(!S&&!O&&!P&&i<d||P&&p&&T&&!S&&!O||N&&p&&T||!I&&T||!R)return-1}return 0}},85022:(i,d,p)=>{var v=p(26393);i.exports=function compareMultiple(i,d,p){for(var S=-1,T=i.criteria,O=d.criteria,I=T.length,N=p.length;++S<I;){var R=v(T[S],O[S]);if(R)return S>=N?R:R*("desc"==p[S]?-1:1)}return i.index-d.index}},52157:i=>{var d=Math.max;i.exports=function composeArgs(i,p,v,S){for(var T=-1,O=i.length,I=v.length,N=-1,R=p.length,P=d(O-I,0),k=Array(R+P),L=!S;++N<R;)k[N]=p[N];for(;++T<I;)(L||T<O)&&(k[v[T]]=i[T]);for(;P--;)k[N++]=i[T++];return k}},14054:i=>{var d=Math.max;i.exports=function composeArgsRight(i,p,v,S){for(var T=-1,O=i.length,I=-1,N=v.length,R=-1,P=p.length,k=d(O-N,0),L=Array(k+P),M=!S;++T<k;)L[T]=i[T];for(var F=T;++R<P;)L[F+R]=p[R];for(;++I<N;)(M||T<O)&&(L[F+v[I]]=i[T++]);return L}},278:i=>{i.exports=function copyArray(i,d){var p=-1,v=i.length;for(d||(d=Array(v));++p<v;)d[p]=i[p];return d}},98363:(i,d,p)=>{var v=p(34865),S=p(89465);i.exports=function copyObject(i,d,p,T){var O=!p;p||(p={});for(var I=-1,N=d.length;++I<N;){var R=d[I],P=T?T(p[R],i[R],R,p,i):void 0;void 0===P&&(P=i[R]),O?S(p,R,P):v(p,R,P)}return p}},18805:(i,d,p)=>{var v=p(98363),S=p(99551);i.exports=function copySymbols(i,d){return v(i,S(i),d)}},1911:(i,d,p)=>{var v=p(98363),S=p(51442);i.exports=function copySymbolsIn(i,d){return v(i,S(i),d)}},14429:(i,d,p)=>{var v=p(55639)["__core-js_shared__"];i.exports=v},97991:i=>{i.exports=function countHolders(i,d){for(var p=i.length,v=0;p--;)i[p]===d&&++v;return v}},55189:(i,d,p)=>{var v=p(44174),S=p(81119),T=p(67206),O=p(1469);i.exports=function createAggregator(i,d){return function(p,I){var N=O(p)?v:S,R=d?d():{};return N(p,i,T(I,2),R)}}},21463:(i,d,p)=>{var v=p(5976),S=p(16612);i.exports=function createAssigner(i){return v((function(d,p){var v=-1,T=p.length,O=T>1?p[T-1]:void 0,I=T>2?p[2]:void 0;for(O=i.length>3&&"function"==typeof O?(T--,O):void 0,I&&S(p[0],p[1],I)&&(O=T<3?void 0:O,T=1),d=Object(d);++v<T;){var N=p[v];N&&i(d,N,v,O)}return d}))}},99291:(i,d,p)=>{var v=p(98612);i.exports=function createBaseEach(i,d){return function(p,S){if(null==p)return p;if(!v(p))return i(p,S);for(var T=p.length,O=d?T:-1,I=Object(p);(d?O--:++O<T)&&!1!==S(I[O],O,I););return p}}},25063:i=>{i.exports=function createBaseFor(i){return function(d,p,v){for(var S=-1,T=Object(d),O=v(d),I=O.length;I--;){var N=O[i?I:++S];if(!1===p(T[N],N,T))break}return d}}},22402:(i,d,p)=>{var v=p(71774),S=p(55639);i.exports=function createBind(i,d,p){var T=1&d,O=v(i);return function wrapper(){var d=this&&this!==S&&this instanceof wrapper?O:i;return d.apply(T?p:this,arguments)}}},98805:(i,d,p)=>{var v=p(40180),S=p(62689),T=p(83140),O=p(79833);i.exports=function createCaseFirst(i){return function(d){d=O(d);var p=S(d)?T(d):void 0,I=p?p[0]:d.charAt(0),N=p?v(p,1).join(""):d.slice(1);return I[i]()+N}}},35393:(i,d,p)=>{var v=p(62663),S=p(53816),T=p(58748),O=RegExp("[']","g");i.exports=function createCompounder(i){return function(d){return v(T(S(d).replace(O,"")),i,"")}}},71774:(i,d,p)=>{var v=p(3118),S=p(13218);i.exports=function createCtor(i){return function(){var d=arguments;switch(d.length){case 0:return new i;case 1:return new i(d[0]);case 2:return new i(d[0],d[1]);case 3:return new i(d[0],d[1],d[2]);case 4:return new i(d[0],d[1],d[2],d[3]);case 5:return new i(d[0],d[1],d[2],d[3],d[4]);case 6:return new i(d[0],d[1],d[2],d[3],d[4],d[5]);case 7:return new i(d[0],d[1],d[2],d[3],d[4],d[5],d[6])}var p=v(i.prototype),T=i.apply(p,d);return S(T)?T:p}}},46347:(i,d,p)=>{var v=p(96874),S=p(71774),T=p(86935),O=p(94487),I=p(20893),N=p(46460),R=p(55639);i.exports=function createCurry(i,d,p){var P=S(i);return function wrapper(){for(var S=arguments.length,k=Array(S),L=S,M=I(wrapper);L--;)k[L]=arguments[L];var F=S<3&&k[0]!==M&&k[S-1]!==M?[]:N(k,M);if((S-=F.length)<p)return O(i,d,T,wrapper.placeholder,void 0,k,F,void 0,void 0,p-S);var U=this&&this!==R&&this instanceof wrapper?P:i;return v(U,this,k)}}},67740:(i,d,p)=>{var v=p(67206),S=p(98612),T=p(3674);i.exports=function createFind(i){return function(d,p,O){var I=Object(d);if(!S(d)){var N=v(p,3);d=T(d),p=function(i){return N(I[i],i,I)}}var R=i(d,p,O);return R>-1?I[N?d[R]:R]:void 0}}},23468:(i,d,p)=>{var v=p(7548),S=p(99021),T=p(66833),O=p(97658),I=p(1469),N=p(86528);i.exports=function createFlow(i){return S((function(d){var p=d.length,S=p,R=v.prototype.thru;for(i&&d.reverse();S--;){var P=d[S];if("function"!=typeof P)throw new TypeError("Expected a function");if(R&&!k&&"wrapper"==O(P))var k=new v([],!0)}for(S=k?S:p;++S<p;){P=d[S];var L=O(P),M="wrapper"==L?T(P):void 0;k=M&&N(M[0])&&424==M[1]&&!M[4].length&&1==M[9]?k[O(M[0])].apply(k,M[3]):1==P.length&&N(P)?k[L]():k.thru(P)}return function(){var i=arguments,v=i[0];if(k&&1==i.length&&I(v))return k.plant(v).value();for(var S=0,T=p?d[S].apply(this,i):v;++S<p;)T=d[S].call(this,T);return T}}))}},86935:(i,d,p)=>{var v=p(52157),S=p(14054),T=p(97991),O=p(71774),I=p(94487),N=p(20893),R=p(90451),P=p(46460),k=p(55639);i.exports=function createHybrid(i,d,p,L,M,F,U,j,H,V){var Y=128&d,G=1&d,W=2&d,q=24&d,Q=512&d,X=W?void 0:O(i);return function wrapper(){for(var Z=arguments.length,J=Array(Z),$=Z;$--;)J[$]=arguments[$];if(q)var ee=N(wrapper),te=T(J,ee);if(L&&(J=v(J,L,M,q)),F&&(J=S(J,F,U,q)),Z-=te,q&&Z<V){var ne=P(J,ee);return I(i,d,createHybrid,wrapper.placeholder,p,J,ne,j,H,V-Z)}var re=G?p:this,ie=W?re[i]:i;return Z=J.length,j?J=R(J,j):Q&&Z>1&&J.reverse(),Y&&H<Z&&(J.length=H),this&&this!==k&&this instanceof wrapper&&(ie=X||O(ie)),ie.apply(re,J)}}},84375:(i,d,p)=>{var v=p(96874),S=p(71774),T=p(55639);i.exports=function createPartial(i,d,p,O){var I=1&d,N=S(i);return function wrapper(){for(var d=-1,S=arguments.length,R=-1,P=O.length,k=Array(P+S),L=this&&this!==T&&this instanceof wrapper?N:i;++R<P;)k[R]=O[R];for(;S--;)k[R++]=arguments[++d];return v(L,I?p:this,k)}}},47445:(i,d,p)=>{var v=p(40098),S=p(16612),T=p(18601);i.exports=function createRange(i){return function(d,p,O){return O&&"number"!=typeof O&&S(d,p,O)&&(p=O=void 0),d=T(d),void 0===p?(p=d,d=0):p=T(p),O=void 0===O?d<p?1:-1:T(O),v(d,p,O,i)}}},94487:(i,d,p)=>{var v=p(86528),S=p(258),T=p(69255);i.exports=function createRecurry(i,d,p,O,I,N,R,P,k,L){var M=8&d;d|=M?32:64,4&(d&=~(M?64:32))||(d&=-4);var F=[i,d,I,M?N:void 0,M?R:void 0,M?void 0:N,M?void 0:R,P,k,L],U=p.apply(void 0,F);return v(i)&&S(U,F),U.placeholder=O,T(U,i,d)}},23593:(i,d,p)=>{var v=p(58525),S=p(50308),T=p(21814),O=v&&1/T(new v([,-0]))[1]==1/0?function(i){return new v(i)}:S;i.exports=O},13866:(i,d,p)=>{var v=p(48969),S=p(64160),T=p(68776),O=p(99294);i.exports=function createToPairs(i){return function(d){var p=S(d);return"[object Map]"==p?T(d):"[object Set]"==p?O(d):v(d,i(d))}}},97727:(i,d,p)=>{var v=p(28045),S=p(22402),T=p(46347),O=p(86935),I=p(84375),N=p(66833),R=p(63833),P=p(258),k=p(69255),L=p(40554),M=Math.max;i.exports=function createWrap(i,d,p,F,U,j,H,V){var Y=2&d;if(!Y&&"function"!=typeof i)throw new TypeError("Expected a function");var G=F?F.length:0;if(G||(d&=-97,F=U=void 0),H=void 0===H?H:M(L(H),0),V=void 0===V?V:L(V),G-=U?U.length:0,64&d){var W=F,q=U;F=U=void 0}var Q=Y?void 0:N(i),X=[i,d,p,F,U,W,q,j,H,V];if(Q&&R(X,Q),i=X[0],d=X[1],p=X[2],F=X[3],U=X[4],!(V=X[9]=void 0===X[9]?Y?0:i.length:M(X[9]-G,0))&&24&d&&(d&=-25),d&&1!=d)Z=8==d||16==d?T(i,d,V):32!=d&&33!=d||U.length?O.apply(void 0,X):I(i,d,p,F);else var Z=S(i,d,p);return k((Q?v:P)(Z,X),i,d)}},60696:(i,d,p)=>{var v=p(68630);i.exports=function customOmitClone(i){return v(i)?void 0:i}},69389:(i,d,p)=>{var v=p(18674)({:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"});i.exports=v},38777:(i,d,p)=>{var v=p(10852),S=function(){try{var i=v(Object,"defineProperty");return i({},"",{}),i}catch(i){}}();i.exports=S},67114:(i,d,p)=>{var v=p(88668),S=p(82908),T=p(74757);i.exports=function equalArrays(i,d,p,O,I,N){var R=1&p,P=i.length,k=d.length;if(P!=k&&!(R&&k>P))return!1;var L=N.get(i),M=N.get(d);if(L&&M)return L==d&&M==i;var F=-1,U=!0,j=2&p?new v:void 0;for(N.set(i,d),N.set(d,i);++F<P;){var H=i[F],V=d[F];if(O)var Y=R?O(V,H,F,d,i,N):O(H,V,F,i,d,N);if(void 0!==Y){if(Y)continue;U=!1;break}if(j){if(!S(d,(function(i,d){if(!T(j,d)&&(H===i||I(H,i,p,O,N)))return j.push(d)}))){U=!1;break}}else if(H!==V&&!I(H,V,p,O,N)){U=!1;break}}return N.delete(i),N.delete(d),U}},18351:(i,d,p)=>{var v=p(62705),S=p(11149),T=p(77813),O=p(67114),I=p(68776),N=p(21814),R=v?v.prototype:void 0,P=R?R.valueOf:void 0;i.exports=function equalByTag(i,d,p,v,R,k,L){switch(p){case"[object DataView]":if(i.byteLength!=d.byteLength||i.byteOffset!=d.byteOffset)return!1;i=i.buffer,d=d.buffer;case"[object ArrayBuffer]":return!(i.byteLength!=d.byteLength||!k(new S(i),new S(d)));case"[object Boolean]":case"[object Date]":case"[object Number]":return T(+i,+d);case"[object Error]":return i.name==d.name&&i.message==d.message;case"[object RegExp]":case"[object String]":return i==d+"";case"[object Map]":var M=I;case"[object Set]":var F=1&v;if(M||(M=N),i.size!=d.size&&!F)return!1;var U=L.get(i);if(U)return U==d;v|=2,L.set(i,d);var j=O(M(i),M(d),v,R,k,L);return L.delete(i),j;case"[object Symbol]":if(P)return P.call(i)==P.call(d)}return!1}},16096:(i,d,p)=>{var v=p(58234),S=Object.prototype.hasOwnProperty;i.exports=function equalObjects(i,d,p,T,O,I){var N=1&p,R=v(i),P=R.length;if(P!=v(d).length&&!N)return!1;for(var k=P;k--;){var L=R[k];if(!(N?L in d:S.call(d,L)))return!1}var M=I.get(i),F=I.get(d);if(M&&F)return M==d&&F==i;var U=!0;I.set(i,d),I.set(d,i);for(var j=N;++k<P;){var H=i[L=R[k]],V=d[L];if(T)var Y=N?T(V,H,L,d,i,I):T(H,V,L,i,d,I);if(!(void 0===Y?H===V||O(H,V,p,T,I):Y)){U=!1;break}j||(j="constructor"==L)}if(U&&!j){var G=i.constructor,W=d.constructor;G==W||!("constructor"in i)||!("constructor"in d)||"function"==typeof G&&G instanceof G&&"function"==typeof W&&W instanceof W||(U=!1)}return I.delete(i),I.delete(d),U}},89464:(i,d,p)=>{var v=p(18674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});i.exports=v},99021:(i,d,p)=>{var v=p(85564),S=p(45357),T=p(30061);i.exports=function flatRest(i){return T(S(i,void 0,v),i+"")}},31957:(i,d,p)=>{var v="object"==typeof p.g&&p.g&&p.g.Object===Object&&p.g;i.exports=v},58234:(i,d,p)=>{var v=p(68866),S=p(99551),T=p(3674);i.exports=function getAllKeys(i){return v(i,T,S)}},46904:(i,d,p)=>{var v=p(68866),S=p(51442),T=p(81704);i.exports=function getAllKeysIn(i){return v(i,T,S)}},66833:(i,d,p)=>{var v=p(89250),S=p(50308),T=v?function(i){return v.get(i)}:S;i.exports=T},97658:(i,d,p)=>{var v=p(52060),S=Object.prototype.hasOwnProperty;i.exports=function getFuncName(i){for(var d=i.name+"",p=v[d],T=S.call(v,d)?p.length:0;T--;){var O=p[T],I=O.func;if(null==I||I==i)return O.name}return d}},20893:i=>{i.exports=function getHolder(i){return i.placeholder}},45050:(i,d,p)=>{var v=p(37019);i.exports=function getMapData(i,d){var p=i.__data__;return v(d)?p["string"==typeof d?"string":"hash"]:p.map}},1499:(i,d,p)=>{var v=p(89162),S=p(3674);i.exports=function getMatchData(i){for(var d=S(i),p=d.length;p--;){var T=d[p],O=i[T];d[p]=[T,O,v(O)]}return d}},10852:(i,d,p)=>{var v=p(28458),S=p(47801);i.exports=function getNative(i,d){var p=S(i,d);return v(p)?p:void 0}},85924:(i,d,p)=>{var v=p(5569)(Object.getPrototypeOf,Object);i.exports=v},89607:(i,d,p)=>{var v=p(62705),S=Object.prototype,T=S.hasOwnProperty,O=S.toString,I=v?v.toStringTag:void 0;i.exports=function getRawTag(i){var d=T.call(i,I),p=i[I];try{i[I]=void 0;var v=!0}catch(i){}var S=O.call(i);return v&&(d?i[I]=p:delete i[I]),S}},99551:(i,d,p)=>{var v=p(34963),S=p(70479),T=Object.prototype.propertyIsEnumerable,O=Object.getOwnPropertySymbols,I=O?function(i){return null==i?[]:(i=Object(i),v(O(i),(function(d){return T.call(i,d)})))}:S;i.exports=I},51442:(i,d,p)=>{var v=p(62488),S=p(85924),T=p(99551),O=p(70479),I=Object.getOwnPropertySymbols?function(i){for(var d=[];i;)v(d,T(i)),i=S(i);return d}:O;i.exports=I},64160:(i,d,p)=>{var v=p(18552),S=p(57071),T=p(53818),O=p(58525),I=p(70577),N=p(44239),R=p(80346),P="[object Map]",k="[object Promise]",L="[object Set]",M="[object WeakMap]",F="[object DataView]",U=R(v),j=R(S),H=R(T),V=R(O),Y=R(I),G=N;(v&&G(new v(new ArrayBuffer(1)))!=F||S&&G(new S)!=P||T&&G(T.resolve())!=k||O&&G(new O)!=L||I&&G(new I)!=M)&&(G=function(i){var d=N(i),p="[object Object]"==d?i.constructor:void 0,v=p?R(p):"";if(v)switch(v){case U:return F;case j:return P;case H:return k;case V:return L;case Y:return M}return d}),i.exports=G},47801:i=>{i.exports=function getValue(i,d){return null==i?void 0:i[d]}},58775:i=>{var d=/\{\n\/\* \[wrapped with (.+)\] \*/,p=/,? & /;i.exports=function getWrapDetails(i){var v=i.match(d);return v?v[1].split(p):[]}},222:(i,d,p)=>{var v=p(71811),S=p(35694),T=p(1469),O=p(65776),I=p(41780),N=p(40327);i.exports=function hasPath(i,d,p){for(var R=-1,P=(d=v(d,i)).length,k=!1;++R<P;){var L=N(d[R]);if(!(k=null!=i&&p(i,L)))break;i=i[L]}return k||++R!=P?k:!!(P=null==i?0:i.length)&&I(P)&&O(L,P)&&(T(i)||S(i))}},62689:i=>{var d=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");i.exports=function hasUnicode(i){return d.test(i)}},93157:i=>{var d=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;i.exports=function hasUnicodeWord(i){return d.test(i)}},51789:(i,d,p)=>{var v=p(94536);i.exports=function hashClear(){this.__data__=v?v(null):{},this.size=0}},80401:i=>{i.exports=function hashDelete(i){var d=this.has(i)&&delete this.__data__[i];return this.size-=d?1:0,d}},57667:(i,d,p)=>{var v=p(94536),S=Object.prototype.hasOwnProperty;i.exports=function hashGet(i){var d=this.__data__;if(v){var p=d[i];return"__lodash_hash_undefined__"===p?void 0:p}return S.call(d,i)?d[i]:void 0}},21327:(i,d,p)=>{var v=p(94536),S=Object.prototype.hasOwnProperty;i.exports=function hashHas(i){var d=this.__data__;return v?void 0!==d[i]:S.call(d,i)}},81866:(i,d,p)=>{var v=p(94536);i.exports=function hashSet(i,d){var p=this.__data__;return this.size+=this.has(i)?0:1,p[i]=v&&void 0===d?"__lodash_hash_undefined__":d,this}},43824:i=>{var d=Object.prototype.hasOwnProperty;i.exports=function initCloneArray(i){var p=i.length,v=new i.constructor(p);return p&&"string"==typeof i[0]&&d.call(i,"index")&&(v.index=i.index,v.input=i.input),v}},29148:(i,d,p)=>{var v=p(74318),S=p(57157),T=p(93147),O=p(40419),I=p(77133);i.exports=function initCloneByTag(i,d,p){var N=i.constructor;switch(d){case"[object ArrayBuffer]":return v(i);case"[object Boolean]":case"[object Date]":return new N(+i);case"[object DataView]":return S(i,p);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return I(i,p);case"[object Map]":case"[object Set]":return new N;case"[object Number]":case"[object String]":return new N(i);case"[object RegExp]":return T(i);case"[object Symbol]":return O(i)}}},38517:(i,d,p)=>{var v=p(3118),S=p(85924),T=p(25726);i.exports=function initCloneObject(i){return"function"!=typeof i.constructor||T(i)?{}:v(S(i))}},83112:i=>{var d=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;i.exports=function insertWrapDetails(i,p){var v=p.length;if(!v)return i;var S=v-1;return p[S]=(v>1?"& ":"")+p[S],p=p.join(v>2?", ":" "),i.replace(d,"{\n/* [wrapped with "+p+"] */\n")}},37285:(i,d,p)=>{var v=p(62705),S=p(35694),T=p(1469),O=v?v.isConcatSpreadable:void 0;i.exports=function isFlattenable(i){return T(i)||S(i)||!!(O&&i&&i[O])}},65776:i=>{var d=/^(?:0|[1-9]\d*)$/;i.exports=function isIndex(i,p){var v=typeof i;return!!(p=null==p?9007199254740991:p)&&("number"==v||"symbol"!=v&&d.test(i))&&i>-1&&i%1==0&&i<p}},16612:(i,d,p)=>{var v=p(77813),S=p(98612),T=p(65776),O=p(13218);i.exports=function isIterateeCall(i,d,p){if(!O(p))return!1;var I=typeof d;return!!("number"==I?S(p)&&T(d,p.length):"string"==I&&d in p)&&v(p[d],i)}},15403:(i,d,p)=>{var v=p(1469),S=p(33448),T=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,O=/^\w*$/;i.exports=function isKey(i,d){if(v(i))return!1;var p=typeof i;return!("number"!=p&&"symbol"!=p&&"boolean"!=p&&null!=i&&!S(i))||(O.test(i)||!T.test(i)||null!=d&&i in Object(d))}},37019:i=>{i.exports=function isKeyable(i){var d=typeof i;return"string"==d||"number"==d||"symbol"==d||"boolean"==d?"__proto__"!==i:null===i}},86528:(i,d,p)=>{var v=p(96425),S=p(66833),T=p(97658),O=p(8111);i.exports=function isLaziable(i){var d=T(i),p=O[d];if("function"!=typeof p||!(d in v.prototype))return!1;if(i===p)return!0;var I=S(p);return!!I&&i===I[0]}},15346:(i,d,p)=>{var v,S=p(14429),T=(v=/[^.]+$/.exec(S&&S.keys&&S.keys.IE_PROTO||""))?"Symbol(src)_1."+v:"";i.exports=function isMasked(i){return!!T&&T in i}},25726:i=>{var d=Object.prototype;i.exports=function isPrototype(i){var p=i&&i.constructor;return i===("function"==typeof p&&p.prototype||d)}},89162:(i,d,p)=>{var v=p(13218);i.exports=function isStrictComparable(i){return i==i&&!v(i)}},27040:i=>{i.exports=function listCacheClear(){this.__data__=[],this.size=0}},14125:(i,d,p)=>{var v=p(18470),S=Array.prototype.splice;i.exports=function listCacheDelete(i){var d=this.__data__,p=v(d,i);return!(p<0)&&(p==d.length-1?d.pop():S.call(d,p,1),--this.size,!0)}},82117:(i,d,p)=>{var v=p(18470);i.exports=function listCacheGet(i){var d=this.__data__,p=v(d,i);return p<0?void 0:d[p][1]}},67518:(i,d,p)=>{var v=p(18470);i.exports=function listCacheHas(i){return v(this.__data__,i)>-1}},54705:(i,d,p)=>{var v=p(18470);i.exports=function listCacheSet(i,d){var p=this.__data__,S=v(p,i);return S<0?(++this.size,p.push([i,d])):p[S][1]=d,this}},24785:(i,d,p)=>{var v=p(1989),S=p(38407),T=p(57071);i.exports=function mapCacheClear(){this.size=0,this.__data__={hash:new v,map:new(T||S),string:new v}}},11285:(i,d,p)=>{var v=p(45050);i.exports=function mapCacheDelete(i){var d=v(this,i).delete(i);return this.size-=d?1:0,d}},96e3:(i,d,p)=>{var v=p(45050);i.exports=function mapCacheGet(i){return v(this,i).get(i)}},49916:(i,d,p)=>{var v=p(45050);i.exports=function mapCacheHas(i){return v(this,i).has(i)}},95265:(i,d,p)=>{var v=p(45050);i.exports=function mapCacheSet(i,d){var p=v(this,i),S=p.size;return p.set(i,d),this.size+=p.size==S?0:1,this}},68776:i=>{i.exports=function mapToArray(i){var d=-1,p=Array(i.size);return i.forEach((function(i,v){p[++d]=[v,i]})),p}},42634:i=>{i.exports=function matchesStrictComparable(i,d){return function(p){return null!=p&&(p[i]===d&&(void 0!==d||i in Object(p)))}}},24523:(i,d,p)=>{var v=p(88306);i.exports=function memoizeCapped(i){var d=v(i,(function(i){return 500===p.size&&p.clear(),i})),p=d.cache;return d}},63833:(i,d,p)=>{var v=p(52157),S=p(14054),T=p(46460),O="__lodash_placeholder__",I=128,N=Math.min;i.exports=function mergeData(i,d){var p=i[1],R=d[1],P=p|R,k=P<131,L=R==I&&8==p||R==I&&256==p&&i[7].length<=d[8]||384==R&&d[7].length<=d[8]&&8==p;if(!k&&!L)return i;1&R&&(i[2]=d[2],P|=1&p?0:4);var M=d[3];if(M){var F=i[3];i[3]=F?v(F,M,d[4]):M,i[4]=F?T(i[3],O):d[4]}return(M=d[5])&&(F=i[5],i[5]=F?S(F,M,d[6]):M,i[6]=F?T(i[5],O):d[6]),(M=d[7])&&(i[7]=M),R&I&&(i[8]=null==i[8]?d[8]:N(i[8],d[8])),null==i[9]&&(i[9]=d[9]),i[0]=d[0],i[1]=P,i}},89250:(i,d,p)=>{var v=p(70577),S=v&&new v;i.exports=S},94536:(i,d,p)=>{var v=p(10852)(Object,"create");i.exports=v},86916:(i,d,p)=>{var v=p(5569)(Object.keys,Object);i.exports=v},33498:i=>{i.exports=function nativeKeysIn(i){var d=[];if(null!=i)for(var p in Object(i))d.push(p);return d}},31167:(i,d,p)=>{i=p.nmd(i);var v=p(31957),S=d&&!d.nodeType&&d,T=S&&i&&!i.nodeType&&i,O=T&&T.exports===S&&v.process,I=function(){try{var i=T&&T.require&&T.require("util").types;return i||O&&O.binding&&O.binding("util")}catch(i){}}();i.exports=I},2333:i=>{var d=Object.prototype.toString;i.exports=function objectToString(i){return d.call(i)}},5569:i=>{i.exports=function overArg(i,d){return function(p){return i(d(p))}}},45357:(i,d,p)=>{var v=p(96874),S=Math.max;i.exports=function overRest(i,d,p){return d=S(void 0===d?i.length-1:d,0),function(){for(var T=arguments,O=-1,I=S(T.length-d,0),N=Array(I);++O<I;)N[O]=T[d+O];O=-1;for(var R=Array(d+1);++O<d;)R[O]=T[O];return R[d]=p(N),v(i,this,R)}}},40292:(i,d,p)=>{var v=p(97786),S=p(14259);i.exports=function parent(i,d){return d.length<2?i:v(i,S(d,0,-1))}},52060:i=>{i.exports={}},90451:(i,d,p)=>{var v=p(278),S=p(65776),T=Math.min;i.exports=function reorder(i,d){for(var p=i.length,O=T(d.length,p),I=v(i);O--;){var N=d[O];i[O]=S(N,p)?I[N]:void 0}return i}},46460:i=>{var d="__lodash_placeholder__";i.exports=function replaceHolders(i,p){for(var v=-1,S=i.length,T=0,O=[];++v<S;){var I=i[v];I!==p&&I!==d||(i[v]=d,O[T++]=v)}return O}},55639:(i,d,p)=>{var v=p(31957),S="object"==typeof self&&self&&self.Object===Object&&self,T=v||S||Function("return this")();i.exports=T},36390:i=>{i.exports=function safeGet(i,d){if(("constructor"!==d||"function"!=typeof i[d])&&"__proto__"!=d)return i[d]}},90619:i=>{i.exports=function setCacheAdd(i){return this.__data__.set(i,"__lodash_hash_undefined__"),this}},72385:i=>{i.exports=function setCacheHas(i){return this.__data__.has(i)}},258:(i,d,p)=>{var v=p(28045),S=p(21275)(v);i.exports=S},21814:i=>{i.exports=function setToArray(i){var d=-1,p=Array(i.size);return i.forEach((function(i){p[++d]=i})),p}},99294:i=>{i.exports=function setToPairs(i){var d=-1,p=Array(i.size);return i.forEach((function(i){p[++d]=[i,i]})),p}},30061:(i,d,p)=>{var v=p(56560),S=p(21275)(v);i.exports=S},69255:(i,d,p)=>{var v=p(58775),S=p(83112),T=p(30061),O=p(87241);i.exports=function setWrapToString(i,d,p){var I=d+"";return T(i,S(I,O(v(I),p)))}},21275:i=>{var d=Date.now;i.exports=function shortOut(i){var p=0,v=0;return function(){var S=d(),T=16-(S-v);if(v=S,T>0){if(++p>=800)return arguments[0]}else p=0;return i.apply(void 0,arguments)}}},37465:(i,d,p)=>{var v=p(38407);i.exports=function stackClear(){this.__data__=new v,this.size=0}},63779:i=>{i.exports=function stackDelete(i){var d=this.__data__,p=d.delete(i);return this.size=d.size,p}},67599:i=>{i.exports=function stackGet(i){return this.__data__.get(i)}},44758:i=>{i.exports=function stackHas(i){return this.__data__.has(i)}},34309:(i,d,p)=>{var v=p(38407),S=p(57071),T=p(83369);i.exports=function stackSet(i,d){var p=this.__data__;if(p instanceof v){var O=p.__data__;if(!S||O.length<199)return O.push([i,d]),this.size=++p.size,this;p=this.__data__=new T(O)}return p.set(i,d),this.size=p.size,this}},42351:i=>{i.exports=function strictIndexOf(i,d,p){for(var v=p-1,S=i.length;++v<S;)if(i[v]===d)return v;return-1}},88016:(i,d,p)=>{var v=p(48983),S=p(62689),T=p(21903);i.exports=function stringSize(i){return S(i)?T(i):v(i)}},83140:(i,d,p)=>{var v=p(44286),S=p(62689),T=p(676);i.exports=function stringToArray(i){return S(i)?T(i):v(i)}},55514:(i,d,p)=>{var v=p(24523),S=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,T=/\\(\\)?/g,O=v((function(i){var d=[];return 46===i.charCodeAt(0)&&d.push(""),i.replace(S,(function(i,p,v,S){d.push(v?S.replace(T,"$1"):p||i)})),d}));i.exports=O},40327:(i,d,p)=>{var v=p(33448);i.exports=function toKey(i){if("string"==typeof i||v(i))return i;var d=i+"";return"0"==d&&1/i==-Infinity?"-0":d}},80346:i=>{var d=Function.prototype.toString;i.exports=function toSource(i){if(null!=i){try{return d.call(i)}catch(i){}try{return i+""}catch(i){}}return""}},67990:i=>{var d=/\s/;i.exports=function trimmedEndIndex(i){for(var p=i.length;p--&&d.test(i.charAt(p)););return p}},21903:i=>{var d="[\\ud800-\\udfff]",p="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",v="\\ud83c[\\udffb-\\udfff]",S="[^\\ud800-\\udfff]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",O="[\\ud800-\\udbff][\\udc00-\\udfff]",I="(?:"+p+"|"+v+")"+"?",N="[\\ufe0e\\ufe0f]?",R=N+I+("(?:\\u200d(?:"+[S,T,O].join("|")+")"+N+I+")*"),P="(?:"+[S+p+"?",p,T,O,d].join("|")+")",k=RegExp(v+"(?="+v+")|"+P+R,"g");i.exports=function unicodeSize(i){for(var d=k.lastIndex=0;k.test(i);)++d;return d}},676:i=>{var d="[\\ud800-\\udfff]",p="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",v="\\ud83c[\\udffb-\\udfff]",S="[^\\ud800-\\udfff]",T="(?:\\ud83c[\\udde6-\\uddff]){2}",O="[\\ud800-\\udbff][\\udc00-\\udfff]",I="(?:"+p+"|"+v+")"+"?",N="[\\ufe0e\\ufe0f]?",R=N+I+("(?:\\u200d(?:"+[S,T,O].join("|")+")"+N+I+")*"),P="(?:"+[S+p+"?",p,T,O,d].join("|")+")",k=RegExp(v+"(?="+v+")|"+P+R,"g");i.exports=function unicodeToArray(i){return i.match(k)||[]}},2757:i=>{var d="\\u2700-\\u27bf",p="a-z\\xdf-\\xf6\\xf8-\\xff",v="A-Z\\xc0-\\xd6\\xd8-\\xde",S="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",T="["+S+"]",O="\\d+",I="[\\u2700-\\u27bf]",N="["+p+"]",R="[^\\ud800-\\udfff"+S+O+d+p+v+"]",P="(?:\\ud83c[\\udde6-\\uddff]){2}",k="[\\ud800-\\udbff][\\udc00-\\udfff]",L="["+v+"]",M="(?:"+N+"|"+R+")",F="(?:"+L+"|"+R+")",U="(?:['](?:d|ll|m|re|s|t|ve))?",j="(?:['](?:D|LL|M|RE|S|T|VE))?",H="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",V="[\\ufe0e\\ufe0f]?",Y=V+H+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",P,k].join("|")+")"+V+H+")*"),G="(?:"+[I,P,k].join("|")+")"+Y,W=RegExp([L+"?"+N+"+"+U+"(?="+[T,L,"$"].join("|")+")",F+"+"+j+"(?="+[T,L+M,"$"].join("|")+")",L+"?"+M+"+"+U,L+"+"+j,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",O,G].join("|"),"g");i.exports=function unicodeWords(i){return i.match(W)||[]}},87241:(i,d,p)=>{var v=p(77412),S=p(47443),T=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];i.exports=function updateWrapDetails(i,d){return v(T,(function(p){var v="_."+p[0];d&p[1]&&!S(i,v)&&i.push(v)})),i.sort()}},21913:(i,d,p)=>{var v=p(96425),S=p(7548),T=p(278);i.exports=function wrapperClone(i){if(i instanceof v)return i.clone();var d=new S(i.__wrapped__,i.__chain__);return d.__actions__=T(i.__actions__),d.__index__=i.__index__,d.__values__=i.__values__,d}},39514:(i,d,p)=>{var v=p(97727);i.exports=function ary(i,d,p){return d=p?void 0:d,d=i&&null==d?i.length:d,v(i,128,void 0,void 0,void 0,void 0,d)}},3045:(i,d,p)=>{var v=p(98363),S=p(21463),T=p(81704),O=S((function(i,d){v(d,T(d),i)}));i.exports=O},68929:(i,d,p)=>{var v=p(48403),S=p(35393)((function(i,d,p){return d=d.toLowerCase(),i+(p?v(d):d)}));i.exports=S},48403:(i,d,p)=>{var v=p(79833),S=p(11700);i.exports=function capitalize(i){return S(v(i).toLowerCase())}},66678:(i,d,p)=>{var v=p(85990);i.exports=function clone(i){return v(i,4)}},39693:i=>{i.exports=function compact(i){for(var d=-1,p=null==i?0:i.length,v=0,S=[];++d<p;){var T=i[d];T&&(S[v++]=T)}return S}},75703:i=>{i.exports=function constant(i){return function(){return i}}},40087:(i,d,p)=>{var v=p(97727);function curry(i,d,p){var S=v(i,8,void 0,void 0,void 0,void 0,void 0,d=p?void 0:d);return S.placeholder=curry.placeholder,S}curry.placeholder={},i.exports=curry},23279:(i,d,p)=>{var v=p(13218),S=p(7771),T=p(14841),O=Math.max,I=Math.min;i.exports=function debounce(i,d,p){var N,R,P,k,L,M,F=0,U=!1,j=!1,H=!0;if("function"!=typeof i)throw new TypeError("Expected a function");function invokeFunc(d){var p=N,v=R;return N=R=void 0,F=d,k=i.apply(v,p)}function leadingEdge(i){return F=i,L=setTimeout(timerExpired,d),U?invokeFunc(i):k}function shouldInvoke(i){var p=i-M;return void 0===M||p>=d||p<0||j&&i-F>=P}function timerExpired(){var i=S();if(shouldInvoke(i))return trailingEdge(i);L=setTimeout(timerExpired,function remainingWait(i){var p=d-(i-M);return j?I(p,P-(i-F)):p}(i))}function trailingEdge(i){return L=void 0,H&&N?invokeFunc(i):(N=R=void 0,k)}function debounced(){var i=S(),p=shouldInvoke(i);if(N=arguments,R=this,M=i,p){if(void 0===L)return leadingEdge(M);if(j)return clearTimeout(L),L=setTimeout(timerExpired,d),invokeFunc(M)}return void 0===L&&(L=setTimeout(timerExpired,d)),k}return d=T(d)||0,v(p)&&(U=!!p.leading,P=(j="maxWait"in p)?O(T(p.maxWait)||0,d):P,H="trailing"in p?!!p.trailing:H),debounced.cancel=function cancel(){void 0!==L&&clearTimeout(L),F=0,N=M=R=L=void 0},debounced.flush=function flush(){return void 0===L?k:trailingEdge(S())},debounced}},53816:(i,d,p)=>{var v=p(69389),S=p(79833),T=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,O=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");i.exports=function deburr(i){return(i=S(i))&&i.replace(T,v).replace(O,"")}},91966:(i,d,p)=>{var v=p(20731),S=p(21078),T=p(5976),O=p(29246),I=T((function(i,d){return O(i)?v(i,S(d,1,O,!0)):[]}));i.exports=I},77813:i=>{i.exports=function eq(i,d){return i===d||i!=i&&d!=d}},7187:(i,d,p)=>{var v=p(89464),S=p(79833),T=/[&<>"']/g,O=RegExp(T.source);i.exports=function escape(i){return(i=S(i))&&O.test(i)?i.replace(T,v):i}},711:(i,d,p)=>{var v=p(66193),S=p(93239),T=p(67206),O=p(1469),I=p(16612);i.exports=function every(i,d,p){var N=O(i)?v:S;return p&&I(i,d,p)&&(d=void 0),N(i,T(d,3))}},22205:(i,d,p)=>{i.exports=p(3045)},63105:(i,d,p)=>{var v=p(34963),S=p(80760),T=p(67206),O=p(1469);i.exports=function filter(i,d){return(O(i)?v:S)(i,T(d,3))}},13311:(i,d,p)=>{var v=p(67740)(p(30998));i.exports=v},30998:(i,d,p)=>{var v=p(41848),S=p(67206),T=p(40554),O=Math.max;i.exports=function findIndex(i,d,p){var I=null==i?0:i.length;if(!I)return-1;var N=null==p?0:T(p);return N<0&&(N=O(I+N,0)),v(i,S(d,3),N)}},70894:(i,d,p)=>{var v=p(35744),S=p(47816),T=p(67206);i.exports=function findKey(i,d){return v(i,T(d,3),S)}},85564:(i,d,p)=>{var v=p(21078);i.exports=function flatten(i){return(null==i?0:i.length)?v(i,1):[]}},42348:(i,d,p)=>{var v=p(21078);i.exports=function flattenDeep(i){return(null==i?0:i.length)?v(i,Infinity):[]}},59242:(i,d,p)=>{var v=p(23468)();i.exports=v},84599:(i,d,p)=>{var v=p(68836),S=p(69306),T=Array.prototype.push;function baseAry(i,d){return 2==d?function(d,p){return i(d,p)}:function(d){return i(d)}}function cloneArray(i){for(var d=i?i.length:0,p=Array(d);d--;)p[d]=i[d];return p}function wrapImmutable(i,d){return function(){var p=arguments.length;if(p){for(var v=Array(p);p--;)v[p]=arguments[p];var S=v[0]=d.apply(void 0,v);return i.apply(void 0,v),S}}}i.exports=function baseConvert(i,d,p,O){var I="function"==typeof d,N=d===Object(d);if(N&&(O=p,p=d,d=void 0),null==p)throw new TypeError;O||(O={});var R=!("cap"in O)||O.cap,P=!("curry"in O)||O.curry,k=!("fixed"in O)||O.fixed,L=!("immutable"in O)||O.immutable,M=!("rearg"in O)||O.rearg,F=I?p:S,U="curry"in O&&O.curry,j="fixed"in O&&O.fixed,H="rearg"in O&&O.rearg,V=I?p.runInContext():void 0,Y=I?p:{ary:i.ary,assign:i.assign,clone:i.clone,curry:i.curry,forEach:i.forEach,isArray:i.isArray,isError:i.isError,isFunction:i.isFunction,isWeakMap:i.isWeakMap,iteratee:i.iteratee,keys:i.keys,rearg:i.rearg,toInteger:i.toInteger,toPath:i.toPath},G=Y.ary,W=Y.assign,q=Y.clone,Q=Y.curry,X=Y.forEach,Z=Y.isArray,J=Y.isError,$=Y.isFunction,ee=Y.isWeakMap,te=Y.keys,ne=Y.rearg,re=Y.toInteger,ie=Y.toPath,oe=te(v.aryMethod),ae={castArray:function(i){return function(){var d=arguments[0];return Z(d)?i(cloneArray(d)):i.apply(void 0,arguments)}},iteratee:function(i){return function(){var d=arguments[0],p=arguments[1],v=i(d,p),S=v.length;return R&&"number"==typeof p?(p=p>2?p-2:1,S&&S<=p?v:baseAry(v,p)):v}},mixin:function(i){return function(d){var p=this;if(!$(p))return i(p,Object(d));var v=[];return X(te(d),(function(i){$(d[i])&&v.push([i,p.prototype[i]])})),i(p,Object(d)),X(v,(function(i){var d=i[1];$(d)?p.prototype[i[0]]=d:delete p.prototype[i[0]]})),p}},nthArg:function(i){return function(d){var p=d<0?1:re(d)+1;return Q(i(d),p)}},rearg:function(i){return function(d,p){var v=p?p.length:0;return Q(i(d,p),v)}},runInContext:function(d){return function(p){return baseConvert(i,d(p),O)}}};function castCap(i,d){if(R){var p=v.iterateeRearg[i];if(p)return function iterateeRearg(i,d){return overArg(i,(function(i){var p=d.length;return function baseArity(i,d){return 2==d?function(d,p){return i.apply(void 0,arguments)}:function(d){return i.apply(void 0,arguments)}}(ne(baseAry(i,p),d),p)}))}(d,p);var S=!I&&v.iterateeAry[i];if(S)return function iterateeAry(i,d){return overArg(i,(function(i){return"function"==typeof i?baseAry(i,d):i}))}(d,S)}return d}function castFixed(i,d,p){if(k&&(j||!v.skipFixed[i])){var S=v.methodSpread[i],O=S&&S.start;return void 0===O?G(d,p):function flatSpread(i,d){return function(){for(var p=arguments.length,v=p-1,S=Array(p);p--;)S[p]=arguments[p];var O=S[d],I=S.slice(0,d);return O&&T.apply(I,O),d!=v&&T.apply(I,S.slice(d+1)),i.apply(this,I)}}(d,O)}return d}function castRearg(i,d,p){return M&&p>1&&(H||!v.skipRearg[i])?ne(d,v.methodRearg[i]||v.aryRearg[p]):d}function cloneByPath(i,d){for(var p=-1,v=(d=ie(d)).length,S=v-1,T=q(Object(i)),O=T;null!=O&&++p<v;){var I=d[p],N=O[I];null==N||$(N)||J(N)||ee(N)||(O[I]=q(p==S?N:Object(N))),O=O[I]}return T}function createConverter(i,d){var p=v.aliasToReal[i]||i,S=v.remap[p]||p,T=O;return function(i){var v=I?V:Y,O=I?V[S]:d,N=W(W({},T),i);return baseConvert(v,p,O,N)}}function overArg(i,d){return function(){var p=arguments.length;if(!p)return i();for(var v=Array(p);p--;)v[p]=arguments[p];var S=M?0:p-1;return v[S]=d(v[S]),i.apply(void 0,v)}}function wrap(i,d,p){var S,T=v.aliasToReal[i]||i,O=d,I=ae[T];return I?O=I(d):L&&(v.mutate.array[T]?O=wrapImmutable(d,cloneArray):v.mutate.object[T]?O=wrapImmutable(d,function createCloner(i){return function(d){return i({},d)}}(d)):v.mutate.set[T]&&(O=wrapImmutable(d,cloneByPath))),X(oe,(function(i){return X(v.aryMethod[i],(function(d){if(T==d){var p=v.methodSpread[T],I=p&&p.afterRearg;return S=I?castFixed(T,castRearg(T,O,i),i):castRearg(T,castFixed(T,O,i),i),S=function castCurry(i,d,p){return U||P&&p>1?Q(d,p):d}(0,S=castCap(T,S),i),!1}})),!S})),S||(S=O),S==d&&(S=U?Q(S,1):function(){return d.apply(this,arguments)}),S.convert=createConverter(T,d),S.placeholder=d.placeholder=p,S}if(!N)return wrap(d,p,F);var se=p,ce=[];return X(oe,(function(i){X(v.aryMethod[i],(function(i){var d=se[v.remap[i]||i];d&&ce.push([i,wrap(i,d,se)])}))})),X(te(se),(function(i){var d=se[i];if("function"==typeof d){for(var p=ce.length;p--;)if(ce[p][0]==i)return;d.convert=createConverter(i,d),ce.push([i,d])}})),X(ce,(function(i){se[i[0]]=i[1]})),se.convert=function convertLib(i){return se.runInContext.convert(i)(void 0)},se.placeholder=se,X(te(se),(function(i){X(v.realToAlias[i]||[],(function(d){se[d]=se[i]}))})),se}},68836:(i,d)=>{d.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},d.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},d.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},d.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},d.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},d.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},d.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},d.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},d.realToAlias=function(){var i=Object.prototype.hasOwnProperty,p=d.aliasToReal,v={};for(var S in p){var T=p[S];i.call(v,T)?v[T].push(S):v[T]=[S]}return v}(),d.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},d.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},d.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},4269:(i,d,p)=>{i.exports={ary:p(39514),assign:p(44037),clone:p(66678),curry:p(40087),forEach:p(77412),isArray:p(1469),isError:p(64647),isFunction:p(23560),isWeakMap:p(81018),iteratee:p(72594),keys:p(280),rearg:p(4963),toInteger:p(40554),toPath:p(30084)}},92822:(i,d,p)=>{var v=p(84599),S=p(4269);i.exports=function convert(i,d,p){return v(S,i,d,p)}},40104:(i,d,p)=>{var v=p(92822)("filter",p(63105));v.placeholder=p(69306),i.exports=v},8816:(i,d,p)=>{var v=p(92822)("flow",p(59242));v.placeholder=p(69306),i.exports=v},88846:(i,d,p)=>{var v=p(92822)("map",p(35161));v.placeholder=p(69306),i.exports=v},46898:(i,d,p)=>{i.exports=p(8816)},69306:i=>{i.exports={}},17204:i=>{i.exports=function fromPairs(i){for(var d=-1,p=null==i?0:i.length,v={};++d<p;){var S=i[d];v[S[0]]=S[1]}return v}},27361:(i,d,p)=>{var v=p(97786);i.exports=function get(i,d,p){var S=null==i?void 0:v(i,d);return void 0===S?p:S}},7739:(i,d,p)=>{var v=p(89465),S=p(55189),T=Object.prototype.hasOwnProperty,O=S((function(i,d,p){T.call(i,p)?i[p].push(d):v(i,p,[d])}));i.exports=O},18721:(i,d,p)=>{var v=p(78565),S=p(222);i.exports=function has(i,d){return null!=i&&S(i,d,v)}},79095:(i,d,p)=>{var v=p(13),S=p(222);i.exports=function hasIn(i,d){return null!=i&&S(i,d,v)}},91175:i=>{i.exports=function head(i){return i&&i.length?i[0]:void 0}},6557:i=>{i.exports=function identity(i){return i}},64721:(i,d,p)=>{var v=p(42118),S=p(98612),T=p(47037),O=p(40554),I=p(52628),N=Math.max;i.exports=function includes(i,d,p,R){i=S(i)?i:I(i),p=p&&!R?O(p):0;var P=i.length;return p<0&&(p=N(P+p,0)),T(i)?p<=P&&i.indexOf(d,p)>-1:!!P&&v(i,d,p)>-1}},35694:(i,d,p)=>{var v=p(9454),S=p(37005),T=Object.prototype,O=T.hasOwnProperty,I=T.propertyIsEnumerable,N=v(function(){return arguments}())?v:function(i){return S(i)&&O.call(i,"callee")&&!I.call(i,"callee")};i.exports=N},1469:i=>{var d=Array.isArray;i.exports=d},98612:(i,d,p)=>{var v=p(23560),S=p(41780);i.exports=function isArrayLike(i){return null!=i&&S(i.length)&&!v(i)}},29246:(i,d,p)=>{var v=p(98612),S=p(37005);i.exports=function isArrayLikeObject(i){return S(i)&&v(i)}},44144:(i,d,p)=>{i=p.nmd(i);var v=p(55639),S=p(95062),T=d&&!d.nodeType&&d,O=T&&i&&!i.nodeType&&i,I=O&&O.exports===T?v.Buffer:void 0,N=(I?I.isBuffer:void 0)||S;i.exports=N},41609:(i,d,p)=>{var v=p(280),S=p(64160),T=p(35694),O=p(1469),I=p(98612),N=p(44144),R=p(25726),P=p(36719),k=Object.prototype.hasOwnProperty;i.exports=function isEmpty(i){if(null==i)return!0;if(I(i)&&(O(i)||"string"==typeof i||"function"==typeof i.splice||N(i)||P(i)||T(i)))return!i.length;var d=S(i);if("[object Map]"==d||"[object Set]"==d)return!i.size;if(R(i))return!v(i).length;for(var p in i)if(k.call(i,p))return!1;return!0}},18446:(i,d,p)=>{var v=p(90939);i.exports=function isEqual(i,d){return v(i,d)}},64647:(i,d,p)=>{var v=p(44239),S=p(37005),T=p(68630);i.exports=function isError(i){if(!S(i))return!1;var d=v(i);return"[object Error]"==d||"[object DOMException]"==d||"string"==typeof i.message&&"string"==typeof i.name&&!T(i)}},23560:(i,d,p)=>{var v=p(44239),S=p(13218);i.exports=function isFunction(i){if(!S(i))return!1;var d=v(i);return"[object Function]"==d||"[object GeneratorFunction]"==d||"[object AsyncFunction]"==d||"[object Proxy]"==d}},41780:i=>{i.exports=function isLength(i){return"number"==typeof i&&i>-1&&i%1==0&&i<=9007199254740991}},56688:(i,d,p)=>{var v=p(25588),S=p(7518),T=p(31167),O=T&&T.isMap,I=O?S(O):v;i.exports=I},14293:i=>{i.exports=function isNil(i){return null==i}},81763:(i,d,p)=>{var v=p(44239),S=p(37005);i.exports=function isNumber(i){return"number"==typeof i||S(i)&&"[object Number]"==v(i)}},13218:i=>{i.exports=function isObject(i){var d=typeof i;return null!=i&&("object"==d||"function"==d)}},37005:i=>{i.exports=function isObjectLike(i){return null!=i&&"object"==typeof i}},68630:(i,d,p)=>{var v=p(44239),S=p(85924),T=p(37005),O=Function.prototype,I=Object.prototype,N=O.toString,R=I.hasOwnProperty,P=N.call(Object);i.exports=function isPlainObject(i){if(!T(i)||"[object Object]"!=v(i))return!1;var d=S(i);if(null===d)return!0;var p=R.call(d,"constructor")&&d.constructor;return"function"==typeof p&&p instanceof p&&N.call(p)==P}},72928:(i,d,p)=>{var v=p(29221),S=p(7518),T=p(31167),O=T&&T.isSet,I=O?S(O):v;i.exports=I},47037:(i,d,p)=>{var v=p(44239),S=p(1469),T=p(37005);i.exports=function isString(i){return"string"==typeof i||!S(i)&&T(i)&&"[object String]"==v(i)}},33448:(i,d,p)=>{var v=p(44239),S=p(37005);i.exports=function isSymbol(i){return"symbol"==typeof i||S(i)&&"[object Symbol]"==v(i)}},36719:(i,d,p)=>{var v=p(38749),S=p(7518),T=p(31167),O=T&&T.isTypedArray,I=O?S(O):v;i.exports=I},52353:i=>{i.exports=function isUndefined(i){return void 0===i}},81018:(i,d,p)=>{var v=p(64160),S=p(37005);i.exports=function isWeakMap(i){return S(i)&&"[object WeakMap]"==v(i)}},72594:(i,d,p)=>{var v=p(85990),S=p(67206);i.exports=function iteratee(i){return S("function"==typeof i?i:v(i,1))}},21804:(i,d,p)=>{var v=p(35393)((function(i,d,p){return i+(p?"-":"")+d.toLowerCase()}));i.exports=v},24350:(i,d,p)=>{var v=p(89465),S=p(55189)((function(i,d,p){v(i,p,d)}));i.exports=S},3674:(i,d,p)=>{var v=p(14636),S=p(280),T=p(98612);i.exports=function keys(i){return T(i)?v(i):S(i)}},81704:(i,d,p)=>{var v=p(14636),S=p(10313),T=p(98612);i.exports=function keysIn(i){return T(i)?v(i,!0):S(i)}},10928:i=>{i.exports=function last(i){var d=null==i?0:i.length;return d?i[d-1]:void 0}},35161:(i,d,p)=>{var v=p(29932),S=p(67206),T=p(69199),O=p(1469);i.exports=function map(i,d){return(O(i)?v:T)(i,S(d,3))}},67523:(i,d,p)=>{var v=p(89465),S=p(47816),T=p(67206);i.exports=function mapKeys(i,d){var p={};return d=T(d,3),S(i,(function(i,S,T){v(p,d(i,S,T),i)})),p}},66604:(i,d,p)=>{var v=p(89465),S=p(47816),T=p(67206);i.exports=function mapValues(i,d){var p={};return d=T(d,3),S(i,(function(i,S,T){v(p,S,d(i,S,T))})),p}},84753:(i,d,p)=>{var v=p(56029),S=p(53325),T=p(67206);i.exports=function maxBy(i,d){return i&&i.length?v(i,T(d,2),S):void 0}},88306:(i,d,p)=>{var v=p(83369);function memoize(i,d){if("function"!=typeof i||null!=d&&"function"!=typeof d)throw new TypeError("Expected a function");var memoized=function(){var p=arguments,v=d?d.apply(this,p):p[0],S=memoized.cache;if(S.has(v))return S.get(v);var T=i.apply(this,p);return memoized.cache=S.set(v,T)||S,T};return memoized.cache=new(memoize.Cache||v),memoized}memoize.Cache=v,i.exports=memoize},30236:(i,d,p)=>{var v=p(42980),S=p(21463)((function(i,d,p,S){v(i,d,p,S)}));i.exports=S},22762:(i,d,p)=>{var v=p(56029),S=p(67206),T=p(70433);i.exports=function minBy(i,d){return i&&i.length?v(i,S(d,2),T):void 0}},94885:i=>{i.exports=function negate(i){if("function"!=typeof i)throw new TypeError("Expected a function");return function(){var d=arguments;switch(d.length){case 0:return!i.call(this);case 1:return!i.call(this,d[0]);case 2:return!i.call(this,d[0],d[1]);case 3:return!i.call(this,d[0],d[1],d[2])}return!i.apply(this,d)}}},50308:i=>{i.exports=function noop(){}},7771:(i,d,p)=>{var v=p(55639);i.exports=function(){return v.Date.now()}},98491:(i,d,p)=>{var v=p(88360),S=p(40554);i.exports=function nth(i,d){return i&&i.length?v(i,S(d)):void 0}},57557:(i,d,p)=>{var v=p(29932),S=p(85990),T=p(57406),O=p(71811),I=p(98363),N=p(60696),R=p(99021),P=p(46904),k=R((function(i,d){var p={};if(null==i)return p;var R=!1;d=v(d,(function(d){return d=O(d,i),R||(R=d.length>1),d})),I(i,P(i),p),R&&(p=S(p,7,N));for(var k=d.length;k--;)T(p,d[k]);return p}));i.exports=k},14176:(i,d,p)=>{var v=p(67206),S=p(94885),T=p(35937);i.exports=function omitBy(i,d){return T(i,S(v(d)))}},65544:(i,d,p)=>{var v=p(5976),S=p(97727),T=p(20893),O=p(46460),I=v((function(i,d){var p=O(d,T(I));return S(i,64,void 0,d,p)}));I.placeholder={},i.exports=I},78718:(i,d,p)=>{var v=p(25970),S=p(99021)((function(i,d){return null==i?{}:v(i,d)}));i.exports=S},35937:(i,d,p)=>{var v=p(29932),S=p(67206),T=p(63012),O=p(46904);i.exports=function pickBy(i,d){if(null==i)return{};var p=v(O(i),(function(i){return[i]}));return d=S(d),T(i,p,(function(i,p){return d(i,p[0])}))}},39601:(i,d,p)=>{var v=p(40371),S=p(79152),T=p(15403),O=p(40327);i.exports=function property(i){return T(i)?v(O(i)):S(i)}},96026:(i,d,p)=>{var v=p(47445)();i.exports=v},4963:(i,d,p)=>{var v=p(97727),S=p(99021),T=S((function(i,d){return v(i,256,void 0,void 0,void 0,d)}));i.exports=T},54061:(i,d,p)=>{var v=p(62663),S=p(89881),T=p(67206),O=p(10107),I=p(1469);i.exports=function reduce(i,d,p){var N=I(i)?v:O,R=arguments.length<3;return N(i,T(d,4),p,R,S)}},43063:(i,d,p)=>{var v=p(34963),S=p(80760),T=p(67206),O=p(1469),I=p(94885);i.exports=function reject(i,d){return(O(i)?v:S)(i,I(T(d,3)))}},82729:(i,d,p)=>{var v=p(67206),S=p(15742);i.exports=function remove(i,d){var p=[];if(!i||!i.length)return p;var T=-1,O=[],I=i.length;for(d=v(d,3);++T<I;){var N=i[T];d(N,T,i)&&(p.push(N),O.push(T))}return S(i,O),p}},13880:(i,d,p)=>{var v=p(79833);i.exports=function replace(){var i=arguments,d=v(i[0]);return i.length<3?d:d.replace(i[1],i[2])}},36968:(i,d,p)=>{var v=p(10611);i.exports=function set(i,d,p){return null==i?i:v(i,d,p)}},84238:(i,d,p)=>{var v=p(280),S=p(64160),T=p(98612),O=p(47037),I=p(88016);i.exports=function size(i){if(null==i)return 0;if(T(i))return O(i)?I(i):i.length;var d=S(i);return"[object Map]"==d||"[object Set]"==d?i.size:v(i).length}},11865:(i,d,p)=>{var v=p(35393)((function(i,d,p){return i+(p?"_":"")+d.toLowerCase()}));i.exports=v},59704:(i,d,p)=>{var v=p(82908),S=p(67206),T=p(5076),O=p(1469),I=p(16612);i.exports=function some(i,d,p){var N=O(i)?v:T;return p&&I(i,d,p)&&(d=void 0),N(i,S(d,3))}},89734:(i,d,p)=>{var v=p(21078),S=p(82689),T=p(5976),O=p(16612),I=T((function(i,d){if(null==i)return[];var p=d.length;return p>1&&O(i,d[0],d[1])?d=[]:p>2&&O(d[0],d[1],d[2])&&(d=[d[0]]),S(i,v(d,1),[])}));i.exports=I},10240:(i,d,p)=>{var v=p(29750),S=p(80531),T=p(40554),O=p(79833);i.exports=function startsWith(i,d,p){return i=O(i),p=null==p?0:v(T(p),0,i.length),d=S(d),i.slice(p,p+d.length)==d}},70479:i=>{i.exports=function stubArray(){return[]}},95062:i=>{i.exports=function stubFalse(){return!1}},98913:(i,d,p)=>{var v=p(22545),S=p(54290),T=p(40554),O=4294967295,I=Math.min;i.exports=function times(i,d){if((i=T(i))<1||i>9007199254740991)return[];var p=O,N=I(i,O);d=S(d),i-=O;for(var R=v(N,d);++p<i;)d(p);return R}},18601:(i,d,p)=>{var v=p(14841),S=1/0;i.exports=function toFinite(i){return i?(i=v(i))===S||i===-1/0?17976931348623157e292*(i<0?-1:1):i==i?i:0:0===i?i:0}},40554:(i,d,p)=>{var v=p(18601);i.exports=function toInteger(i){var d=v(i),p=d%1;return d==d?p?d-p:d:0}},14841:(i,d,p)=>{var v=p(27561),S=p(13218),T=p(33448),O=/^[-+]0x[0-9a-f]+$/i,I=/^0b[01]+$/i,N=/^0o[0-7]+$/i,R=parseInt;i.exports=function toNumber(i){if("number"==typeof i)return i;if(T(i))return NaN;if(S(i)){var d="function"==typeof i.valueOf?i.valueOf():i;i=S(d)?d+"":d}if("string"!=typeof i)return 0===i?i:+i;i=v(i);var p=I.test(i);return p||N.test(i)?R(i.slice(2),p?2:8):O.test(i)?NaN:+i}},93220:(i,d,p)=>{var v=p(13866)(p(3674));i.exports=v},30084:(i,d,p)=>{var v=p(29932),S=p(278),T=p(1469),O=p(33448),I=p(55514),N=p(40327),R=p(79833);i.exports=function toPath(i){return T(i)?v(i,N):O(i)?[i]:S(I(R(i)))}},59881:(i,d,p)=>{var v=p(98363),S=p(81704);i.exports=function toPlainObject(i){return v(i,S(i))}},79833:(i,d,p)=>{var v=p(80531);i.exports=function toString(i){return null==i?"":v(i)}},68718:(i,d,p)=>{var v=p(77412),S=p(3118),T=p(47816),O=p(67206),I=p(85924),N=p(1469),R=p(44144),P=p(23560),k=p(13218),L=p(36719);i.exports=function transform(i,d,p){var M=N(i),F=M||R(i)||L(i);if(d=O(d,4),null==p){var U=i&&i.constructor;p=F?M?new U:[]:k(i)&&P(U)?S(I(i)):{}}return(F?v:T)(i,(function(i,v,S){return d(p,i,v,S)})),p}},93386:(i,d,p)=>{var v=p(21078),S=p(5976),T=p(45652),O=p(29246),I=S((function(i){return T(v(i,1,O,!0))}));i.exports=I},44908:(i,d,p)=>{var v=p(45652);i.exports=function uniq(i){return i&&i.length?v(i):[]}},11700:(i,d,p)=>{var v=p(98805)("toUpperCase");i.exports=v},52628:(i,d,p)=>{var v=p(47415),S=p(3674);i.exports=function values(i){return null==i?[]:v(i,S(i))}},58748:(i,d,p)=>{var v=p(49029),S=p(93157),T=p(79833),O=p(2757);i.exports=function words(i,d,p){return i=T(i),void 0===(d=p?void 0:d)?S(i)?O(i):v(i):i.match(d)||[]}},8111:(i,d,p)=>{var v=p(96425),S=p(7548),T=p(9435),O=p(1469),I=p(37005),N=p(21913),R=Object.prototype.hasOwnProperty;function lodash(i){if(I(i)&&!O(i)&&!(i instanceof v)){if(i instanceof S)return i;if(R.call(i,"__wrapped__"))return N(i)}return new S(i)}lodash.prototype=T.prototype,lodash.prototype.constructor=lodash,i.exports=lodash},42441:(i,d,p)=>{var v;!function(S,T,O){if(S){for(var I,N={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},R={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},P={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},k={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},L=1;L<20;++L)N[111+L]="f"+L;for(L=0;L<=9;++L)N[L+96]=L.toString();Mousetrap.prototype.bind=function(i,d,p){var v=this;return i=i instanceof Array?i:[i],v._bindMultiple.call(v,i,d,p),v},Mousetrap.prototype.unbind=function(i,d){return this.bind.call(this,i,(function(){}),d)},Mousetrap.prototype.trigger=function(i,d){var p=this;return p._directMap[i+":"+d]&&p._directMap[i+":"+d]({},i),p},Mousetrap.prototype.reset=function(){var i=this;return i._callbacks={},i._directMap={},i},Mousetrap.prototype.stopCallback=function(i,d){if((" "+d.className+" ").indexOf(" mousetrap ")>-1)return!1;if(_belongsTo(d,this.target))return!1;if("composedPath"in i&&"function"==typeof i.composedPath){var p=i.composedPath()[0];p!==i.target&&(d=p)}return"INPUT"==d.tagName||"SELECT"==d.tagName||"TEXTAREA"==d.tagName||d.isContentEditable},Mousetrap.prototype.handleKey=function(){var i=this;return i._handleKey.apply(i,arguments)},Mousetrap.addKeycodes=function(i){for(var d in i)i.hasOwnProperty(d)&&(N[d]=i[d]);I=null},Mousetrap.init=function(){var i=Mousetrap(T);for(var d in i)"_"!==d.charAt(0)&&(Mousetrap[d]=function(d){return function(){return i[d].apply(i,arguments)}}(d))},Mousetrap.init(),S.Mousetrap=Mousetrap,i.exports&&(i.exports=Mousetrap),void 0===(v=function(){return Mousetrap}.call(d,p,d,i))||(i.exports=v)}function _addEvent(i,d,p){i.addEventListener?i.addEventListener(d,p,!1):i.attachEvent("on"+d,p)}function _characterFromEvent(i){if("keypress"==i.type){var d=String.fromCharCode(i.which);return i.shiftKey||(d=d.toLowerCase()),d}return N[i.which]?N[i.which]:R[i.which]?R[i.which]:String.fromCharCode(i.which).toLowerCase()}function _isModifier(i){return"shift"==i||"ctrl"==i||"alt"==i||"meta"==i}function _pickBestAction(i,d,p){return p||(p=function _getReverseMap(){if(!I)for(var i in I={},N)i>95&&i<112||N.hasOwnProperty(i)&&(I[N[i]]=i);return I}()[i]?"keydown":"keypress"),"keypress"==p&&d.length&&(p="keydown"),p}function _getKeyInfo(i,d){var p,v,S,T=[];for(p=function _keysFromString(i){return"+"===i?["+"]:(i=i.replace(/\+{2}/g,"+plus")).split("+")}(i),S=0;S<p.length;++S)v=p[S],k[v]&&(v=k[v]),d&&"keypress"!=d&&P[v]&&(v=P[v],T.push("shift")),_isModifier(v)&&T.push(v);return{key:v,modifiers:T,action:d=_pickBestAction(v,T,d)}}function _belongsTo(i,d){return null!==i&&i!==T&&(i===d||_belongsTo(i.parentNode,d))}function Mousetrap(i){var d=this;if(i=i||T,!(d instanceof Mousetrap))return new Mousetrap(i);d.target=i,d._callbacks={},d._directMap={};var p,v={},S=!1,O=!1,I=!1;function _resetSequences(i){i=i||{};var d,p=!1;for(d in v)i[d]?p=!0:v[d]=0;p||(I=!1)}function _getMatches(i,p,S,T,O,I){var N,R,P,k,L=[],M=S.type;if(!d._callbacks[i])return[];for("keyup"==M&&_isModifier(i)&&(p=[i]),N=0;N<d._callbacks[i].length;++N)if(R=d._callbacks[i][N],(T||!R.seq||v[R.seq]==R.level)&&M==R.action&&("keypress"==M&&!S.metaKey&&!S.ctrlKey||(P=p,k=R.modifiers,P.sort().join(",")===k.sort().join(",")))){var F=!T&&R.combo==O,U=T&&R.seq==T&&R.level==I;(F||U)&&d._callbacks[i].splice(N,1),L.push(R)}return L}function _fireCallback(i,p,v,S){d.stopCallback(p,p.target||p.srcElement,v,S)||!1===i(p,v)&&(!function _preventDefault(i){i.preventDefault?i.preventDefault():i.returnValue=!1}(p),function _stopPropagation(i){i.stopPropagation?i.stopPropagation():i.cancelBubble=!0}(p))}function _handleKeyEvent(i){"number"!=typeof i.which&&(i.which=i.keyCode);var p=_characterFromEvent(i);p&&("keyup"!=i.type||S!==p?d.handleKey(p,function _eventModifiers(i){var d=[];return i.shiftKey&&d.push("shift"),i.altKey&&d.push("alt"),i.ctrlKey&&d.push("ctrl"),i.metaKey&&d.push("meta"),d}(i),i):S=!1)}function _bindSequence(i,d,T,O){function _increaseSequence(d){return function(){I=d,++v[i],function _resetSequenceTimer(){clearTimeout(p),p=setTimeout(_resetSequences,1e3)}()}}function _callbackAndReset(d){_fireCallback(T,d,i),"keyup"!==O&&(S=_characterFromEvent(d)),setTimeout(_resetSequences,10)}v[i]=0;for(var N=0;N<d.length;++N){var R=N+1===d.length?_callbackAndReset:_increaseSequence(O||_getKeyInfo(d[N+1]).action);_bindSingle(d[N],R,O,i,N)}}function _bindSingle(i,p,v,S,T){d._directMap[i+":"+v]=p;var O,I=(i=i.replace(/\s+/g," ")).split(" ");I.length>1?_bindSequence(i,I,p,v):(O=_getKeyInfo(i,v),d._callbacks[O.key]=d._callbacks[O.key]||[],_getMatches(O.key,O.modifiers,{type:O.action},S,i,T),d._callbacks[O.key][S?"unshift":"push"]({callback:p,modifiers:O.modifiers,action:O.action,seq:S,level:T,combo:i}))}d._handleKey=function(i,d,p){var v,S=_getMatches(i,d,p),T={},N=0,R=!1;for(v=0;v<S.length;++v)S[v].seq&&(N=Math.max(N,S[v].level));for(v=0;v<S.length;++v)if(S[v].seq){if(S[v].level!=N)continue;R=!0,T[S[v].seq]=1,_fireCallback(S[v].callback,p,S[v].combo,S[v].seq)}else R||_fireCallback(S[v].callback,p,S[v].combo);var P="keypress"==p.type&&O;p.type!=I||_isModifier(i)||P||_resetSequences(T),O=R&&"keydown"==p.type},d._bindMultiple=function(i,d,p){for(var v=0;v<i.length;++v)_bindSingle(i[v],d,p)},_addEvent(i,"keypress",_handleKeyEvent),_addEvent(i,"keydown",_handleKeyEvent),_addEvent(i,"keyup",_handleKeyEvent)}}("undefined"!=typeof window?window:null,"undefined"!=typeof window?document:null)},34532:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var p=function(){function defineProperties(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&defineProperties(i.prototype,d),p&&defineProperties(i,p),i}}();function _classCallCheck(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}var v=function(){function EntitySchema(i){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(_classCallCheck(this,EntitySchema),!i||"string"!=typeof i)throw new Error("A string non-empty key is required");this._key=i,this._assignEntity=d.assignEntity;var p=d.idAttribute||"id";this._getId="function"==typeof p?p:function(i){return i[p]},this._idAttribute=p,this._meta=d.meta,this._defaults=d.defaults}return p(EntitySchema,[{key:"getAssignEntity",value:function getAssignEntity(){return this._assignEntity}},{key:"getKey",value:function getKey(){return this._key}},{key:"getId",value:function getId(i){return this._getId(i)}},{key:"getIdAttribute",value:function getIdAttribute(){return this._idAttribute}},{key:"getMeta",value:function getMeta(i){if(!i||"string"!=typeof i)throw new Error("A string non-empty property name is required");return this._meta&&this._meta[i]}},{key:"getDefaults",value:function getDefaults(){return this._defaults}},{key:"define",value:function define(i){for(var d in i)i.hasOwnProperty(d)&&(this[d]=i[d])}}]),EntitySchema}();d.default=v},42600:(i,d,p)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var v=function(){function defineProperties(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&defineProperties(i.prototype,d),p&&defineProperties(i,p),i}}(),S=_interopRequireDefault(p(13218)),T=_interopRequireDefault(p(88581));function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function _classCallCheck(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}var O=function(){function ArraySchema(i){var d=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];if(_classCallCheck(this,ArraySchema),!(0,S.default)(i))throw new Error("ArraySchema requires item schema to be an object.");if(d.schemaAttribute){var p=d.schemaAttribute;this._itemSchema=new T.default(i,{schemaAttribute:p})}else this._itemSchema=i}return v(ArraySchema,[{key:"getItemSchema",value:function getItemSchema(){return this._itemSchema}}]),ArraySchema}();d.default=O},88581:(i,d,p)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});var v=function(){function defineProperties(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&defineProperties(i.prototype,d),p&&defineProperties(i,p),i}}(),S=function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}(p(13218));var T=function(){function UnionSchema(i,d){if(function _classCallCheck(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")}(this,UnionSchema),!(0,S.default)(i))throw new Error("UnionSchema requires item schema to be an object.");if(!d||!d.schemaAttribute)throw new Error("UnionSchema requires schemaAttribute option.");this._itemSchema=i;var p=d.schemaAttribute;this._getSchema="function"==typeof p?p:function(i){return i[p]}}return v(UnionSchema,[{key:"getItemSchema",value:function getItemSchema(){return this._itemSchema}},{key:"getSchemaKey",value:function getSchemaKey(i){return this._getSchema(i)}}]),UnionSchema}();d.default=T},69082:(i,d,p)=>{"use strict";d.V_=void 0;var v=Object.assign||function(i){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(i[v]=p[v])}return i};d.CT=function arrayOf(i,d){return new T.default(i,d)},d.Fv=function normalize(i,d){var p=arguments.length<=2||void 0===arguments[2]?{}:arguments[2];if(!(0,N.default)(i))throw new Error("Normalize accepts an object or an array as its input.");if(!(0,N.default)(d)||Array.isArray(d))throw new Error("Normalize accepts an object for schema.");var v={},S=visit(i,d,v,p);return{entities:v,result:S}};var S=_interopRequireDefault(p(34532)),T=_interopRequireDefault(p(42600)),O=_interopRequireDefault(p(88581)),I=_interopRequireDefault(p(18446)),N=_interopRequireDefault(p(13218));function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function defaultAssignEntity(i,d,p){i[d]=p}function visitObject(i,d,p,S){var T=S.assignEntity,O=void 0===T?defaultAssignEntity:T,I=d&&d.getDefaults&&d.getDefaults(),R=d&&d.getAssignEntity&&d.getAssignEntity(),P=(0,N.default)(I)?v({},I):{};for(var k in i)if(i.hasOwnProperty(k)){var L=visit(i[k],d[k],p,S);O.call(null,P,k,L,i,d),R&&R.call(null,P,k,L,i,d)}return P}function visitIterable(i,d,p,v){var S=function defaultMapper(i,d,p,v){return function(i){return visit(i,d,p,v)}}(0,d.getItemSchema(),p,v);return Array.isArray(i)?i.map(S):Object.keys(i).reduce((function(d,p){return d[p]=S(i[p]),d}),{})}function visitUnion(i,d,p,v){var S=d.getItemSchema();return function polymorphicMapper(i,d,p,v){return function(S){var T=i.getSchemaKey(S);return{id:visit(S,d[T],p,v),schema:T}}}(d,S,p,v)(i)}function defaultMergeIntoEntity(i,d,p){for(var v in d)d.hasOwnProperty(v)&&(i.hasOwnProperty(v)&&!(0,I.default)(i[v],d[v])?console.warn("When merging two "+p+', found unequal data in their "'+v+'" values. Using the earlier value.',i[v],d[v]):i[v]=d[v])}function visit(i,d,p,v){return(0,N.default)(i)&&(0,N.default)(d)?d instanceof S.default?function visitEntity(i,d,p,v){var S=v.mergeIntoEntity,T=void 0===S?defaultMergeIntoEntity:S,O=d.getKey(),I=d.getId(i);return p.hasOwnProperty(O)||(p[O]={}),p[O].hasOwnProperty(I)||(p[O][I]={}),T(p[O][I],visitObject(i,d,p,v),O),I}(i,d,p,v):d instanceof T.default?visitIterable(i,d,p,v):d instanceof O.default?visitUnion(i,d,p,v):visitObject(i,d,p,v):i}d.V_=S.default},27418:i=>{"use strict";var d=Object.getOwnPropertySymbols,p=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;function toObject(i){if(null==i)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(i)}i.exports=function shouldUseNative(){try{if(!Object.assign)return!1;var i=new String("abc");if(i[5]="de","5"===Object.getOwnPropertyNames(i)[0])return!1;for(var d={},p=0;p<10;p++)d["_"+String.fromCharCode(p)]=p;if("0123456789"!==Object.getOwnPropertyNames(d).map((function(i){return d[i]})).join(""))return!1;var v={};return"abcdefghijklmnopqrst".split("").forEach((function(i){v[i]=i})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},v)).join("")}catch(i){return!1}}()?Object.assign:function(i,S){for(var T,O,I=toObject(i),N=1;N<arguments.length;N++){for(var R in T=Object(arguments[N]))p.call(T,R)&&(I[R]=T[R]);if(d){O=d(T);for(var P=0;P<O.length;P++)v.call(T,O[P])&&(I[O[P]]=T[O[P]])}}return I}},58506:(i,d,p)=>{"use strict";p.d(d,{HotKeys:()=>V});var v=p(67369),S=p.n(v),T=p(85351),O=p.n(T),I=p(72307),N=p.n(I),R=p(73150),P=p.n(R),k=p(48094),L=p.n(k),M=p(62753),F=p.n(M),classCallCheck=function(i,d){if(!(i instanceof d))throw new TypeError("Cannot call a class as a function")},U=function(){function e(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}return function(i,d,p){return d&&e(i.prototype,d),p&&e(i,p),i}}(),j=Object.assign||function(i){for(var d=1;d<arguments.length;d++){var p=arguments[d];for(var v in p)Object.prototype.hasOwnProperty.call(p,v)&&(i[v]=p[v])}return i},inherits=function(i,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);i.prototype=Object.create(d&&d.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(i,d):i.__proto__=d)},objectWithoutProperties=function(i,d){var p={};for(var v in i)d.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(i,v)&&(p[v]=i[v]);return p},possibleConstructorReturn=function(i,d){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?i:d},H=function(i){function t(){return classCallCheck(this,t),possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return inherits(t,T.Component),U(t,[{key:"render",value:function(){var i=this.props,d=i.component,p=i.children,v=objectWithoutProperties(i,["component","children"]);return O().createElement(d,j({tabIndex:"-1"},v),p)}}]),t}();function hasChanged(i,d){return!N()(i,d)}H.propTypes={onFocus:S().func,onBlur:S().func,component:S().oneOfType([S().func,S().string]),children:S().node},H.defaultProps={component:"div"};var V=function(i){function t(i,d){classCallCheck(this,t);var p=possibleConstructorReturn(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,i,d));return p.onFocus=p.onFocus.bind(p),p.onBlur=p.onBlur.bind(p),p}return inherits(t,T.Component),U(t,[{key:"getChildContext",value:function(){return{hotKeyParent:this,hotKeyMap:this.__hotKeyMap__}}},{key:"componentWillMount",value:function(){this.updateMap()}},{key:"updateMap",value:function(){var i=this.buildMap();return!N()(i,this.__hotKeyMap__)&&(this.__hotKeyMap__=i,!0)}},{key:"buildMap",value:function(){var i=this.context.hotKeyMap||{},d=this.props.keyMap||{};return j({},i,d)}},{key:"getMap",value:function(){return this.__hotKeyMap__}},{key:"componentDidMount",value:function(){var i=p(42441);this.__mousetrap__=new i(this.props.attach||P().findDOMNode(this)),this.updateHotKeys(!0)}},{key:"componentDidUpdate",value:function(i){this.updateHotKeys(!1,i)}},{key:"componentWillUnmount",value:function(){this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null),this.__mousetrap__&&this.__mousetrap__.reset()}},{key:"updateHotKeys",value:function(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0],d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},p=this.props.handlers,v=void 0===p?{}:p,S=d.handlers,T=void 0===S?v:S,O=this.updateMap();(i||O||hasChanged(v,T))&&(this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null),this.syncHandlersToMousetrap())}},{key:"syncHandlersToMousetrap",value:function(){var i=this,d=this.props.handlers,p=void 0===d?{}:d,v=this.getMap(),S=[],T=this.__mousetrap__;Object.keys(p).forEach((function(d){var T=p[d];(function sequencesFromKeyMap(i,d){var p=i[d];return p?Array.isArray(p)?p:[p]:[d]})(v,d).forEach((function(d){var p=void 0;F()(d)&&(p=d.action,d=d.sequence),S.push({callback:function(d,p){if((L()(i.props.focused)?i.props.focused:i.__isFocused__)&&p!==i.__lastChildSequence__)return i.context.hotKeyParent&&i.context.hotKeyParent.childHandledSequence(p),T(d,p)},action:p,sequence:d})}))})),T.reset(),S.forEach((function(i){var d=i.sequence,p=i.callback,v=i.action;return T.bind(d,p,v)}))}},{key:"childHandledSequence",value:function(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.__lastChildSequence__=i,this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(i)}},{key:"render",value:function(){var i=this.props,d=(i.keyMap,i.handlers,i.focused,i.attach,i.children),p=objectWithoutProperties(i,["keyMap","handlers","focused","attach","children"]);return O().createElement(H,j({},p,{onFocus:this.onFocus,onBlur:this.onBlur}),d)}},{key:"onFocus",value:function(){var i;this.__isFocused__=!0,this.props.onFocus&&(i=this.props).onFocus.apply(i,arguments)}},{key:"onBlur",value:function(){var i;this.__isFocused__=!1,this.props.onBlur&&(i=this.props).onBlur.apply(i,arguments),this.context.hotKeyParent&&this.context.hotKeyParent.childHandledSequence(null)}}]),t}();V.propTypes={keyMap:S().object,handlers:S().object,focused:S().bool,attach:S().any,children:S().node,onFocus:S().func,onBlur:S().func},V.childContextTypes={hotKeyParent:S().any,hotKeyMap:S().object},V.contextTypes={hotKeyParent:S().any,hotKeyMap:S().object}},63274:(i,d,p)=>{"use strict";i.exports=p(58506)},69921:(i,d)=>{"use strict";var p="function"==typeof Symbol&&Symbol.for,v=p?Symbol.for("react.element"):60103,S=p?Symbol.for("react.portal"):60106,T=p?Symbol.for("react.fragment"):60107,O=p?Symbol.for("react.strict_mode"):60108,I=p?Symbol.for("react.profiler"):60114,N=p?Symbol.for("react.provider"):60109,R=p?Symbol.for("react.context"):60110,P=p?Symbol.for("react.async_mode"):60111,k=p?Symbol.for("react.concurrent_mode"):60111,L=p?Symbol.for("react.forward_ref"):60112,M=p?Symbol.for("react.suspense"):60113,F=p?Symbol.for("react.suspense_list"):60120,U=p?Symbol.for("react.memo"):60115,j=p?Symbol.for("react.lazy"):60116,H=p?Symbol.for("react.block"):60121,V=p?Symbol.for("react.fundamental"):60117,Y=p?Symbol.for("react.responder"):60118,G=p?Symbol.for("react.scope"):60119;function z(i){if("object"==typeof i&&null!==i){var d=i.$$typeof;switch(d){case v:switch(i=i.type){case P:case k:case T:case I:case O:case M:return i;default:switch(i=i&&i.$$typeof){case R:case L:case j:case U:case N:return i;default:return d}}case S:return d}}}function A(i){return z(i)===k}d.AsyncMode=P,d.ConcurrentMode=k,d.ContextConsumer=R,d.ContextProvider=N,d.Element=v,d.ForwardRef=L,d.Fragment=T,d.Lazy=j,d.Memo=U,d.Portal=S,d.Profiler=I,d.StrictMode=O,d.Suspense=M,d.isAsyncMode=function(i){return A(i)||z(i)===P},d.isConcurrentMode=A,d.isContextConsumer=function(i){return z(i)===R},d.isContextProvider=function(i){return z(i)===N},d.isElement=function(i){return"object"==typeof i&&null!==i&&i.$$typeof===v},d.isForwardRef=function(i){return z(i)===L},d.isFragment=function(i){return z(i)===T},d.isLazy=function(i){return z(i)===j},d.isMemo=function(i){return z(i)===U},d.isPortal=function(i){return z(i)===S},d.isProfiler=function(i){return z(i)===I},d.isStrictMode=function(i){return z(i)===O},d.isSuspense=function(i){return z(i)===M},d.isValidElementType=function(i){return"string"==typeof i||"function"==typeof i||i===T||i===k||i===I||i===O||i===M||i===F||"object"==typeof i&&null!==i&&(i.$$typeof===j||i.$$typeof===U||i.$$typeof===N||i.$$typeof===R||i.$$typeof===L||i.$$typeof===V||i.$$typeof===Y||i.$$typeof===G||i.$$typeof===H)},d.typeOf=z},59864:(i,d,p)=>{"use strict";i.exports=p(69921)},12842:function(i,d,p){var v,S;v=[p(73150)],void 0===(S=function(i){return function(i,d){"use strict";var p=[],v=[],S="ignore-react-onclickoutside",isSourceFound=function(i,d,p){return i===d||(i.correspondingElement?i.correspondingElement.classList.contains(p):i.classList.contains(p))};return{componentDidMount:function(){if("function"!=typeof this.handleClickOutside)throw new Error("Component lacks a handleClickOutside(event) function for processing outside click events.");var i,T,O,I=this.__outsideClickHandler=(i=d.findDOMNode(this),T=this.handleClickOutside,O=this.props.outsideClickIgnoreClass||S,function(d){d.stopPropagation();for(var p=d.target;p.parentNode;){if(isSourceFound(p,i,O))return;p=p.parentNode}p===document&&T(d)}),N=p.length;p.push(this),v[N]=I,this.props.disableOnClickOutside||this.enableOnClickOutside()},componentWillUnmount:function(){this.disableOnClickOutside(),this.__outsideClickHandler=!1;var i=p.indexOf(this);i>-1&&v[i]&&(v.splice(i,1),p.splice(i,1))},enableOnClickOutside:function(){var i=this.__outsideClickHandler;"undefined"!=typeof document&&(document.addEventListener("mousedown",i),document.addEventListener("touchstart",i))},disableOnClickOutside:function(){var i=this.__outsideClickHandler;"undefined"!=typeof document&&(document.removeEventListener("mousedown",i),document.removeEventListener("touchstart",i))}}}(0,i)}.apply(d,v))||(i.exports=S)},22222:(i,d,p)=>{"use strict";function defaultEqualityCheck(i,d){return i===d}function areArgumentsShallowlyEqual(i,d,p){if(null===d||null===p||d.length!==p.length)return!1;for(var v=d.length,S=0;S<v;S++)if(!i(d[S],p[S]))return!1;return!0}function getDependencies(i){var d=Array.isArray(i[0])?i[0]:i;if(!d.every((function(i){return"function"==typeof i}))){var p=d.map((function(i){return typeof i})).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+p+"]")}return d}p.d(d,{P1:()=>v});var v=function createSelectorCreator(i){for(var d=arguments.length,p=Array(d>1?d-1:0),v=1;v<d;v++)p[v-1]=arguments[v];return function(){for(var d=arguments.length,v=Array(d),S=0;S<d;S++)v[S]=arguments[S];var T=0,O=v.pop(),I=getDependencies(v),N=i.apply(void 0,[function(){return T++,O.apply(null,arguments)}].concat(p)),R=i((function(){for(var i=[],d=I.length,p=0;p<d;p++)i.push(I[p].apply(null,arguments));return N.apply(null,i)}));return R.resultFunc=O,R.dependencies=I,R.recomputations=function(){return T},R.resetRecomputations=function(){return T=0},R}}((function defaultMemoize(i){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:defaultEqualityCheck,p=null,v=null;return function(){return areArgumentsShallowlyEqual(d,p,arguments)||(v=i.apply(null,arguments)),p=arguments,v}}))},67678:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.default=class DynamicConfig{constructor(i,d,p,v,S=[],T=""){this.name=i,this.value=JSON.parse(JSON.stringify(null!=d?d:{})),this.ruleID=null!=p?p:"",this.secondaryExposures=S,this.allocatedExperimentName=T,this.evaluationDetails=v}get(i,d,p){const v=this.getValue(i,d);return null==v?d:p?p(v)?v:d:null==d||typeof v==typeof d&&Array.isArray(d)===Array.isArray(v)?v:d}getValue(i,d){return null==i?this.value:(null==d&&(d=null),null==this.value[i]?d:this.value[i])}getRuleID(){return this.ruleID}getName(){return this.name}getEvaluationDetails(){return this.evaluationDetails}_getSecondaryExposures(){return this.secondaryExposures}_getAllocatedExperimentName(){return this.allocatedExperimentName}}},4090:(i,d,p)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.ExceptionEndpoint=void 0;const v=p(98098);d.ExceptionEndpoint="https://statsigapi.net/v1/sdk_exception";d.default=class ErrorBoundary{constructor(i){this.seen=new Set,this.sdkKey=i}setStatsigMetadata(i){this.statsigMetadata=i}swallow(i,d){this.capture(i,d,(()=>{}))}capture(i,d,p,v){try{const S=d();return S instanceof Promise?S.catch((d=>this.onCaught(i,d,p,v))):S}catch(d){return this.onCaught(i,d,p,v)}}onCaught(i,d,p,S){if(d instanceof v.StatsigUninitializedError||d instanceof v.StatsigInvalidArgumentError)throw d;return console.error("[Statsig] An unexpected exception occurred.",d),this.logError(i,d,S),p()}async logError(i,p,v){var S;try{const T="function"==typeof v?await v():null,O=null!=p?p:Error("[Statsig] Error was empty"),I=O instanceof Error,N=I?O.name:"No Name";if(this.seen.has(N))return;this.seen.add(N);const R=I?O.stack:this.getDescription(O),P=null!==(S=this.statsigMetadata)&&void 0!==S?S:{},k=JSON.stringify({tag:i,exception:N,info:R,statsigMetadata:P,extra:null!=T?T:{}});fetch(d.ExceptionEndpoint,{method:"POST",headers:{"STATSIG-API-KEY":this.sdkKey,"STATSIG-SDK-TYPE":String(P.sdkType),"STATSIG-SDK-VERSION":String(P.sdkVersion),"Content-Type":"application/json","Content-Length":`${k.length}`},body:k})}catch(i){}}getDescription(i){try{return JSON.stringify(i)}catch{return"[Statsig] Failed to get string for error."}}}},98098:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.StatsigInvalidArgumentError=d.StatsigUninitializedError=void 0;class StatsigUninitializedError extends Error{constructor(i){super(null!=i?i:"Call and wait for initialize() to finish first.")}}d.StatsigUninitializedError=StatsigUninitializedError;class StatsigInvalidArgumentError extends Error{}d.StatsigInvalidArgumentError=StatsigInvalidArgumentError},19586:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});class Layer{constructor(i,d,p,v,S=null,T=[],O=[],I="",N=[]){this.sdkInternal=S,this.name=i,this.value=JSON.parse(JSON.stringify(null!=d?d:{})),this.ruleID=null!=p?p:"",this.evaluationDetails=v,this.secondaryExposures=T,this.undelegatedSecondaryExposures=O,this.allocatedExperimentName=I,this.explicitParameters=N}static _create(i,d,p,v,S=null,T=[],O=[],I="",N=[]){return new Layer(i,d,p,v,S,T,O,I,N)}get(i,d,p){const v=this.value[i];if(null==v)return d;const logAndReturn=()=>(this.logLayerParameterExposure(i),v);return p?p(v)?logAndReturn():d:null==d||typeof v==typeof d&&Array.isArray(d)===Array.isArray(v)?logAndReturn():d}getValue(i,d){null==d&&(d=null);const p=this.value[i];return null!=p&&this.logLayerParameterExposure(i),null!=p?p:d}getRuleID(){return this.ruleID}getName(){return this.name}getEvaluationDetails(){return this.evaluationDetails}_getSecondaryExposures(){return this.secondaryExposures}_getAllocatedExperimentName(){return this.allocatedExperimentName}logLayerParameterExposure(i){var d;let p="",v=this.undelegatedSecondaryExposures;const S=this.explicitParameters.includes(i);S&&(p=this.allocatedExperimentName,v=this.secondaryExposures),null===(d=this.sdkInternal)||void 0===d||d.getLogger().logLayerExposure(this.sdkInternal.getCurrentUser(),this.name,this.ruleID,v,p,i,S,this.evaluationDetails)}}d.default=Layer},67704:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.default=class LogEvent{constructor(i){this.user=null,this.value=null,this.metadata=null,this.eventName=i,this.statsigMetadata={},this.time=Date.now()}getName(){return this.eventName}setValue(i){this.value=i}setMetadata(i){this.metadata=i}addStatsigMetadata(i,d){this.statsigMetadata[i]=d}setUser(i){this.user={...i},delete this.user.privateAttributes}setSecondaryExposures(i=[]){this.secondaryExposures=i}toJsonObject(){var i;return{eventName:this.eventName,user:this.user,value:this.value,metadata:this.metadata,time:this.time,statsigMetadata:this.statsigMetadata,secondaryExposures:null!==(i=this.secondaryExposures)&&void 0!==i?i:void 0}}}},24069:function(i,d,p){"use strict";var v=this&&this.__createBinding||(Object.create?function(i,d,p,v){void 0===v&&(v=p),Object.defineProperty(i,v,{enumerable:!0,get:function(){return d[p]}})}:function(i,d,p,v){void 0===v&&(v=p),i[v]=d[p]}),S=this&&this.__setModuleDefault||(Object.create?function(i,d){Object.defineProperty(i,"default",{enumerable:!0,value:d})}:function(i,d){i.default=d}),T=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var d={};if(null!=i)for(var p in i)"default"!==p&&Object.prototype.hasOwnProperty.call(i,p)&&v(d,i,p);return S(d,i),d},O=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});const I=O(p(67678)),N=O(p(19586)),R=O(p(67704)),P=O(p(52826)),k=O(p(54740)),L=O(p(84970)),M=O(p(18625)),F=T(p(21822)),U=p(9188),j=O(p(37053)),H=O(p(72553)),V=p(98098),Y=O(p(4090)),G=64,W=2048;class StatsigClient{constructor(i,d,p){if(this.appState=null,this.currentAppState=null,this.initCalled=!1,this.pendingInitPromise=null,this.optionalLoggingSetup=!1,this.prefetchedUsersByCacheKey={},"string"!=typeof i||!i.startsWith("client-"))throw new V.StatsigInvalidArgumentError("Invalid key provided.  You must use a Client SDK Key from the Statsig console to initialize the sdk");this.errorBoundary=new Y.default(i),this.ready=!1,this.sdkKey=i,this.options=new M.default(p),this.identity=new P.default(this.normalizeUser(null!=d?d:null),this.options.getOverrideStableID(),StatsigClient.reactNativeUUID),this.network=new L.default(this),this.store=new F.default(this),this.logger=new k.default(this),null!=(null==p?void 0:p.initializeValues)&&this.setInitializeValues(null==p?void 0:p.initializeValues),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata())}getErrorBoundary(){return this.errorBoundary}getNetwork(){return this.network}getStore(){return this.store}getLogger(){return this.logger}getOptions(){return this.options}getSDKKey(){return null==this.sdkKey?"":this.sdkKey}getCurrentUser(){return this.identity.getUser()}getCurrentUserCacheKey(){return(0,U.getUserCacheKey)(this.getStableID(),this.getCurrentUser())}getStatsigMetadata(){return this.identity.getStatsigMetadata()}getSDKType(){return this.identity.getSDKType()}getSDKVersion(){return this.identity.getSDKVersion()}setInitializeValues(i){this.errorBoundary.capture("setInitializeValues",(()=>{this.store.bootstrap(i),this.ready||(this.ready=!0,this.initCalled=!0),this.handleOptionalLogging(),this.logger.sendSavedRequests()}),(()=>{this.ready=!0,this.initCalled=!0}))}async initializeAsync(){return this.errorBoundary.capture("initializeAsync",(async()=>null!=this.pendingInitPromise?this.pendingInitPromise:this.ready?Promise.resolve():(this.initCalled=!0,j.default.asyncStorage&&(await this.identity.initAsync(),await this.store.loadFromAsyncStorage()),this.appState&&this.appState.addEventListener&&"function"==typeof this.appState.addEventListener&&(this.currentAppState=this.appState.currentState,this.appState.addEventListener("change",this.handleAppStateChange.bind(this))),this.options.getLocalModeEnabled()?Promise.resolve():(this.pendingInitPromise=this.fetchAndSaveValues(this.identity.getUser(),this.options.getPrefetchUsers()).finally((async()=>{this.pendingInitPromise=null,this.ready=!0,this.logger.sendSavedRequests()})),this.handleOptionalLogging(),this.pendingInitPromise))),(()=>(this.ready=!0,this.initCalled=!0,Promise.resolve())))}async prefetchUsers(i){if(i&&0!=i.length)return this.fetchAndSaveValues(null,i)}getEvaluationDetails(){return this.store.getGlobalEvaluationDetails()}checkGate(i,d=!1){return this.errorBoundary.capture("checkGate",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof i||0===i.length)throw new V.StatsigInvalidArgumentError("Must pass a valid string as the gateName.");return this.store.checkGate(i,d)}),(()=>!1))}getConfig(i,d=!1){return this.errorBoundary.capture("getConfig",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof i||0===i.length)throw new V.StatsigInvalidArgumentError("Must pass a valid string as the configName.");return this.store.getConfig(i,d)}),(()=>new I.default(i,{},"",this.getEvalutionDetailsForError())))}getExperiment(i,d=!1,p=!1){return this.errorBoundary.capture("getExperiment",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof i||0===i.length)throw new V.StatsigInvalidArgumentError("Must pass a valid string as the experimentName.");return this.store.getExperiment(i,d,p)}),(()=>new I.default(i,{},"",this.getEvalutionDetailsForError())))}getLayer(i,d=!1){return this.errorBoundary.capture("getLayer",(()=>{if(this.ensureStoreLoaded(),"string"!=typeof i||0===i.length)throw new V.StatsigInvalidArgumentError("Must pass a valid string as the layerName.");return this.store.getLayer(i,d)}),(()=>N.default._create(i,{},"",this.getEvalutionDetailsForError())))}logEvent(i,d=null,p=null){this.errorBoundary.swallow("logEvent",(()=>{if(!this.logger||!this.sdkKey)throw new V.StatsigUninitializedError("Must initialize() before logging events.");if("string"!=typeof i||0===i.length)return void console.error("Event not logged. No valid eventName passed.");this.shouldTrimParam(i,G)&&(console.warn("eventName is too long, trimming to 64 characters."),i=i.substring(0,G)),"string"==typeof d&&this.shouldTrimParam(d,G)&&(console.warn("value is too long, trimming to 64."),d=d.substring(0,G)),this.shouldTrimParam(p,W)&&(console.warn("metadata is too big. Dropping the metadata."),p={error:"not logged due to size too large"});const v=new R.default(i);v.setValue(d),v.setMetadata(p),v.setUser(this.getCurrentUser()),this.logger.log(v)}))}async updateUser(i){return this.errorBoundary.capture("updateUser",(async()=>{if(!this.initializeCalled())throw new V.StatsigUninitializedError("Call initialize() first.");this.identity.updateUser(this.normalizeUser(i));const d=Boolean(this.prefetchedUsersByCacheKey[this.getCurrentUserCacheKey()]),p=this.store.updateUser(d);if(this.logger.resetDedupeKeys(),p&&d)return Promise.resolve(!0);if(null!=this.pendingInitPromise&&await this.pendingInitPromise,this.options.getLocalModeEnabled())return Promise.resolve(!0);const v=this.identity.getUser();return this.pendingInitPromise=this.fetchAndSaveValues(v).finally((()=>{this.pendingInitPromise=null})),this.pendingInitPromise.then((()=>Promise.resolve(!0))).catch((()=>Promise.resolve(!1)))}),(()=>Promise.resolve(!1)))}shutdown(){this.errorBoundary.swallow("shutdown",(()=>{this.logger.flush(!0),this.appState&&this.appState.removeEventListener&&"function"==typeof this.appState.removeEventListener&&this.appState.removeEventListener("change",this.handleAppStateChange.bind(this)),H.default.cleanup()}))}overrideGate(i,d){this.errorBoundary.swallow("overrideGate",(()=>{this.ensureStoreLoaded(),this.store.overrideGate(i,d)}))}overrideConfig(i,d){this.errorBoundary.swallow("overrideConfig",(()=>{this.ensureStoreLoaded(),this.store.overrideConfig(i,d)}))}removeGateOverride(i){this.errorBoundary.swallow("removeGateOverride",(()=>{this.ensureStoreLoaded(),this.store.removeGateOverride(i)}))}removeConfigOverride(i){this.errorBoundary.swallow("removeConfigOverride",(()=>{this.ensureStoreLoaded(),this.store.removeConfigOverride(i)}))}removeOverride(i){this.errorBoundary.swallow("removeOverride",(()=>{this.ensureStoreLoaded(),this.store.removeGateOverride(i)}))}getOverrides(){return this.errorBoundary.capture("getOverrides",(()=>(this.ensureStoreLoaded(),this.store.getAllOverrides().gates)),(()=>({})))}getAllOverrides(){return this.errorBoundary.capture("getAllOverrides",(()=>(this.ensureStoreLoaded(),this.store.getAllOverrides())),(()=>({gates:{},configs:{}})))}getStableID(){return this.errorBoundary.capture("getStableID",(()=>this.identity.getStatsigMetadata().stableID),(()=>""))}initializeCalled(){return this.initCalled}setSDKPackageInfo(i){null!=i&&(this.identity.setSDKPackageInfo(i),this.errorBoundary.setStatsigMetadata(this.getStatsigMetadata()))}static setAsyncStorage(i){null!=i&&(j.default.asyncStorage=i)}static setReactNativeUUID(i){null!=i&&(StatsigClient.reactNativeUUID=i)}setAppState(i){null!=i&&(this.appState=i)}setNativeModules(i){null!=i&&this.identity.setNativeModules(i)}setPlatform(i){null!=i&&this.identity.setPlatform(i)}setRNDeviceInfo(i){null!=i&&this.identity.setRNDeviceInfo(i)}setExpoConstants(i){null!=i&&this.identity.setExpoConstants(i)}setExpoDevice(i){null!=i&&this.identity.setExpoDevice(i)}handleOptionalLogging(){if("undefined"==typeof window||!window||!window.addEventListener)return;if(this.optionalLoggingSetup)return;const i=this.identity.getUser();if(this.options.getDisableErrorLogging()||window.addEventListener("error",(d=>{var p;let v=d.error;if(null!=v&&"object"==typeof v)try{v=JSON.stringify(v)}catch(d){}this.logger.logAppError(i,null!==(p=d.message)&&void 0!==p?p:"",{filename:d.filename,lineno:d.lineno,colno:d.colno,error_obj:v})})),!this.options.getDisableAutoMetricsLogging()){if("undefined"==typeof document||!document||"undefined"==typeof setTimeout||!setTimeout)return;const work=()=>{setTimeout((()=>{this.logger.logAppMetrics(i)}),1e3)};"complete"===document.readyState?work():window.addEventListener("load",(()=>work()))}this.optionalLoggingSetup=!0}handleAppStateChange(i){var d;"active"===this.currentAppState&&i.match(/inactive|background/)?this.logger.flush(!0):(null===(d=this.currentAppState)||void 0===d?void 0:d.match(/inactive|background/))&&"active"===i&&this.logger.sendSavedRequests(),this.currentAppState=i}shouldTrimParam(i,d){return null!=i&&("string"==typeof i?i.length>d:"object"==typeof i?JSON.stringify(i).length>d:"number"==typeof i&&i.toString().length>d)}normalizeUser(i){let d=JSON.parse(JSON.stringify(i));return d=this.trimUserObjIfNeeded(d),null!=this.options.getEnvironment()&&(d.statsigEnvironment=this.options.getEnvironment()),d}trimUserObjIfNeeded(i){var d,p;return null==i?{}:(this.shouldTrimParam(null!==(d=i.userID)&&void 0!==d?d:null,G)&&(console.warn("User ID is too large, trimming to 64characters"),i.userID=null===(p=i.userID)||void 0===p?void 0:p.toString().substring(0,G)),this.shouldTrimParam(i,W)&&(i.custom={},this.shouldTrimParam(i,W)?(console.warn("User object is too large, only keeping the user ID."),i={userID:i.userID}):console.warn("User object is too large, dropping the custom property.")),i)}ensureStoreLoaded(){if(!this.store.isLoaded())throw new V.StatsigUninitializedError("Call and wait for initialize() to finish first.")}getEvalutionDetailsForError(){return{time:Date.now(),reason:F.EvaluationReason.Error}}async fetchAndSaveValues(i,d=[]){d.length>5&&console.warn("Cannot prefetch more than 5 users.");const p=d.slice(0,5).reduce(((i,d)=>(i[(0,U.getUserCacheKey)(this.getStableID(),d)]=d,i)),{});return this.network.fetchValues(i,this.options.getInitTimeoutMs(),(async d=>this.errorBoundary.swallow("fetchAndSaveValues",(async()=>{await this.store.save((0,U.getUserCacheKey)(this.getStableID(),i),d),this.prefetchedUsersByCacheKey={...this.prefetchedUsersByCacheKey,...p}}))),(i=>{}),d.length>0?p:void 0).catch((i=>{}))}}d.default=StatsigClient},52826:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});const S=p(21614),T=p(42095),O=v(p(37053)),I=v(p(72553));d.default=class Identity{constructor(i,d,v){var S,N,R;this.platform=null,this.nativeModules=null,this.sdkType="js-client",this.reactNativeUUID=v,this.user=i,this.sdkVersion=null!==(N=null===(S=p(40780))||void 0===S?void 0:S.version)&&void 0!==N?N:"",this.statsigMetadata={sessionID:this.getUUID(),sdkType:this.sdkType,sdkVersion:this.sdkVersion};let P=d;O.default.asyncStorage||(P=null!==(R=null!=P?P:I.default.getItem(T.STATSIG_STABLE_ID_KEY))&&void 0!==R?R:this.getUUID(),I.default.setItem(T.STATSIG_STABLE_ID_KEY,P)),P&&(this.statsigMetadata.stableID=P)}async initAsync(){let i=this.statsigMetadata.stableID;return i||(i=await O.default.getItemAsync(T.STATSIG_STABLE_ID_KEY),i=null!=i?i:this.getUUID()),O.default.setItemAsync(T.STATSIG_STABLE_ID_KEY,i),this.statsigMetadata.stableID=i,this}getSDKType(){return this.sdkType}getSDKVersion(){return this.sdkVersion}getStatsigMetadata(){return this.statsigMetadata.sdkType=this.sdkType,this.statsigMetadata.sdkVersion=this.sdkVersion,this.statsigMetadata}getUser(){return this.user}updateUser(i){this.user=i,this.statsigMetadata.sessionID=this.getUUID()}setSDKPackageInfo(i){this.sdkType=i.sdkType,this.sdkVersion=i.sdkVersion}setPlatform(i){this.platform=i,this.updateMetadataFromNativeModules()}setNativeModules(i){this.nativeModules=i,this.updateMetadataFromNativeModules()}updateMetadataFromNativeModules(){var i,d,p,v,S,T,O;null!=this.platform&&null!=this.nativeModules&&("android"===(null===(i=this.platform.OS)||void 0===i?void 0:i.toLocaleLowerCase())?this.statsigMetadata.locale=null===(d=this.nativeModules.I18nManager)||void 0===d?void 0:d.localeIdentifier:"ios"===(null===(p=this.platform.OS)||void 0===p?void 0:p.toLocaleLowerCase())&&(this.statsigMetadata.locale=(null===(S=null===(v=this.nativeModules.SettingsManager)||void 0===v?void 0:v.settings)||void 0===S?void 0:S.AppleLocale)||(null===(O=null===(T=this.nativeModules.SettingsManager)||void 0===T?void 0:T.settings)||void 0===O?void 0:O.AppleLanguages[0])))}getUUID(){var i,d;return null!==(d=null===(i=this.reactNativeUUID)||void 0===i?void 0:i.v4())&&void 0!==d?d:(0,S.v4)()}setRNDeviceInfo(i){var d,p,v,S,T;this.statsigMetadata.appVersion=null!==(d=i.getVersion())&&void 0!==d?d:"",this.statsigMetadata.systemVersion=null!==(p=i.getSystemVersion())&&void 0!==p?p:"",this.statsigMetadata.systemName=null!==(v=i.getSystemName())&&void 0!==v?v:"",this.statsigMetadata.deviceModelName=null!==(S=i.getModel())&&void 0!==S?S:"",this.statsigMetadata.deviceModel=null!==(T=i.getDeviceId())&&void 0!==T?T:""}setExpoConstants(i){var d,p;this.statsigMetadata.appVersion=null!==(p=null!==(d=i.nativeAppVersion)&&void 0!==d?d:i.nativeBuildVersion)&&void 0!==p?p:""}setExpoDevice(i){var d,p,v,S;this.statsigMetadata.systemVersion=null!==(d=i.osVersion)&&void 0!==d?d:"",this.statsigMetadata.systemName=null!==(p=i.osName)&&void 0!==p?p:"",this.statsigMetadata.deviceModelName=null!==(v=i.modelName)&&void 0!==v?v:"",this.statsigMetadata.deviceModel=null!==(S=i.modelId)&&void 0!==S?S:""}}},54740:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});const S=v(p(67704)),T=p(84970),O=p(42095),I=v(p(37053)),N=v(p(72553)),R="statsig::log_event_failed",P=1024e3;new Set;d.default=class StatsigLogger{constructor(i){this.failedLogEventCount=0,this.sdkInternal=i,this.queue=[],this.flushInterval=null,this.loggedErrors=new Set,this.failedLogEvents=[],this.exposureDedupeKeys={},this.failedLogEventCount=0,this.init()}init(){if("undefined"!=typeof window&&"function"==typeof window.addEventListener&&(window.addEventListener("blur",(()=>this.flush(!0))),window.addEventListener("beforeunload",(()=>this.flush(!0)))),"undefined"!=typeof document&&"function"==typeof document.addEventListener&&document.addEventListener("visibilitychange",(()=>{"visible"!==document.visibilityState&&this.flush(!0)})),"undefined"==typeof window||null==window)return;const i=this;this.flushInterval=setInterval((()=>{i.flush()}),this.sdkInternal.getOptions().getLoggingIntervalMillis())}log(i){try{if(!this.sdkInternal.getOptions().getDisableCurrentPageLogging()&&"undefined"!=typeof window&&null!=window&&"object"==typeof window.location&&"string"==typeof window.location.href){const d=window.location.href.split(/[?#]/);(null==d?void 0:d.length)>0&&i.addStatsigMetadata("currentPage",d[0])}}catch(i){}this.queue.push(i.toJsonObject()),this.queue.length>=this.sdkInternal.getOptions().getLoggingBufferMaxSize()&&this.flush()}resetDedupeKeys(){this.exposureDedupeKeys={}}shouldLogExposure(i){const d=this.exposureDedupeKeys[i],p=Date.now();return!(null!=d&&d>=p-6e5||(this.exposureDedupeKeys[i]=p,0))}logGateExposure(i,d,p,v,T,O){const I=d+String(p)+v+O.reason;if(!this.shouldLogExposure(I))return;const N=new S.default("statsig::gate_exposure");N.setUser(i),N.setMetadata({gate:d,gateValue:String(p),ruleID:v,reason:O.reason,time:O.time}),N.setSecondaryExposures(T),this.log(N)}logConfigExposure(i,d,p,v,T){const O=d+p+T.reason;if(!this.shouldLogExposure(O))return;const I=new S.default("statsig::config_exposure");I.setUser(i),I.setMetadata({config:d,ruleID:p,reason:T.reason,time:T.time}),I.setSecondaryExposures(v),this.log(I)}logLayerExposure(i,d,p,v,T,O,I,N){const R=[d,p,T,O,String(I),N.reason].join("|");if(!this.shouldLogExposure(R))return;const P=new S.default("statsig::layer_exposure");P.setUser(i),P.setMetadata({config:d,ruleID:p,allocatedExperiment:T,parameterName:O,isExplicitParameter:String(I),reason:N.reason,time:N.time}),P.setSecondaryExposures(v),this.log(P)}logAppError(i,d,p){const v=d.substring(0,128);if(this.loggedErrors.has(v)||this.loggedErrors.size>10)return;const T=new S.default("statsig::app_error");T.setUser(i),T.setValue(v),T.setMetadata(p),this.log(T),this.loggedErrors.add(v)}logAppMetrics(i){var d;if("function"!=typeof(null===(d=null===window||void 0===window?void 0:window.performance)||void 0===d?void 0:d.getEntriesByType))return;const p=window.performance.getEntriesByType("navigation");if(!p||p.length<1)return;const v=p[0],T={statsig_dimensions:{url:v.name}},O=new S.default("statsig::app_metrics::page_load_time");O.setUser(i),O.setValue(v.duration),O.setMetadata(T),this.log(O);const I=new S.default("statsig::app_metrics::dom_interactive_time");I.setUser(i),I.setValue(v.domInteractive-v.startTime),I.setMetadata(T),this.log(I)}flush(i=!1){if(0===this.queue.length)return;i&&null!=this.flushInterval&&clearInterval(this.flushInterval);const d=this.queue;if(this.queue=[],i&&!this.sdkInternal.getNetwork().supportsKeepalive()&&"undefined"!=typeof navigator&&null!=navigator&&navigator.sendBeacon){return void(this.sdkInternal.getNetwork().sendLogBeacon({events:d,statsigMetadata:this.sdkInternal.getStatsigMetadata()})||(this.queue=d.concat(this.queue),this.queue.length>0&&(this.addFailedRequest({events:this.queue,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.queue=[]),this.saveFailedRequests()))}const p=this;this.sdkInternal.getNetwork().postToEndpoint(T.StatsigEndpoint.Rgstr,{events:d,statsigMetadata:this.sdkInternal.getStatsigMetadata()},3,1e3,i).then((i=>{if(!i.ok)throw i})).catch((i=>{if("function"==typeof i.text)i.text().then((v=>{const T=new S.default(R);T.setMetadata({error:`${i.status}: ${v}`}),T.setUser(p.sdkInternal.getCurrentUser()),p.appendFailureLog(T,d)}));else{const v=new S.default(R);v.setMetadata({error:i.message}),v.setUser(p.sdkInternal.getCurrentUser()),p.appendFailureLog(v,d)}})).finally((async()=>{i&&(this.queue.length>0&&(this.addFailedRequest({events:this.queue,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.queue=[]),await p.saveFailedRequests())}))}async saveFailedRequests(){if(this.failedLogEvents.length>0){const i=JSON.stringify(this.failedLogEvents);if(i.length>P)return void this.clearLocalStorageRequests();if(I.default.asyncStorage)return void await I.default.setItemAsync(O.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,i);N.default.setItem(O.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY,i)}}async sendSavedRequests(){let i,d=!1;if(i=I.default.asyncStorage?await I.default.getItemAsync(O.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY):N.default.getItem(O.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY),null==i)return void this.clearLocalStorageRequests();i.length>P&&(d=!0);let p=[];try{p=JSON.parse(i)}catch(i){}finally{this.clearLocalStorageRequests()}for(const i of p)null!=i&&i.events&&Array.isArray(i.events)&&this.sdkInternal.getNetwork().postToEndpoint(T.StatsigEndpoint.Rgstr,i).then((i=>{if(!i.ok)throw Error(i.status+"")})).catch((p=>{d||this.addFailedRequest(i)}))}addFailedRequest(i){if(i.time<Date.now()-432e6)return;if(this.failedLogEvents.length>100)return;const d=i.events.length;this.failedLogEventCount+d>1e3||(this.failedLogEvents.push(i),this.failedLogEventCount+=d)}clearLocalStorageRequests(){I.default.asyncStorage?I.default.removeItemAsync(O.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY):N.default.removeItem(O.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY)}appendFailureLog(i,d){this.loggedErrors.has(i.getName())||(this.loggedErrors.add(i.getName()),d.push(i),this.failedLogEvents.push({events:d,statsigMetadata:this.sdkInternal.getStatsigMetadata(),time:Date.now()}),this.saveFailedRequests())}}},84970:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0}),d.StatsigEndpoint=void 0;const S=v(p(41351));var T;!function(i){i.Initialize="initialize",i.Rgstr="rgstr",i.LogEventBeacon="log_event_beacon"}(T=d.StatsigEndpoint||(d.StatsigEndpoint={}));d.default=class StatsigNetwork{constructor(i){this.retryCodes={408:!0,500:!0,502:!0,503:!0,504:!0,522:!0,524:!0,599:!0},this.canUseKeepalive=!1,this.sdkInternal=i,this.leakyBucket={},this.init()}init(){if(!this.sdkInternal.getOptions().getDisableNetworkKeepalive())try{this.canUseKeepalive="keepalive"in new Request("")}catch(i){}}fetchValues(i,d,p,v,S){return this.postWithTimeout(T.Initialize,{user:i,prefetchUsers:S,statsigMetadata:this.sdkInternal.getStatsigMetadata()},p,v,d,3)}postWithTimeout(i,d,p,v,S=0,T=0,O=1e3){const I=this.postToEndpoint(i,d,T,O).then((d=>{if(d.ok&&"object"==typeof d.data){const i=d.data;return this.sdkInternal.getErrorBoundary().capture("postWithTimeout",(async()=>(p(i),Promise.resolve(i))),(()=>Promise.resolve({})),(async()=>this.getErrorData(d)))}return Promise.reject(new Error("Request to "+i+" failed with status "+d.status))})).then((()=>{})).catch((i=>("function"==typeof v&&v(i),Promise.reject(i))));if(0!=S){const i=new Promise(((i,d)=>{setTimeout((()=>{i()}),S)}));return Promise.race([I,i])}return I}sendLogBeacon(i){if(this.sdkInternal.getOptions().getLocalModeEnabled())return!0;const d=new URL(this.sdkInternal.getOptions().getEventLoggingApi()+T.LogEventBeacon);d.searchParams.append("k",this.sdkInternal.getSDKKey()),i.clientTime=Date.now()+"";let p=null;try{p=JSON.stringify(i)}catch(i){return!1}return navigator.sendBeacon(d.toString(),p)}async postToEndpoint(i,d,p=0,v=1e3,O=!1){if(this.sdkInternal.getOptions().getLocalModeEnabled())return Promise.reject("no network requests in localMode");if("function"!=typeof fetch)return Promise.reject("fetch is not defined");if("undefined"==typeof window)return Promise.reject("window is not defined");const I=(i==T.Initialize?this.sdkInternal.getOptions().getApi():this.sdkInternal.getOptions().getEventLoggingApi())+i,N=this.leakyBucket[I];if(null!=N&&N>=30)return Promise.reject(new Error("Request failed because you are making the same request too frequently."));this.leakyBucket[I]=null==N?1:N+1;let R=i===T.Initialize&&S.default.encodeIntializeCall&&"function"==typeof(null===window||void 0===window?void 0:window.btoa),P=JSON.stringify(d);if(R)try{P=window.btoa(P).split("").reverse().join("")}catch(i){R=!1}const k={method:"POST",body:P,headers:{"Content-type":"application/json; charset=UTF-8","STATSIG-API-KEY":this.sdkInternal.getSDKKey(),"STATSIG-CLIENT-TIME":Date.now()+"","STATSIG-SDK-TYPE":this.sdkInternal.getSDKType(),"STATSIG-SDK-VERSION":this.sdkInternal.getSDKVersion(),"STATSIG-ENCODED":R?"1":"0"}};return this.canUseKeepalive&&O&&(k.keepalive=!0),fetch(I,k).then((async i=>{if(i.ok){const d=await i.text(),p=i;return p.data=JSON.parse(d),p}this.retryCodes[i.status]||(p=0);const d=await i.text();return Promise.reject(new Error(`${i.status}: ${d}`))})).catch((S=>p>0?new Promise(((S,T)=>{setTimeout((()=>{this.leakyBucket[I]=Math.max(this.leakyBucket[I]-1,0),this.postToEndpoint(i,d,p-1,2*v,O).then(S).catch(T)}),v)})):Promise.reject(S))).finally((()=>{this.leakyBucket[I]=Math.max(this.leakyBucket[I]-1,0)}))}supportsKeepalive(){return this.canUseKeepalive}async getErrorData(i){var d;try{const p={};return(null!==(d=i.headers)&&void 0!==d?d:[]).forEach(((i,d)=>{p[d]=i})),{headers:p,status:i.status,statusText:i.statusText,type:i.type,url:i.url,redirected:i.redirected,text:i.data?JSON.stringify(i.data).slice(-100):null}}catch(i){return{statusText:"statsig::failed to extract extra data"}}}}},18625:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});d.default=class StatsigSDKOptions{constructor(i){var d,p,v,S,T,O,I,N,R,P,k,L;null==i&&(i={});let M=null!==(d=i.api)&&void 0!==d?d:"https://featuregates.org/v1/";this.api=M.endsWith("/")?M:M+"/",this.disableCurrentPageLogging=null!==(p=i.disableCurrentPageLogging)&&void 0!==p&&p,this.environment=null!==(v=i.environment)&&void 0!==v?v:null,this.loggingIntervalMillis=this.normalizeNumberInput(i.loggingIntervalMillis,{default:1e4,min:1e3,max:6e4}),this.loggingBufferMaxSize=this.normalizeNumberInput(i.loggingBufferMaxSize,{default:100,min:2,max:500}),this.disableNetworkKeepalive=null!==(S=i.disableNetworkKeepalive)&&void 0!==S&&S,this.overrideStableID=null!==(T=i.overrideStableID)&&void 0!==T?T:null,this.localMode=null!==(O=i.localMode)&&void 0!==O&&O,this.initTimeoutMs=i.initTimeoutMs&&i.initTimeoutMs>=0?i.initTimeoutMs:3e3,this.disableErrorLogging=null!==(I=i.disableErrorLogging)&&void 0!==I&&I,this.disableAutoMetricsLogging=null!==(N=i.disableAutoMetricsLogging)&&void 0!==N&&N,this.initializeValues=null!==(R=i.initializeValues)&&void 0!==R?R:null;let F=null!==(k=null!==(P=i.eventLoggingApi)&&void 0!==P?P:i.api)&&void 0!==k?k:"https://events.statsigapi.net/v1/";this.eventLoggingApi=F.endsWith("/")?F:F+"/",this.prefetchUsers=null!==(L=i.prefetchUsers)&&void 0!==L?L:[]}getApi(){return this.api}getEnvironment(){return this.environment}getDisableCurrentPageLogging(){return this.disableCurrentPageLogging}getLoggingIntervalMillis(){return this.loggingIntervalMillis}getLoggingBufferMaxSize(){return this.loggingBufferMaxSize}getDisableNetworkKeepalive(){return this.disableNetworkKeepalive}getOverrideStableID(){return this.overrideStableID}getLocalModeEnabled(){return this.localMode}getInitTimeoutMs(){return this.initTimeoutMs}getDisableErrorLogging(){return this.disableErrorLogging}getDisableAutoMetricsLogging(){return this.disableAutoMetricsLogging}getEventLoggingApi(){return this.eventLoggingApi}getPrefetchUsers(){return this.prefetchUsers}normalizeNumberInput(i,d){return null==i?d.default:Math.max(Math.min(i,d.max),d.min)}}},21822:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0}),d.EvaluationReason=void 0;const S=v(p(67678)),T=v(p(19586)),O=p(42095),I=p(9188),N=v(p(37053)),R=v(p(72553));var P;!function(i){i.Network="Network",i.Bootstrap="Bootstrap",i.Cache="Cache",i.Prefetch="Prefetch",i.Sticky="Sticky",i.LocalOverride="LocalOverride",i.Unrecognized="Unrecognized",i.Uninitialized="Uninitialized",i.Error="Error"}(P=d.EvaluationReason||(d.EvaluationReason={}));d.default=class StatsigStore{constructor(i){this.overrides={gates:{},configs:{}},this.sdkInternal=i,this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.values={},this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},time:0,evaluation_time:0},this.stickyDeviceExperiments={},this.loaded=!1,this.reason=P.Uninitialized,this.loadFromLocalStorage()}updateUser(i){return this.userCacheKey=this.sdkInternal.getCurrentUserCacheKey(),this.setUserValueFromCache(i)}async loadFromAsyncStorage(){this.parseCachedValues(await N.default.getItemAsync(O.INTERNAL_STORE_KEY),await N.default.getItemAsync(O.STICKY_DEVICE_EXPERIMENTS_KEY)),this.loaded=!0}bootstrap(i){var d,p,v;const S=this.sdkInternal.getCurrentUserCacheKey();this.loaded=!0;try{this.userValues.feature_gates=null!==(d=i.feature_gates)&&void 0!==d?d:{},this.userValues.dynamic_configs=null!==(p=i.dynamic_configs)&&void 0!==p?p:{},this.userValues.layer_configs=null!==(v=i.layer_configs)&&void 0!==v?v:{},this.userValues.evaluation_time=Date.now(),this.userValues.time=Date.now(),this.values[S]=this.userValues,this.reason=P.Bootstrap,this.loadOverrides()}catch(i){return}}loadFromLocalStorage(){N.default.asyncStorage||(this.parseCachedValues(R.default.getItem(O.INTERNAL_STORE_KEY),R.default.getItem(O.STICKY_DEVICE_EXPERIMENTS_KEY)),this.loaded=!0)}isLoaded(){return this.loaded}parseCachedValues(i,d){try{this.values=i?JSON.parse(i):this.values,this.setUserValueFromCache()}catch(i){this.removeFromStorage(O.INTERNAL_STORE_KEY)}try{const i=d?JSON.parse(d):null;i&&(this.stickyDeviceExperiments=i)}catch(i){this.removeFromStorage(O.STICKY_DEVICE_EXPERIMENTS_KEY)}this.loadOverrides()}setUserValueFromCache(i=!1){let d=this.values[this.userCacheKey];return null==d?(this.resetUserValues(),this.reason=P.Uninitialized,!1):(this.userValues=d,this.reason=i?P.Prefetch:P.Cache,!0)}removeFromStorage(i){N.default.removeItemAsync(i),R.default.removeItem(i)}loadOverrides(){const i=R.default.getItem(O.OVERRIDES_STORE_KEY);if(null!=i)try{this.overrides=JSON.parse(i)}catch(i){R.default.removeItem(O.OVERRIDES_STORE_KEY)}}async save(i,d){const p=d;if(p.prefetched_user_values){const i=Object.keys(p.prefetched_user_values);for(const d of i){const i=p.prefetched_user_values[d];this.values[d]=this.convertAPIDataToCacheValues(i,d)}}if(i){const d=this.convertAPIDataToCacheValues(p,i);this.values[i]=d,i==this.userCacheKey&&(this.userValues=d,this.reason=P.Network)}const v=Object.entries(this.values).sort((({1:i},{1:d})=>null==i?1:null==d?-1:(null==d?void 0:d.time)-(null==i?void 0:i.time))).slice(0,10);this.values=Object.fromEntries(v),N.default.asyncStorage?await N.default.setItemAsync(O.INTERNAL_STORE_KEY,JSON.stringify(this.values)):R.default.setItem(O.INTERNAL_STORE_KEY,JSON.stringify(this.values))}checkGate(i,d=!1){var p;const v=(0,I.getHashValue)(i);let S,T={value:!1,rule_id:"",secondary_exposures:[]};if(d||null==this.overrides.gates[i]){let i=null===(p=this.userValues)||void 0===p?void 0:p.feature_gates[v];i&&(T=i),S=this.getEvaluationDetails(null!=i)}else T={value:this.overrides.gates[i],rule_id:"override",secondary_exposures:[]},S=this.getEvaluationDetails(!1,P.LocalOverride);return this.sdkInternal.getLogger().logGateExposure(this.sdkInternal.getCurrentUser(),i,T.value,T.rule_id,T.secondary_exposures,S),!0===T.value}getConfig(i,d=!1){var p,v;const T=(0,I.getHashValue)(i);let O,N;if(d||null==this.overrides.configs[i])if(null!=(null===(p=this.userValues)||void 0===p?void 0:p.dynamic_configs[T])){const d=null===(v=this.userValues)||void 0===v?void 0:v.dynamic_configs[T];N=this.getEvaluationDetails(!0),O=this.createDynamicConfig(i,d,N)}else N=this.getEvaluationDetails(!1),O=new S.default(i,{},"",N);else N=this.getEvaluationDetails(!1,P.LocalOverride),O=new S.default(i,this.overrides.configs[i],"override",N);return this.sdkInternal.getLogger().logConfigExposure(this.sdkInternal.getCurrentUser(),i,O.getRuleID(),O._getSecondaryExposures(),N),O}getExperiment(i,d=!1,p=!1){let v,T;if(p||null==this.overrides.configs[i]){const p=this.getLatestValue(i,"dynamic_configs");T=this.getEvaluationDetails(null!=p);const S=this.getPossiblyStickyValue(i,p,d,!1,T);v=this.createDynamicConfig(i,S,T)}else T=this.getEvaluationDetails(!1,P.LocalOverride),v=new S.default(i,this.overrides.configs[i],"override",T);return this.sdkInternal.getLogger().logConfigExposure(this.sdkInternal.getCurrentUser(),i,v.getRuleID(),v._getSecondaryExposures(),T),v}getLayer(i,d){var p,v,S;const O=this.getLatestValue(i,"layer_configs"),I=this.getEvaluationDetails(null!=O),N=this.getPossiblyStickyValue(i,O,d,!0,I);return T.default._create(i,null!==(p=null==N?void 0:N.value)&&void 0!==p?p:{},null!==(v=null==N?void 0:N.rule_id)&&void 0!==v?v:"",I,this.sdkInternal,null==N?void 0:N.secondary_exposures,null==N?void 0:N.undelegated_secondary_exposures,null!==(S=null==N?void 0:N.allocated_experiment_name)&&void 0!==S?S:"",null==N?void 0:N.explicit_parameters)}overrideConfig(i,d){try{JSON.stringify(d)}catch(i){return void console.warn("Failed to stringify given config override.  Dropping",i)}this.overrides.configs[i]=d,this.saveOverrides()}overrideGate(i,d){this.overrides.gates[i]=d,this.saveOverrides()}removeGateOverride(i){null==i?this.overrides.gates={}:delete this.overrides.gates[i],this.saveOverrides()}removeConfigOverride(i){null==i?this.overrides.configs={}:delete this.overrides.configs[i],this.saveOverrides()}getAllOverrides(){return this.overrides}saveOverrides(){try{R.default.setItem(O.OVERRIDES_STORE_KEY,JSON.stringify(this.overrides))}catch(i){console.warn("Failed to persist gate/config overrides")}}getLatestValue(i,d){var p,v,S,T,O;const N=(0,I.getHashValue)(i);return null!==(S=null===(v=null===(p=this.userValues)||void 0===p?void 0:p[d])||void 0===v?void 0:v[N])&&void 0!==S?S:null===(O=null===(T=this.userValues)||void 0===T?void 0:T[d])||void 0===O?void 0:O[i]}getPossiblyStickyValue(i,d,p,v,S){var T;if(!p)return this.removeStickyValue(i),d;const O=this.getStickyValue(i);if(!O)return this.attemptToSaveStickyValue(i,d),d;let I=null;return I=v?this.getLatestValue(null!==(T=null==O?void 0:O.allocated_experiment_name)&&void 0!==T?T:"","dynamic_configs"):d,1==(null==I?void 0:I.is_experiment_active)?(S.reason=P.Sticky,O):(1==(null==d?void 0:d.is_experiment_active)?this.attemptToSaveStickyValue(i,d):this.removeStickyValue(i),d)}createDynamicConfig(i,d,p){var v,T,O;return new S.default(i,null!==(v=null==d?void 0:d.value)&&void 0!==v?v:{},null!==(T=null==d?void 0:d.rule_id)&&void 0!==T?T:"",p,null==d?void 0:d.secondary_exposures,null!==(O=null==d?void 0:d.allocated_experiment_name)&&void 0!==O?O:"")}getStickyValue(i){var d,p;const v=(0,I.getHashValue)(i);return null!==(p=null===(d=this.userValues)||void 0===d?void 0:d.sticky_experiments[v])&&void 0!==p?p:this.stickyDeviceExperiments[v]}attemptToSaveStickyValue(i,d){var p;if(!d)return;if(!d.is_user_in_experiment||!d.is_experiment_active)return;const v=(0,I.getHashValue)(i);!0===d.is_device_based?this.stickyDeviceExperiments[v]=d:(null===(p=this.userValues)||void 0===p?void 0:p.sticky_experiments)&&(this.userValues.sticky_experiments[v]=d),this.saveStickyValuesToStorage()}removeStickyValue(i){var d;const p=(0,I.getHashValue)(i);null===(d=this.userValues)||void 0===d||delete d.sticky_experiments[p],delete this.stickyDeviceExperiments[p],this.saveStickyValuesToStorage()}saveStickyValuesToStorage(){this.values[this.userCacheKey]=this.userValues,N.default.asyncStorage?(N.default.setItemAsync(O.INTERNAL_STORE_KEY,JSON.stringify(this.values)),N.default.setItemAsync(O.STICKY_DEVICE_EXPERIMENTS_KEY,JSON.stringify(this.stickyDeviceExperiments))):(R.default.setItem(O.INTERNAL_STORE_KEY,JSON.stringify(this.values)),R.default.setItem(O.STICKY_DEVICE_EXPERIMENTS_KEY,JSON.stringify(this.stickyDeviceExperiments)))}getGlobalEvaluationDetails(){var i,d;return{reason:null!==(i=this.reason)&&void 0!==i?i:P.Uninitialized,time:null!==(d=this.userValues.evaluation_time)&&void 0!==d?d:0}}getEvaluationDetails(i,d){var p;return i?{reason:this.reason,time:null!==(p=this.userValues.evaluation_time)&&void 0!==p?p:Date.now()}:{reason:null!=d?d:this.reason==P.Uninitialized?P.Uninitialized:P.Unrecognized,time:Date.now()}}resetUserValues(){this.userValues={feature_gates:{},dynamic_configs:{},sticky_experiments:{},layer_configs:{},time:0,evaluation_time:0}}convertAPIDataToCacheValues(i,d){var p,v;return{feature_gates:i.feature_gates,layer_configs:i.layer_configs,dynamic_configs:i.dynamic_configs,sticky_experiments:null!==(v=null===(p=this.values[d])||void 0===p?void 0:p.sticky_experiments)&&void 0!==v?v:{},time:Date.now(),evaluation_time:Date.now()}}}},41351:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0}),d.StatsigAsyncStorage=d.EvaluationReason=d.StatsigClient=d.Layer=d.DynamicConfig=void 0;const S=p(98098),T=v(p(24069)),O=p(21822),I=v(p(94922)),N=v(p(24043)),R=v(p(67211));var P=p(67678);Object.defineProperty(d,"DynamicConfig",{enumerable:!0,get:function(){return v(P).default}});var k=p(19586);Object.defineProperty(d,"Layer",{enumerable:!0,get:function(){return v(k).default}});var L=p(24069);Object.defineProperty(d,"StatsigClient",{enumerable:!0,get:function(){return v(L).default}});var M=p(21822);Object.defineProperty(d,"EvaluationReason",{enumerable:!0,get:function(){return M.EvaluationReason}});var F=p(37053);Object.defineProperty(d,"StatsigAsyncStorage",{enumerable:!0,get:function(){return v(F).default}}),(0,I.default)(),(0,N.default)(),(0,R.default)();class Statsig{constructor(){}static async initialize(i,d,p){var v;const S=null!==(v=Statsig.instance)&&void 0!==v?v:new T.default(i,d,p);return Statsig.instance||(Statsig.instance=S),S.initializeAsync()}static async prefetchUsers(i){return await Statsig.getClientX().prefetchUsers(i)}static setInitializeValues(i){Statsig.getClientX().setInitializeValues(i)}static checkGate(i,d=!1){return Statsig.getClientX().checkGate(i,d)}static getConfig(i,d=!1){return Statsig.getClientX().getConfig(i,d)}static getExperiment(i,d=!1,p=!1){return Statsig.getClientX().getExperiment(i,d,p)}static getLayer(i,d=!1){return Statsig.getClientX().getLayer(i,d)}static logEvent(i,d=null,p=null){return Statsig.getClientX().logEvent(i,d,p)}static updateUser(i){return Statsig.getClientX().updateUser(i)}static shutdown(){Statsig.getClientX().shutdown(),Statsig.instance=null}static overrideGate(i,d){Statsig.getClientX().overrideGate(i,d)}static overrideConfig(i,d){Statsig.getClientX().overrideConfig(i,d)}static removeOverride(i){Statsig.getClientX().removeOverride(i)}static removeGateOverride(i){Statsig.getClientX().removeGateOverride(i)}static removeConfigOverride(i){Statsig.getClientX().removeConfigOverride(i)}static getOverrides(){return Statsig.getClientX().getOverrides()}static getAllOverrides(){return Statsig.getClientX().getAllOverrides()}static getStableID(){return Statsig.getClientX().getStableID()}static getEvaluationDetails(){var i,d;return null!==(d=null===(i=Statsig.instance)||void 0===i?void 0:i.getEvaluationDetails())&&void 0!==d?d:{reason:O.EvaluationReason.Uninitialized,time:0}}static getClientX(){if(!Statsig.instance)throw new S.StatsigUninitializedError;return Statsig.instance}}d.default=Statsig,Statsig.encodeIntializeCall=!0,Statsig.instance=null},72872:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.Base64=void 0,d.Base64={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_encodeBinary:function(i){for(var d,p,v,S,T,O,I,N="",R=0;R<i.length;)S=(d=i.charCodeAt(R++))>>2,T=(3&d)<<4|(p=i.charCodeAt(R++))>>4,O=(15&p)<<2|(v=i.charCodeAt(R++))>>6,I=63&v,isNaN(p)?O=I=64:isNaN(v)&&(I=64),N=N+this._keyStr.charAt(S)+this._keyStr.charAt(T)+this._keyStr.charAt(O)+this._keyStr.charAt(I);return N},encodeArrayBuffer(i){for(var p="",v=new Uint8Array(i),S=v.byteLength,T=0;T<S;T++)p+=String.fromCharCode(v[T]);return d.Base64._encodeBinary(p)}}},42095:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.LOCAL_STORAGE_KEYS=d.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY=d.STATSIG_STABLE_ID_KEY=d.INTERNAL_STORE_KEY=d.STICKY_DEVICE_EXPERIMENTS_KEY=d.OVERRIDES_STORE_KEY=void 0,d.OVERRIDES_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3",d.STICKY_DEVICE_EXPERIMENTS_KEY="STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS",d.INTERNAL_STORE_KEY="STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4",d.STATSIG_STABLE_ID_KEY="STATSIG_LOCAL_STORAGE_STABLE_ID",d.STATSIG_LOCAL_STORAGE_LOGGING_REQUEST_KEY="STATSIG_LOCAL_STORAGE_LOGGING_REQUEST",d.LOCAL_STORAGE_KEYS={STATSIG_LOCAL_STORAGE_STABLE_ID:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_V4:!0,STATSIG_LOCAL_STORAGE_STICKY_DEVICE_EXPERIMENTS:!0,STATSIG_LOCAL_STORAGE_INTERNAL_STORE_OVERRIDES_V3:!0,STATSIG_LOCAL_STORAGE_LOGGING_REQUEST:!0}},9188:(i,d,p)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.getUserCacheKey=d.getHashValue=d.SimpleHash=void 0;const v=p(72023),S=p(72872);function SimpleHash(i){for(var d=0,p=0;p<i.length;p++){d=(d<<5)-d+i.charCodeAt(p),d&=d}return String(d)}d.SimpleHash=SimpleHash,d.getHashValue=function getHashValue(i){let d=v.sha256.create().update(i).arrayBuffer();return S.Base64.encodeArrayBuffer(d)},d.getUserCacheKey=function getUserCacheKey(i,d){var p;let v=`userID:${String(null!==(p=null==d?void 0:d.userID)&&void 0!==p?p:"")};stableID:${i}`;const S=null==d?void 0:d.customIDs;if(null!=S)for(const[i,d]of Object.entries(S))v+=`;${i}:${d}`;return SimpleHash(v)}},94922:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=function Polyfill(){Object.entries||(Object.entries=function(i){for(var d=Object.keys(i),p=d.length,v=new Array(p);p--;)v[p]=[d[p],i[d[p]]];return v})}},24043:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=function Polyfill(){Object.fromEntries||(Object.fromEntries=function(i){const d={};for(const p of i){if(Object(p)!==p)throw new TypeError("iterable for fromEntries should yield objects");const{0:i,1:v}=p;Object.defineProperty(d,i,{configurable:!0,enumerable:!0,writable:!0,value:v})}return d})}},67211:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.default=function Polyfill(){Promise.prototype.finally=Promise.prototype.finally||{finally(i){const onFinally=d=>Promise.resolve(i()).then(d);return this.then((i=>onFinally((()=>i))),(i=>onFinally((()=>Promise.reject(i)))))}}.finally}},37053:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});class StatsigAsyncStorage{static getItemAsync(i){var d;return StatsigAsyncStorage.asyncStorage?null!==(d=StatsigAsyncStorage.asyncStorage.getItem(i))&&void 0!==d?d:null:Promise.resolve(null)}static setItemAsync(i,d){return StatsigAsyncStorage.asyncStorage?StatsigAsyncStorage.asyncStorage.setItem(i,d):Promise.resolve()}static removeItemAsync(i){return StatsigAsyncStorage.asyncStorage?StatsigAsyncStorage.asyncStorage.removeItem(i):Promise.resolve()}}d.default=StatsigAsyncStorage},72553:(i,d,p)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0});const v=p(42095);class StatsigLocalStorage{static getItem(i){var d;try{if("undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage)return window.localStorage.getItem(i)}catch(i){}return null!==(d=this.fallbackSessionCache[i])&&void 0!==d?d:null}static setItem(i,d){try{if("undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage)return void window.localStorage.setItem(i,d)}catch(i){}this.fallbackSessionCache[i]=d}static removeItem(i){try{if("undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage)return void window.localStorage.removeItem(i)}catch(i){}delete this.fallbackSessionCache[i]}static cleanup(){try{if("undefined"!=typeof Storage&&"undefined"!=typeof window&&null!=window&&null!=window.localStorage)for(var i in window.localStorage)"string"==typeof window.localStorage[i]&&(null==i||i in v.LOCAL_STORAGE_KEYS||"STATSIG_LOCAL_STORAGE"===i.substring(0,21)&&window.localStorage.removeItem(i))}catch(i){}}}d.default=StatsigLocalStorage,StatsigLocalStorage.fallbackSessionCache={}},41749:function(i,d,p){"use strict";var v=this&&this.__decorate||function(i,d,p,v){var S,T=arguments.length,O=T<3?d:null===v?v=Object.getOwnPropertyDescriptor(d,p):v;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)O=Reflect.decorate(i,d,p,v);else for(var I=i.length-1;I>=0;I--)(S=i[I])&&(O=(T<3?S(O):T>3?S(d,p,O):S(d,p))||O);return T>3&&O&&Object.defineProperty(d,p,O),O},S=this&&this.__awaiter||function(i,d,p,v){return new(p||(p=Promise))((function(S,T){function fulfilled(i){try{step(v.next(i))}catch(i){T(i)}}function rejected(i){try{step(v.throw(i))}catch(i){T(i)}}function step(i){i.done?S(i.value):function adopt(i){return i instanceof p?i:new p((function(d){d(i)}))}(i.value).then(fulfilled,rejected)}step((v=v.apply(i,d||[])).next())}))},T=this&&this.__generator||function(i,d){var p,v,S,T,O={label:0,sent:function(){if(1&S[0])throw S[1];return S[1]},trys:[],ops:[]};return T={next:verb(0),throw:verb(1),return:verb(2)},"function"==typeof Symbol&&(T[Symbol.iterator]=function(){return this}),T;function verb(T){return function(I){return function step(T){if(p)throw new TypeError("Generator is already executing.");for(;O;)try{if(p=1,v&&(S=2&T[0]?v.return:T[0]?v.throw||((S=v.return)&&S.call(v),0):v.next)&&!(S=S.call(v,T[1])).done)return S;switch(v=0,S&&(T=[2&T[0],S.value]),T[0]){case 0:case 1:S=T;break;case 4:return O.label++,{value:T[1],done:!1};case 5:O.label++,v=T[1],T=[0];continue;case 7:T=O.ops.pop(),O.trys.pop();continue;default:if(!(S=O.trys,(S=S.length>0&&S[S.length-1])||6!==T[0]&&2!==T[0])){O=0;continue}if(3===T[0]&&(!S||T[1]>S[0]&&T[1]<S[3])){O.label=T[1];break}if(6===T[0]&&O.label<S[1]){O.label=S[1],S=T;break}if(S&&O.label<S[2]){O.label=S[2],O.ops.push(T);break}S[2]&&O.ops.pop(),O.trys.pop();continue}T=d.call(i,O)}catch(i){T=[6,i],v=0}finally{p=S=0}if(5&T[0])throw T[1];return{value:T[0]?T[1]:void 0,done:!0}}([T,I])}}};Object.defineProperty(d,"__esModule",{value:!0});var O=p(41351),I=p(77629),N=function(){function Statsig(d,p,v){if(null!=i.instance&&"silent"!==process.env.REACT_APP_STATSIG_SDK_MODE)throw new Error("Cannot create another instance of the static Statsig class");i.instance=new O.StatsigClient(d,p,v)}var i;return i=Statsig,Statsig.initialize=function(d,p,v){return S(this,void 0,void 0,(function(){return T(this,(function(S){try{return i.instance||(i.instance=new O.StatsigClient(d,p,v),i.instance.setSDKPackageInfo(this.sdkPackageInfo),i.instance.setAppState(this.appState),i.instance.setNativeModules(this.nativeModules),i.instance.setPlatform(this.platform),i.instance.setRNDeviceInfo(this.deviceInfo),i.instance.setExpoConstants(this.expoConstants),i.instance.setExpoDevice(this.expoDevice)),[2,i.instance.initializeAsync()]}catch(i){if("silent"!==process.env.REACT_APP_STATSIG_SDK_MODE)throw i}return[2,Promise.resolve()]}))}))},Statsig.bootstrap=function(d,p,v,S){null==i.instance?(i.instance=new O.StatsigClient(d,v,S),i.instance.setInitializeValues(p)):i.instance.setInitializeValues(p)},Statsig.prefetchUsers=function(d){return S(this,void 0,void 0,(function(){return T(this,(function(p){return[2,i.instance.prefetchUsers(d)]}))}))},Statsig.setInitializeValues=function(d){this.isInitialized()&&i.instance.setInitializeValues(d)},Statsig.checkGate=function(d,p){return void 0===p&&(p=!1),!!this.isInitialized()&&i.instance.checkGate(d,p)},Statsig.getConfig=function(d,p){return void 0===p&&(p=!1),this.isInitialized()?i.instance.getConfig(d,p):new O.DynamicConfig(d,{},"",{time:Date.now(),reason:O.EvaluationReason.Uninitialized})},Statsig.getExperiment=function(d,p,v){return void 0===p&&(p=!1),void 0===v&&(v=!1),this.isInitialized()?i.instance.getExperiment(d,p,v):new O.DynamicConfig(d,{},"",{time:Date.now(),reason:O.EvaluationReason.Uninitialized})},Statsig.getLayer=function(d,p){return void 0===p&&(p=!1),this.isInitialized()?i.instance.getLayer(d,p):O.Layer._create(d,{},"",{time:Date.now(),reason:O.EvaluationReason.Uninitialized})},Statsig.logEvent=function(d,p,v){void 0===p&&(p=null),void 0===v&&(v=null),this.isInitialized()&&i.instance.logEvent(d,p,v)},Statsig.updateUser=function(d){return this.isInitialized()?i.instance.updateUser(d):Promise.resolve(!1)},Statsig.shutdown=function(){this.isInitialized()&&i.instance.shutdown()},Statsig.overrideGate=function(d,p){this.isInitialized()&&i.instance.overrideGate(d,p)},Statsig.overrideConfig=function(d,p){this.isInitialized()&&i.instance.overrideConfig(d,p)},Statsig.removeGateOverride=function(d){this.isInitialized()&&i.instance.removeGateOverride(d)},Statsig.removeConfigOverride=function(d){this.isInitialized()&&i.instance.removeConfigOverride(d)},Statsig.getAllOverrides=function(){return this.isInitialized()?i.instance.getAllOverrides():{gates:{},configs:{}}},Statsig.getEvaluationDetails=function(){var d,p;return null!==(p=null===(d=i.instance)||void 0===d?void 0:d.getEvaluationDetails())&&void 0!==p?p:{reason:O.EvaluationReason.Uninitialized,time:0}},Statsig.getStableID=function(){return this.isInitialized()?i.instance.getStableID():""},Statsig.initializeCalled=function(){return null!=i.instance&&i.instance.initializeCalled()},Statsig.setSDKPackageInfo=function(d){i.sdkPackageInfo=d},Statsig.setReactNativeUUID=function(i){null!=i&&O.StatsigClient.setReactNativeUUID(i)},Statsig.setAsyncStorage=function(i){null!=i&&(O.StatsigAsyncStorage.asyncStorage=i)},Statsig.setAppState=function(d){null!=d&&(i.appState=d)},Statsig.setNativeModules=function(d){null!=d&&(i.nativeModules=d)},Statsig.setPlatform=function(d){null!=d&&(i.platform=d)},Statsig.setRNDeviceInfo=function(d){null!=d&&(i.deviceInfo=d)},Statsig.setExpoConstants=function(d){null!=d&&(i.expoConstants=d)},Statsig.setExpoDevice=function(d){null!=d&&(i.expoDevice=d)},Statsig.isInitialized=function(){if(i.instance)return!0;if("silent"!==process.env.REACT_APP_STATSIG_SDK_MODE)throw new Error("Call and wait for initialize() to finish first.");return!1},Statsig=i=v([(0,I.staticImplements)()],Statsig)}();d.default=N},55428:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var S=v(p(85351));d.default=S.default.createContext({initialized:!1,statsigPromise:null,userVersion:0,initStarted:!1})},56326:function(i,d,p){"use strict";var v=this&&this.__createBinding||(Object.create?function(i,d,p,v){void 0===v&&(v=p),Object.defineProperty(i,v,{enumerable:!0,get:function(){return d[p]}})}:function(i,d,p,v){void 0===v&&(v=p),i[v]=d[p]}),S=this&&this.__setModuleDefault||(Object.create?function(i,d){Object.defineProperty(i,"default",{enumerable:!0,value:d})}:function(i,d){i.default=d}),T=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var d={};if(null!=i)for(var p in i)"default"!==p&&Object.prototype.hasOwnProperty.call(i,p)&&v(d,i,p);return S(d,i),d},O=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var I=T(p(85351)),N=O(p(55428)),R=O(p(41749));d.default=function StatsigProvider(i){var d=i.children,v=i.sdkKey,S=i.user,T=i.options,O=i.waitForInitialization,P=i.initializingComponent,k=i.mountKey,L=i.shutdownOnUnmount,M=void 0!==L&&L,F=i._reactNativeDependencies,U=(0,I.useState)(!1),j=U[0],H=U[1],V=(0,I.useRef)(null),Y=(0,I.useState)(0),G=Y[0],W=Y[1],q=(0,I.useRef)(new Promise((function(i,d){V.current=i}))),Q=(0,I.useMemo)((function(){return S}),[JSON.stringify(S)]),X=function usePrevious(i){var d=(0,I.useRef)(null);return(0,I.useEffect)((function(){d.current=i}),[i]),d.current}(null!=k?k:null);(0,I.useEffect)((function(){var i,d,O,I,N,P,L,M,U,j,Y;if(R.default.initializeCalled()){q.current=new Promise((function(i,d){V.current=i}));var Z=void 0===k||X!==k;return Z&&H(!1),void R.default.updateUser(S).then((function(){V.current&&V.current(),W(G+1),Z&&H(!0)}))}R.default.setSDKPackageInfo(null!==(i=null==F?void 0:F.SDKPackageInfo)&&void 0!==i?i:{sdkType:"react-client",sdkVersion:null!==(O=null===(d=p(98037))||void 0===d?void 0:d.version)&&void 0!==O?O:""}),R.default.setAppState(null!==(I=null==F?void 0:F.AppState)&&void 0!==I?I:null),R.default.setAsyncStorage(null!==(N=null==F?void 0:F.AsyncStorage)&&void 0!==N?N:null),R.default.setNativeModules(null!==(P=null==F?void 0:F.NativeModules)&&void 0!==P?P:null),R.default.setPlatform(null!==(L=null==F?void 0:F.Platform)&&void 0!==L?L:null),R.default.setRNDeviceInfo(null!==(M=null==F?void 0:F.RNDevice)&&void 0!==M?M:null),R.default.setReactNativeUUID(null!==(U=null==F?void 0:F.ReactNativeUUID)&&void 0!==U?U:null),R.default.setExpoConstants(null!==(j=null==F?void 0:F.Constants)&&void 0!==j?j:null),R.default.setExpoDevice(null!==(Y=null==F?void 0:F.ExpoDevice)&&void 0!==Y?Y:null),R.default.initialize(v,Q,T).then((function(){H(!0),V.current&&V.current()}))}),[Q]),(0,I.useEffect)((function(){return function(){M&&R.default.shutdown()}}),[]);var Z=null;return!0!==O||O&&j?Z=d:O&&null!=P&&(Z=P),I.default.createElement(N.default.Provider,{value:{initialized:j,statsigPromise:q,userVersion:G,initStarted:R.default.initializeCalled()}},Z)}},77629:(i,d)=>{"use strict";Object.defineProperty(d,"__esModule",{value:!0}),d.staticImplements=void 0,d.staticImplements=function staticImplements(){return function(i){}}},38351:function(i,d,p){"use strict";var v=this&&this.__createBinding||(Object.create?function(i,d,p,v){void 0===v&&(v=p),Object.defineProperty(i,v,{enumerable:!0,get:function(){return d[p]}})}:function(i,d,p,v){void 0===v&&(v=p),i[v]=d[p]}),S=this&&this.__setModuleDefault||(Object.create?function(i,d){Object.defineProperty(i,"default",{enumerable:!0,value:d})}:function(i,d){i.default=d}),T=this&&this.__importStar||function(i){if(i&&i.__esModule)return i;var d={};if(null!=i)for(var p in i)"default"!==p&&Object.prototype.hasOwnProperty.call(i,p)&&v(d,i,p);return S(d,i),d},O=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var I=T(p(85351)),N=O(p(55428)),R=O(p(41749));d.default=function StatsigSynchronousProvider(i){var d=i.children,p=i.sdkKey,v=i.user,S=i.options,T=i.initializeValues,O=(0,I.useState)(0),P=O[0],k=O[1],L=(0,I.useState)(!0),M=L[0],F=L[1],U=(0,I.useRef)(!0),j=(0,I.useMemo)((function(){return v}),[JSON.stringify(v)]);return R.default.bootstrap(p,T,j,S),(0,I.useEffect)((function(){U.current?U.current=!1:(F(!1),R.default.updateUser(v).then((function(){k(P+1),F(!0)})))}),[j]),I.default.createElement(N.default.Provider,{value:{initialized:M,statsigPromise:null,userVersion:P,initStarted:R.default.initializeCalled()}},d)}},77898:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0}),d.StatsigSynchronousProvider=d.Layer=d.staticImplements=d.DynamicConfig=d.useStatsigLogEffect=d.useGate=d.usePrefetchUsers=d.useLayer=d.useExperiment=d.useConfig=d.StatsigProvider=d.StatsigContext=d.Statsig=void 0;var S=p(41351);Object.defineProperty(d,"DynamicConfig",{enumerable:!0,get:function(){return S.DynamicConfig}}),Object.defineProperty(d,"Layer",{enumerable:!0,get:function(){return S.Layer}});var T=v(p(41749));d.Statsig=T.default;var O=v(p(55428));d.StatsigContext=O.default;var I=v(p(56326));d.StatsigProvider=I.default;var N=p(77629);Object.defineProperty(d,"staticImplements",{enumerable:!0,get:function(){return N.staticImplements}});var R=v(p(56576));d.useConfig=R.default;var P=v(p(66541));d.useExperiment=P.default;var k=v(p(20424));d.useGate=k.default;var L=v(p(26058));d.useLayer=L.default;var M=v(p(49753));d.usePrefetchUsers=M.default;var F=v(p(26532));d.useStatsigLogEffect=F.default;var U=v(p(38351));d.StatsigSynchronousProvider=U.default},56576:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var S=p(85351),T=p(41351),O=v(p(55428)),I=v(p(41749));d.default=function default_1(i,d){var p=(0,S.useContext)(O.default),v=p.initialized,N=p.initStarted,R=p.userVersion;return{isLoading:!v,config:(0,S.useMemo)((function(){return N?I.default.getConfig(i,d):new T.DynamicConfig(i,{},"",{time:Date.now(),reason:T.EvaluationReason.Uninitialized})}),[v,N,i,R,d])}}},66541:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var S=p(85351),T=p(41351),O=v(p(55428)),I=v(p(41749));d.default=function default_1(i,d,p){void 0===d&&(d=!1);var v=(0,S.useContext)(O.default),N=v.initialized,R=v.initStarted,P=v.userVersion;return{isLoading:!N,config:(0,S.useMemo)((function(){return R?I.default.getExperiment(i,d,p):new T.DynamicConfig(i,{},"",{time:Date.now(),reason:T.EvaluationReason.Uninitialized})}),[N,R,i,P,d,p])}}},20424:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var S=p(85351),T=v(p(55428)),O=v(p(41749));d.default=function default_1(i,d){var p=(0,S.useContext)(T.default),v=p.initialized,I=p.userVersion,N=p.initStarted;return{isLoading:!v,value:(0,S.useMemo)((function(){return!!N&&O.default.checkGate(i,d)}),[v,N,i,I,d])}}},26058:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var S=p(85351),T=p(41351),O=v(p(41749)),I=v(p(55428));d.default=function default_1(i,d){void 0===d&&(d=!1);var p=(0,S.useContext)(I.default),v=p.initialized,N=p.initStarted,R=p.userVersion;return{isLoading:!v,layer:(0,S.useMemo)((function(){return N?O.default.getLayer(i,d):T.Layer._create(i,{},"",{time:Date.now(),reason:T.EvaluationReason.Uninitialized})}),[v,N,i,R,d])}}},49753:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var S=p(85351),T=v(p(55428)),O=v(p(41749));d.default=function default_1(i){var d=(0,S.useContext)(T.default).initStarted;(0,S.useEffect)((function(){d&&0!=i.length&&O.default.prefetchUsers(i)}),[d,i])}},26532:function(i,d,p){"use strict";var v=this&&this.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(d,"__esModule",{value:!0});var S=p(85351),T=v(p(55428)),O=v(p(41749));d.default=function default_1(i,d,p){var v=(0,S.useContext)(T.default).initStarted;(0,S.useEffect)((function(){v&&O.default.logEvent(i,d,p)}),[v])}},34760:i=>{i.exports=function(i,d){d=d||{};var p,v,S,T=i.ownerDocument||i,O=[],I=[],N=function createIsUnavailable(i){var d=[];function isOff(p,v){if(p===i.documentElement)return!1;for(var S=0,T=d.length;S<T;S++)if(d[S][0]===p)return d[S][1];var O=!1;return"none"===(v=v||i.defaultView.getComputedStyle(p)).display?O=!0:p.parentNode&&(O=isOff(p.parentNode)),d.push([p,O]),O}return function isUnavailable(d){if(d===i.documentElement)return!1;var p=i.defaultView.getComputedStyle(d);return!!isOff(d,p)||"hidden"===p.visibility}}(T),R=["input","select","a[href]","textarea","button","[tabindex]"],P=i.querySelectorAll(R.join(","));if(d.includeContainer){var k=Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;R.some((function(d){return k.call(i,d)}))&&(P=Array.prototype.slice.apply(P)).unshift(i)}for(var L=0,M=P.length;L<M;L++)p=P[L],v=parseInt(p.getAttribute("tabindex"),10),(S=isNaN(v)?p.tabIndex:v)<0||"INPUT"===p.tagName&&"hidden"===p.type||p.disabled||N(p,T)||(0===S?O.push(p):I.push({index:L,tabIndex:S,node:p}));var F=I.sort((function(i,d){return i.tabIndex===d.tabIndex?i.index-d.index:i.tabIndex-d.tabIndex})).map((function(i){return i.node}));return Array.prototype.push.apply(F,O),F}},6477:(i,d,p)=>{"use strict";p.d(d,{x9:()=>P,CN:()=>M,en:()=>T});var v=/^(([^:\\\/]+:)\/\/(([^:\\\/]*)(:(\d+))?)?)?(([^\?#]*[\\\/])?(([^\\\/\?#]*?)(\.([^\.\?#]+))?))(\?([^#]*))?(#(.*))?$/,S=["href","fullDomain","protocol","host","hostname","","port","pathname","folderPath","file","fileName","extension","fileType","search","query","hash","anchor"];const T=function parseUrl(i){var d=i&&i.match(v);return S.reduce((function(i,p,v){var S=i;return p&&(S[p]=function getUrlSegment(i){return d&&d[i]||""}(v)),S}),{})};var O=function splitOnQuery(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=arguments.length>1&&void 0!==arguments[1]&&arguments[1],p="".concat(i),v=p.indexOf("?");return v<0&&!d&&(v=p.length),{urlPath:p.slice(0,v),queryString:p.slice(v+1)}},I=function encode(i){return encodeURIComponent("".concat(i))},N=function decode(i){return null!=i?decodeURIComponent(i):""};function _toConsumableArray(i){return function _arrayWithoutHoles(i){if(Array.isArray(i)){for(var d=0,p=new Array(i.length);d<i.length;d++)p[d]=i[d];return p}}(i)||function _iterableToArray(i){if(Symbol.iterator in Object(i)||"[object Arguments]"===Object.prototype.toString.call(i))return Array.from(i)}(i)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var R={};const P=function formatQuery(i){var d=i;Array.isArray(d)&&(d=d.length<2?d[0]:Object.assign.apply(Object,[{}].concat(_toConsumableArray(d))));var p=d||R;return Object.keys(p).reduce((function(i,d){var v,S=i;return d&&null!=(v=p[d])&&S.push("".concat(I(d),"=").concat(I(v))),S}),[]).join("&")};function _slicedToArray(i,d){return function _arrayWithHoles(i){if(Array.isArray(i))return i}(i)||function _iterableToArrayLimit(i,d){var p=[],v=!0,S=!1,T=void 0;try{for(var O,I=i[Symbol.iterator]();!(v=(O=I.next()).done)&&(p.push(O.value),!d||p.length!==d);v=!0);}catch(i){S=!0,T=i}finally{try{v||null==I.return||I.return()}finally{if(S)throw T}}return p}(i,d)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}const k=function parseQuery(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",d=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],p=O(i,!1!==d),v=p.queryString,S=void 0===v?"":v;return S.split("&").reduce((function(i,d){var p=i,v=_slicedToArray(d.split("="),2),S=v[0],T=v[1];return S&&(p[N(S)]=N(T)),p}),{})};function formatUrl_toConsumableArray(i){return function formatUrl_arrayWithoutHoles(i){if(Array.isArray(i)){for(var d=0,p=new Array(i.length);d<i.length;d++)p[d]=i[d];return p}}(i)||formatUrl_iterableToArray(i)||function formatUrl_nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _toArray(i){return function formatUrl_arrayWithHoles(i){if(Array.isArray(i))return i}(i)||formatUrl_iterableToArray(i)||function formatUrl_nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function formatUrl_iterableToArray(i){if(Symbol.iterator in Object(i)||"[object Arguments]"===Object.prototype.toString.call(i))return Array.from(i)}var L=[];const M=function formatUrl(i,d){var p=i,v=d;if(Array.isArray(p)){var S=_toArray(p),T=S[0];v=S.slice(1).concat(v||L),p=T}var I=k(p,!1),N=Array.isArray(v)?v:[v],R=P([I].concat(formatUrl_toConsumableArray(N)));return O(p).urlPath+(R?"?":"")+R}},21614:(i,d,p)=>{"use strict";var v;p.r(d),p.d(d,{NIL:()=>W,parse:()=>U,stringify:()=>R,v1:()=>F,v3:()=>H,v4:()=>V,v5:()=>G,validate:()=>O,version:()=>q});var S=new Uint8Array(16);function rng(){if(!v&&!(v="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(S)}const T=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;const O=function validate(i){return"string"==typeof i&&T.test(i)};for(var I=[],N=0;N<256;++N)I.push((N+256).toString(16).substr(1));const R=function stringify(i){var d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,p=(I[i[d+0]]+I[i[d+1]]+I[i[d+2]]+I[i[d+3]]+"-"+I[i[d+4]]+I[i[d+5]]+"-"+I[i[d+6]]+I[i[d+7]]+"-"+I[i[d+8]]+I[i[d+9]]+"-"+I[i[d+10]]+I[i[d+11]]+I[i[d+12]]+I[i[d+13]]+I[i[d+14]]+I[i[d+15]]).toLowerCase();if(!O(p))throw TypeError("Stringified UUID is invalid");return p};var P,k,L=0,M=0;const F=function v1(i,d,p){var v=d&&p||0,S=d||new Array(16),T=(i=i||{}).node||P,O=void 0!==i.clockseq?i.clockseq:k;if(null==T||null==O){var I=i.random||(i.rng||rng)();null==T&&(T=P=[1|I[0],I[1],I[2],I[3],I[4],I[5]]),null==O&&(O=k=16383&(I[6]<<8|I[7]))}var N=void 0!==i.msecs?i.msecs:Date.now(),F=void 0!==i.nsecs?i.nsecs:M+1,U=N-L+(F-M)/1e4;if(U<0&&void 0===i.clockseq&&(O=O+1&16383),(U<0||N>L)&&void 0===i.nsecs&&(F=0),F>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");L=N,M=F,k=O;var j=(1e4*(268435455&(N+=122192928e5))+F)%4294967296;S[v++]=j>>>24&255,S[v++]=j>>>16&255,S[v++]=j>>>8&255,S[v++]=255&j;var H=N/4294967296*1e4&268435455;S[v++]=H>>>8&255,S[v++]=255&H,S[v++]=H>>>24&15|16,S[v++]=H>>>16&255,S[v++]=O>>>8|128,S[v++]=255&O;for(var V=0;V<6;++V)S[v+V]=T[V];return d||R(S)};const U=function parse(i){if(!O(i))throw TypeError("Invalid UUID");var d,p=new Uint8Array(16);return p[0]=(d=parseInt(i.slice(0,8),16))>>>24,p[1]=d>>>16&255,p[2]=d>>>8&255,p[3]=255&d,p[4]=(d=parseInt(i.slice(9,13),16))>>>8,p[5]=255&d,p[6]=(d=parseInt(i.slice(14,18),16))>>>8,p[7]=255&d,p[8]=(d=parseInt(i.slice(19,23),16))>>>8,p[9]=255&d,p[10]=(d=parseInt(i.slice(24,36),16))/1099511627776&255,p[11]=d/4294967296&255,p[12]=d>>>24&255,p[13]=d>>>16&255,p[14]=d>>>8&255,p[15]=255&d,p};function v35(i,d,p){function generateUUID(i,v,S,T){if("string"==typeof i&&(i=function stringToBytes(i){i=unescape(encodeURIComponent(i));for(var d=[],p=0;p<i.length;++p)d.push(i.charCodeAt(p));return d}(i)),"string"==typeof v&&(v=U(v)),16!==v.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var O=new Uint8Array(16+i.length);if(O.set(v),O.set(i,v.length),(O=p(O))[6]=15&O[6]|d,O[8]=63&O[8]|128,S){T=T||0;for(var I=0;I<16;++I)S[T+I]=O[I];return S}return R(O)}try{generateUUID.name=i}catch(i){}return generateUUID.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",generateUUID.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",generateUUID}function getOutputLength(i){return 14+(i+64>>>9<<4)+1}function safeAdd(i,d){var p=(65535&i)+(65535&d);return(i>>16)+(d>>16)+(p>>16)<<16|65535&p}function md5cmn(i,d,p,v,S,T){return safeAdd(function bitRotateLeft(i,d){return i<<d|i>>>32-d}(safeAdd(safeAdd(d,i),safeAdd(v,T)),S),p)}function md5ff(i,d,p,v,S,T,O){return md5cmn(d&p|~d&v,i,d,S,T,O)}function md5gg(i,d,p,v,S,T,O){return md5cmn(d&v|p&~v,i,d,S,T,O)}function md5hh(i,d,p,v,S,T,O){return md5cmn(d^p^v,i,d,S,T,O)}function md5ii(i,d,p,v,S,T,O){return md5cmn(p^(d|~v),i,d,S,T,O)}const j=function md5(i){if("string"==typeof i){var d=unescape(encodeURIComponent(i));i=new Uint8Array(d.length);for(var p=0;p<d.length;++p)i[p]=d.charCodeAt(p)}return function md5ToHexEncodedArray(i){for(var d=[],p=32*i.length,v="0123456789abcdef",S=0;S<p;S+=8){var T=i[S>>5]>>>S%32&255,O=parseInt(v.charAt(T>>>4&15)+v.charAt(15&T),16);d.push(O)}return d}(function wordsToMd5(i,d){i[d>>5]|=128<<d%32,i[getOutputLength(d)-1]=d;for(var p=1732584193,v=-271733879,S=-1732584194,T=271733878,O=0;O<i.length;O+=16){var I=p,N=v,R=S,P=T;p=md5ff(p,v,S,T,i[O],7,-680876936),T=md5ff(T,p,v,S,i[O+1],12,-389564586),S=md5ff(S,T,p,v,i[O+2],17,606105819),v=md5ff(v,S,T,p,i[O+3],22,-1044525330),p=md5ff(p,v,S,T,i[O+4],7,-176418897),T=md5ff(T,p,v,S,i[O+5],12,1200080426),S=md5ff(S,T,p,v,i[O+6],17,-1473231341),v=md5ff(v,S,T,p,i[O+7],22,-45705983),p=md5ff(p,v,S,T,i[O+8],7,1770035416),T=md5ff(T,p,v,S,i[O+9],12,-1958414417),S=md5ff(S,T,p,v,i[O+10],17,-42063),v=md5ff(v,S,T,p,i[O+11],22,-1990404162),p=md5ff(p,v,S,T,i[O+12],7,1804603682),T=md5ff(T,p,v,S,i[O+13],12,-40341101),S=md5ff(S,T,p,v,i[O+14],17,-1502002290),p=md5gg(p,v=md5ff(v,S,T,p,i[O+15],22,1236535329),S,T,i[O+1],5,-165796510),T=md5gg(T,p,v,S,i[O+6],9,-1069501632),S=md5gg(S,T,p,v,i[O+11],14,643717713),v=md5gg(v,S,T,p,i[O],20,-373897302),p=md5gg(p,v,S,T,i[O+5],5,-701558691),T=md5gg(T,p,v,S,i[O+10],9,38016083),S=md5gg(S,T,p,v,i[O+15],14,-660478335),v=md5gg(v,S,T,p,i[O+4],20,-405537848),p=md5gg(p,v,S,T,i[O+9],5,568446438),T=md5gg(T,p,v,S,i[O+14],9,-1019803690),S=md5gg(S,T,p,v,i[O+3],14,-187363961),v=md5gg(v,S,T,p,i[O+8],20,1163531501),p=md5gg(p,v,S,T,i[O+13],5,-1444681467),T=md5gg(T,p,v,S,i[O+2],9,-51403784),S=md5gg(S,T,p,v,i[O+7],14,1735328473),p=md5hh(p,v=md5gg(v,S,T,p,i[O+12],20,-1926607734),S,T,i[O+5],4,-378558),T=md5hh(T,p,v,S,i[O+8],11,-2022574463),S=md5hh(S,T,p,v,i[O+11],16,1839030562),v=md5hh(v,S,T,p,i[O+14],23,-35309556),p=md5hh(p,v,S,T,i[O+1],4,-1530992060),T=md5hh(T,p,v,S,i[O+4],11,1272893353),S=md5hh(S,T,p,v,i[O+7],16,-155497632),v=md5hh(v,S,T,p,i[O+10],23,-1094730640),p=md5hh(p,v,S,T,i[O+13],4,681279174),T=md5hh(T,p,v,S,i[O],11,-358537222),S=md5hh(S,T,p,v,i[O+3],16,-722521979),v=md5hh(v,S,T,p,i[O+6],23,76029189),p=md5hh(p,v,S,T,i[O+9],4,-640364487),T=md5hh(T,p,v,S,i[O+12],11,-421815835),S=md5hh(S,T,p,v,i[O+15],16,530742520),p=md5ii(p,v=md5hh(v,S,T,p,i[O+2],23,-995338651),S,T,i[O],6,-198630844),T=md5ii(T,p,v,S,i[O+7],10,1126891415),S=md5ii(S,T,p,v,i[O+14],15,-1416354905),v=md5ii(v,S,T,p,i[O+5],21,-57434055),p=md5ii(p,v,S,T,i[O+12],6,1700485571),T=md5ii(T,p,v,S,i[O+3],10,-1894986606),S=md5ii(S,T,p,v,i[O+10],15,-1051523),v=md5ii(v,S,T,p,i[O+1],21,-2054922799),p=md5ii(p,v,S,T,i[O+8],6,1873313359),T=md5ii(T,p,v,S,i[O+15],10,-30611744),S=md5ii(S,T,p,v,i[O+6],15,-1560198380),v=md5ii(v,S,T,p,i[O+13],21,1309151649),p=md5ii(p,v,S,T,i[O+4],6,-145523070),T=md5ii(T,p,v,S,i[O+11],10,-1120210379),S=md5ii(S,T,p,v,i[O+2],15,718787259),v=md5ii(v,S,T,p,i[O+9],21,-343485551),p=safeAdd(p,I),v=safeAdd(v,N),S=safeAdd(S,R),T=safeAdd(T,P)}return[p,v,S,T]}(function bytesToWords(i){if(0===i.length)return[];for(var d=8*i.length,p=new Uint32Array(getOutputLength(d)),v=0;v<d;v+=8)p[v>>5]|=(255&i[v/8])<<v%32;return p}(i),8*i.length))};const H=v35("v3",48,j);const V=function v4(i,d,p){var v=(i=i||{}).random||(i.rng||rng)();if(v[6]=15&v[6]|64,v[8]=63&v[8]|128,d){p=p||0;for(var S=0;S<16;++S)d[p+S]=v[S];return d}return R(v)};function f(i,d,p,v){switch(i){case 0:return d&p^~d&v;case 1:case 3:return d^p^v;case 2:return d&p^d&v^p&v}}function ROTL(i,d){return i<<d|i>>>32-d}const Y=function sha1(i){var d=[1518500249,1859775393,2400959708,3395469782],p=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof i){var v=unescape(encodeURIComponent(i));i=[];for(var S=0;S<v.length;++S)i.push(v.charCodeAt(S))}else Array.isArray(i)||(i=Array.prototype.slice.call(i));i.push(128);for(var T=i.length/4+2,O=Math.ceil(T/16),I=new Array(O),N=0;N<O;++N){for(var R=new Uint32Array(16),P=0;P<16;++P)R[P]=i[64*N+4*P]<<24|i[64*N+4*P+1]<<16|i[64*N+4*P+2]<<8|i[64*N+4*P+3];I[N]=R}I[O-1][14]=8*(i.length-1)/Math.pow(2,32),I[O-1][14]=Math.floor(I[O-1][14]),I[O-1][15]=8*(i.length-1)&4294967295;for(var k=0;k<O;++k){for(var L=new Uint32Array(80),M=0;M<16;++M)L[M]=I[k][M];for(var F=16;F<80;++F)L[F]=ROTL(L[F-3]^L[F-8]^L[F-14]^L[F-16],1);for(var U=p[0],j=p[1],H=p[2],V=p[3],Y=p[4],G=0;G<80;++G){var W=Math.floor(G/20),q=ROTL(U,5)+f(W,j,H,V)+Y+d[W]+L[G]>>>0;Y=V,V=H,H=ROTL(j,30)>>>0,j=U,U=q}p[0]=p[0]+U>>>0,p[1]=p[1]+j>>>0,p[2]=p[2]+H>>>0,p[3]=p[3]+V>>>0,p[4]=p[4]+Y>>>0}return[p[0]>>24&255,p[0]>>16&255,p[0]>>8&255,255&p[0],p[1]>>24&255,p[1]>>16&255,p[1]>>8&255,255&p[1],p[2]>>24&255,p[2]>>16&255,p[2]>>8&255,255&p[2],p[3]>>24&255,p[3]>>16&255,p[3]>>8&255,255&p[3],p[4]>>24&255,p[4]>>16&255,p[4]>>8&255,255&p[4]]};const G=v35("v5",80,Y),W="00000000-0000-0000-0000-000000000000";const q=function version(i){if(!O(i))throw TypeError("Invalid UUID");return parseInt(i.substr(14,1),16)}},97326:(i,d,p)=>{"use strict";function _assertThisInitialized(i){if(void 0===i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i}p.d(d,{Z:()=>_assertThisInitialized})},43144:(i,d,p)=>{"use strict";function _defineProperties(i,d){for(var p=0;p<d.length;p++){var v=d[p];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(i,v.key,v)}}function _createClass(i,d,p){return d&&_defineProperties(i.prototype,d),p&&_defineProperties(i,p),i}p.d(d,{Z:()=>_createClass})},61120:(i,d,p)=>{"use strict";function _getPrototypeOf(i){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function _getPrototypeOf(i){return i.__proto__||Object.getPrototypeOf(i)},_getPrototypeOf(i)}p.d(d,{Z:()=>_getPrototypeOf})},94578:(i,d,p)=>{"use strict";p.d(d,{Z:()=>_inheritsLoose});var v=p(89611);function _inheritsLoose(i,d){i.prototype=Object.create(d.prototype),i.prototype.constructor=i,(0,v.Z)(i,d)}},89611:(i,d,p)=>{"use strict";function _setPrototypeOf(i,d){return _setPrototypeOf=Object.setPrototypeOf||function _setPrototypeOf(i,d){return i.__proto__=d,i},_setPrototypeOf(i,d)}p.d(d,{Z:()=>_setPrototypeOf})},40780:i=>{"use strict";i.exports=JSON.parse('{"name":"statsig-js","version":"4.20.0","description":"Statsig JavaScript client SDK for single user environments.","main":"dist/index.js","types":"dist/index.d.ts","scripts":{"prepare":"rm -rf build/ && rm -rf dist/ && tsc && webpack","postbuild":"rm -rf build/**/*.map","test":"jest","test:watch":"jest --watch","build:dryrun":"npx tsc src/**/*.ts --noEmit --resolveJsonModule true","types":"npx tsc"},"files":["build/statsig-prod-web-sdk.js","dist/*.js","dist/*.d.ts","dist/utils/*.js","dist/utils/*.d.ts"],"jsdelivr":"build/statsig-prod-web-sdk.js","repository":{"type":"git","url":"git+https://github.com/statsig-io/js-client-sdk.git"},"author":"Statsig, Inc.","license":"ISC","bugs":{"url":"https://github.com/statsig-io/js-client-sdk/issues"},"keywords":["feature gate","feature flag","continuous deployment","ci","ab test"],"homepage":"https://www.statsig.com","devDependencies":{"@babel/preset-env":"^7.14.9","@babel/preset-typescript":"^7.14.5","@types/jest":"^26.0.20","@types/uuid":"^8.3.1","core-js":"^3.16.4","jest":"^27.1.0","terser-webpack-plugin":"^5.1.4","ts-loader":"^9.2.3","typescript":"^4.2.2","webpack":"^5.48.0","webpack-cli":"^4.7.2"},"dependencies":{"js-sha256":"^0.9.0","uuid":"^8.3.2","whatwg-fetch":"^3.6.2"},"importSort":{".js, .jsx, .ts, .tsx":{"style":"module","parser":"typescript"}}}')},98037:i=>{"use strict";i.exports=JSON.parse('{"name":"statsig-react","version":"1.15.0","description":"An SDK for using Statsig Feature Management and Experimentation platform in React clients","main":"dist/index.js","types":"dist/index.d.ts","scripts":{"prepare":"rm -rf dist/ && tsc","test":"jest --verbose"},"repository":{"type":"git","url":"git+https://github.com/statsig-io/react-sdk.git"},"keywords":["Feature","Flag","Management","A/B","Test"],"author":"Statsig, Inc","license":"ISC","bugs":{"url":"https://github.com/statsig-io/react-sdk/issues"},"homepage":"https://github.com/statsig-io/react-sdk#readme","devDependencies":{"@testing-library/jest-dom":"^5.14.1","@testing-library/react":"^12.1.2","@types/jest":"^27.0.2","@types/node":"^16.7.9","@types/react":"^17.0.9","@types/react-dom":"^17.0.9","jest":"^27.2.5","ts-jest":"^27.0.5","typescript":"^4.3.2"},"dependencies":{"statsig-js":"4.20.0"},"peerDependencies":{"react":"^16.6.3 || ^17.0.0 || ^18.0.0","react-dom":"^16.8.4 || ^17.0.0 || ^18.0.0"}}')}}]);
//# sourceMappingURL=vendor.5aff2dd295778a95917a.web.js.map